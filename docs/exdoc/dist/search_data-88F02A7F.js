searchData={"items":[{"type":"module","title":"BaladosSyncCore","doc":"BaladosSyncCore keeps the contexts that define your domain\nand business logic.\n\nContexts are also responsible for managing your data, regardless\nif it comes from the database, an external API or others.","ref":"BaladosSyncCore.html"},{"type":"module","title":"BaladosSyncCore.Commands.AddFeedToCollection","doc":"Adds a podcast feed to a collection.\n\nThe feed must already be subscribed by the user.","ref":"BaladosSyncCore.Commands.AddFeedToCollection.html"},{"type":"type","title":"BaladosSyncCore.Commands.AddFeedToCollection.t/0","doc":"","ref":"BaladosSyncCore.Commands.AddFeedToCollection.html#t:t/0"},{"type":"module","title":"BaladosSyncCore.Commands.ChangeCollectionVisibility","doc":"Command to change the public visibility of a collection.\n\nThis command is dispatched when a user wants to make their collection\npublicly visible or private.","ref":"BaladosSyncCore.Commands.ChangeCollectionVisibility.html"},{"type":"module","title":"Fields - BaladosSyncCore.Commands.ChangeCollectionVisibility","doc":"- `user_id` - Unique identifier for the user\n- `collection_id` - UUID of the collection to update\n- `is_public` - Whether the collection should be publicly visible\n- `event_infos` - Map containing device_id and device_name for audit trail","ref":"BaladosSyncCore.Commands.ChangeCollectionVisibility.html#module-fields"},{"type":"module","title":"Example - BaladosSyncCore.Commands.ChangeCollectionVisibility","doc":"%ChangeCollectionVisibility{\n      user_id: \"user-123\",\n      collection_id: \"collection-456\",\n      is_public: true,\n      event_infos: %{device_id: \"device-000\", device_name: \"Web Browser\"}\n    }","ref":"BaladosSyncCore.Commands.ChangeCollectionVisibility.html#module-example"},{"type":"type","title":"BaladosSyncCore.Commands.ChangeCollectionVisibility.t/0","doc":"","ref":"BaladosSyncCore.Commands.ChangeCollectionVisibility.html#t:t/0"},{"type":"module","title":"BaladosSyncCore.Commands.ChangePlaylistVisibility","doc":"Command to change the public visibility of a playlist.\n\nThis command is dispatched when a user wants to make their playlist\npublicly visible or private.","ref":"BaladosSyncCore.Commands.ChangePlaylistVisibility.html"},{"type":"module","title":"Fields - BaladosSyncCore.Commands.ChangePlaylistVisibility","doc":"- `user_id` - Unique identifier for the user\n- `playlist_id` - UUID of the playlist to update\n- `is_public` - Whether the playlist should be publicly visible\n- `event_infos` - Map containing device_id and device_name for audit trail","ref":"BaladosSyncCore.Commands.ChangePlaylistVisibility.html#module-fields"},{"type":"module","title":"Example - BaladosSyncCore.Commands.ChangePlaylistVisibility","doc":"%ChangePlaylistVisibility{\n      user_id: \"user-123\",\n      playlist_id: \"playlist-456\",\n      is_public: true,\n      event_infos: %{device_id: \"device-000\", device_name: \"Web Browser\"}\n    }","ref":"BaladosSyncCore.Commands.ChangePlaylistVisibility.html#module-example"},{"type":"type","title":"BaladosSyncCore.Commands.ChangePlaylistVisibility.t/0","doc":"","ref":"BaladosSyncCore.Commands.ChangePlaylistVisibility.html#t:t/0"},{"type":"module","title":"BaladosSyncCore.Commands.CreateCollection","doc":"Creates a new collection for organizing subscriptions.\n\nCollections allow users to group podcast feeds together.\nThe default collection (is_default: true) automatically includes all new subscriptions.\n\nOptional fields:\n- `collection_id` - If provided, uses this ID instead of generating one.\n- `is_default` - If true, marks this as the default collection (default: false).","ref":"BaladosSyncCore.Commands.CreateCollection.html"},{"type":"type","title":"BaladosSyncCore.Commands.CreateCollection.t/0","doc":"","ref":"BaladosSyncCore.Commands.CreateCollection.html#t:t/0"},{"type":"module","title":"BaladosSyncCore.Commands.CreatePlaylist","doc":"Creates a new playlist for organizing saved episodes.\n\nPlaylists allow users to group episodes together in ordered lists.\n\nOptional fields:\n- `playlist_id` - If provided, uses this ID instead of generating one from the name.\n- `description` - Optional description for the playlist.","ref":"BaladosSyncCore.Commands.CreatePlaylist.html"},{"type":"type","title":"BaladosSyncCore.Commands.CreatePlaylist.t/0","doc":"","ref":"BaladosSyncCore.Commands.CreatePlaylist.html#t:t/0"},{"type":"module","title":"BaladosSyncCore.Commands.DeleteCollection","doc":"Deletes a collection.\n\nDefault collections cannot be deleted - attempting to do so will fail.","ref":"BaladosSyncCore.Commands.DeleteCollection.html"},{"type":"type","title":"BaladosSyncCore.Commands.DeleteCollection.t/0","doc":"","ref":"BaladosSyncCore.Commands.DeleteCollection.html#t:t/0"},{"type":"module","title":"BaladosSyncCore.Commands.DeletePlaylist","doc":"Deletes a playlist.\n\nThis command soft-deletes the playlist and all its items.\nThe playlist cannot be recovered after deletion.","ref":"BaladosSyncCore.Commands.DeletePlaylist.html"},{"type":"type","title":"BaladosSyncCore.Commands.DeletePlaylist.t/0","doc":"","ref":"BaladosSyncCore.Commands.DeletePlaylist.html#t:t/0"},{"type":"module","title":"BaladosSyncCore.Commands.RemoveFeedFromCollection","doc":"Removes a podcast feed from a collection.\n\nThe feed will be unlinked from the collection but the subscription remains.","ref":"BaladosSyncCore.Commands.RemoveFeedFromCollection.html"},{"type":"type","title":"BaladosSyncCore.Commands.RemoveFeedFromCollection.t/0","doc":"","ref":"BaladosSyncCore.Commands.RemoveFeedFromCollection.html#t:t/0"},{"type":"module","title":"BaladosSyncCore.Commands.ReorderCollectionFeed","doc":"Command to reorder a feed within a collection.\n\nThis command changes the position of a feed in a collection's ordered list.\nThe new_position is the target index (0-based) where the feed should be moved.","ref":"BaladosSyncCore.Commands.ReorderCollectionFeed.html"},{"type":"module","title":"BaladosSyncCore.Commands.ReorderPlaylist","doc":"Command to reorder episodes in a playlist.\n\nThis command is dispatched when a user wants to change the order of episodes in a playlist.\nIt results in a `PlaylistReordered` event being persisted to the event store.","ref":"BaladosSyncCore.Commands.ReorderPlaylist.html"},{"type":"module","title":"Fields - BaladosSyncCore.Commands.ReorderPlaylist","doc":"- `user_id` - Unique identifier for the user\n- `playlist_slug` - URL-friendly slug for the playlist (e.g., \"my-favorites\")\n- `items` - List of items with new positions, each item is: `{rss_source_feed, rss_source_item, new_position}`\n- `event_infos` - Map containing device_id and device_name for audit trail","ref":"BaladosSyncCore.Commands.ReorderPlaylist.html#module-fields"},{"type":"module","title":"Example - BaladosSyncCore.Commands.ReorderPlaylist","doc":"%ReorderPlaylist{\n      user_id: \"user-123\",\n      playlist_slug: \"my-favorites\",\n      items: [\n        {\"feed1\", \"item1\", 0},\n        {\"feed2\", \"item2\", 1},\n        {\"feed3\", \"item3\", 2}\n      ],\n      event_infos: %{device_id: \"device-000\", device_name: \"iPhone\"}\n    }","ref":"BaladosSyncCore.Commands.ReorderPlaylist.html#module-example"},{"type":"type","title":"BaladosSyncCore.Commands.ReorderPlaylist.t/0","doc":"","ref":"BaladosSyncCore.Commands.ReorderPlaylist.html#t:t/0"},{"type":"module","title":"BaladosSyncCore.Commands.UnsaveEpisode","doc":"Command to remove an episode from a playlist.\n\nThis command is dispatched when a user wants to remove a saved episode from a playlist.\nIt results in an `EpisodeUnsaved` event being persisted to the event store.","ref":"BaladosSyncCore.Commands.UnsaveEpisode.html"},{"type":"module","title":"Fields - BaladosSyncCore.Commands.UnsaveEpisode","doc":"- `user_id` - Unique identifier for the user\n- `playlist` - Name of the playlist\n- `rss_source_feed` - Base64-encoded RSS feed URL\n- `rss_source_item` - Unique identifier for the episode\n- `event_infos` - Map containing device_id and device_name for audit trail","ref":"BaladosSyncCore.Commands.UnsaveEpisode.html#module-fields"},{"type":"module","title":"Example - BaladosSyncCore.Commands.UnsaveEpisode","doc":"%UnsaveEpisode{\n      user_id: \"user-123\",\n      playlist: \"My Favorites\",\n      rss_source_feed: \"aHR0cHM6Ly9mZWVkcy5leGFtcGxlLmNvbS9wb2RjYXN0\",\n      rss_source_item: \"episode-789\",\n      event_infos: %{device_id: \"device-000\", device_name: \"iPhone\"}\n    }","ref":"BaladosSyncCore.Commands.UnsaveEpisode.html#module-example"},{"type":"type","title":"BaladosSyncCore.Commands.UnsaveEpisode.t/0","doc":"","ref":"BaladosSyncCore.Commands.UnsaveEpisode.html#t:t/0"},{"type":"module","title":"BaladosSyncCore.Commands.UpdateCollection","doc":"Updates a collection's properties.\n\nCurrently supports updating the title.","ref":"BaladosSyncCore.Commands.UpdateCollection.html"},{"type":"type","title":"BaladosSyncCore.Commands.UpdateCollection.t/0","doc":"","ref":"BaladosSyncCore.Commands.UpdateCollection.html#t:t/0"},{"type":"module","title":"BaladosSyncCore.Commands.UpdatePlaylist","doc":"Command to update playlist metadata.\n\nThis command is dispatched when a user wants to update the information of an existing playlist\n(e.g., change its name or description).\nIt results in a `PlaylistUpdated` event being persisted to the event store.","ref":"BaladosSyncCore.Commands.UpdatePlaylist.html"},{"type":"module","title":"Fields - BaladosSyncCore.Commands.UpdatePlaylist","doc":"- `user_id` - Unique identifier for the user\n- `playlist_slug` - URL-friendly slug for the playlist (e.g., \"my-favorites\")\n- `name` - New name for the playlist (optional, only update if provided)\n- `description` - New description for the playlist (optional, only update if provided)\n- `event_infos` - Map containing device_id and device_name for audit trail","ref":"BaladosSyncCore.Commands.UpdatePlaylist.html#module-fields"},{"type":"module","title":"Example - BaladosSyncCore.Commands.UpdatePlaylist","doc":"%UpdatePlaylist{\n      user_id: \"user-123\",\n      playlist_slug: \"my-favorites\",\n      name: \"Updated Playlist Name\",\n      description: \"Updated description\",\n      event_infos: %{device_id: \"device-000\", device_name: \"iPhone\"}\n    }","ref":"BaladosSyncCore.Commands.UpdatePlaylist.html#module-example"},{"type":"type","title":"BaladosSyncCore.Commands.UpdatePlaylist.t/0","doc":"","ref":"BaladosSyncCore.Commands.UpdatePlaylist.html#t:t/0"},{"type":"module","title":"BaladosSyncCore.Events.CollectionCreated","doc":"Emitted when a new collection is created.","ref":"BaladosSyncCore.Events.CollectionCreated.html"},{"type":"module","title":"BaladosSyncCore.Events.CollectionDeleted","doc":"Emitted when a collection is deleted.","ref":"BaladosSyncCore.Events.CollectionDeleted.html"},{"type":"module","title":"BaladosSyncCore.Events.CollectionFeedReordered","doc":"Emitted when a feed's position within a collection is changed.\n\nContains the new ordered list of feeds for the collection to ensure\nconsistent state reconstruction during event replay.","ref":"BaladosSyncCore.Events.CollectionFeedReordered.html"},{"type":"module","title":"BaladosSyncCore.Events.CollectionUpdated","doc":"Emitted when a collection's properties are updated.","ref":"BaladosSyncCore.Events.CollectionUpdated.html"},{"type":"module","title":"BaladosSyncCore.Events.CollectionVisibilityChanged","doc":"Event emitted when a collection's visibility is changed.","ref":"BaladosSyncCore.Events.CollectionVisibilityChanged.html"},{"type":"module","title":"BaladosSyncCore.Events.EpisodeUnsaved","doc":"","ref":"BaladosSyncCore.Events.EpisodeUnsaved.html"},{"type":"module","title":"BaladosSyncCore.Events.FeedAddedToCollection","doc":"Emitted when a feed is added to a collection.","ref":"BaladosSyncCore.Events.FeedAddedToCollection.html"},{"type":"module","title":"BaladosSyncCore.Events.FeedRemovedFromCollection","doc":"Emitted when a feed is removed from a collection.","ref":"BaladosSyncCore.Events.FeedRemovedFromCollection.html"},{"type":"module","title":"BaladosSyncCore.Events.PlaylistCreated","doc":"Emitted when a new playlist is explicitly created.","ref":"BaladosSyncCore.Events.PlaylistCreated.html"},{"type":"module","title":"BaladosSyncCore.Events.PlaylistDeleted","doc":"Emitted when a playlist is deleted.","ref":"BaladosSyncCore.Events.PlaylistDeleted.html"},{"type":"module","title":"BaladosSyncCore.Events.PlaylistReordered","doc":"","ref":"BaladosSyncCore.Events.PlaylistReordered.html"},{"type":"module","title":"BaladosSyncCore.Events.PlaylistUpdated","doc":"","ref":"BaladosSyncCore.Events.PlaylistUpdated.html"},{"type":"module","title":"BaladosSyncCore.Events.PlaylistVisibilityChanged","doc":"Event emitted when a playlist's visibility is changed.","ref":"BaladosSyncCore.Events.PlaylistVisibilityChanged.html"},{"type":"module","title":"BaladosSyncCore.Mailer","doc":"","ref":"BaladosSyncCore.Mailer.html"},{"type":"function","title":"BaladosSyncCore.Mailer.deliver/2","doc":"Delivers an email.\n\nIf the email is delivered it returns an `{:ok, result}` tuple. If it fails,\nreturns an `{:error, error}` tuple.","ref":"BaladosSyncCore.Mailer.html#deliver/2"},{"type":"function","title":"BaladosSyncCore.Mailer.deliver!/2","doc":"Delivers an email, raises on error.\n\nIf the email is delivered, it returns the result. If it fails, it raises\na `DeliveryError`.","ref":"BaladosSyncCore.Mailer.html#deliver!/2"},{"type":"function","title":"BaladosSyncCore.Mailer.deliver_many/2","doc":"Delivers a list of emails.\n\nIt accepts a list of `%Swoosh.Email{}` as its first parameter.","ref":"BaladosSyncCore.Mailer.html#deliver_many/2"},{"type":"module","title":"BaladosSyncCore.OwnershipEmails","doc":"Email templates for podcast ownership verification.\n\nUses Swoosh for email composition and delivery.\nIn development, emails can be previewed at /dev/mailbox.","ref":"BaladosSyncCore.OwnershipEmails.html"},{"type":"function","title":"BaladosSyncCore.OwnershipEmails.deliver_verification_email/4","doc":"Delivers the verification email using the configured mailer.\n\nReturns {:ok, email} on success or {:error, reason} on failure.","ref":"BaladosSyncCore.OwnershipEmails.html#deliver_verification_email/4"},{"type":"function","title":"BaladosSyncCore.OwnershipEmails.ownership_verification_email/4","doc":"Builds the ownership verification email.","ref":"BaladosSyncCore.OwnershipEmails.html#ownership_verification_email/4"},{"type":"function","title":"Arguments - BaladosSyncCore.OwnershipEmails.ownership_verification_email/4","doc":"- `to_email` - Recipient email address\n- `verification_code` - 6-digit verification code\n- `podcast_title` - Name of the podcast being verified\n- `feed_url` - URL of the podcast RSS feed","ref":"BaladosSyncCore.OwnershipEmails.html#ownership_verification_email/4-arguments"},{"type":"module","title":"BaladosSyncCore.ProcessManagers.AddFeedToDefaultCollection","doc":"Event Handler: Ensures feed is added to default collection on subscription.\n\nListens to UserSubscribed events and:\n1. Creates default \"all\" collection if it doesn't exist\n2. Adds the subscribed feed to the default collection\n\nThis ensures proper Event Sourcing: FeedAddedToCollection events are emitted\nfor all feed additions, including automatic additions to the default collection.","ref":"BaladosSyncCore.ProcessManagers.AddFeedToDefaultCollection.html"},{"type":"module","title":"CQRS Flow - BaladosSyncCore.ProcessManagers.AddFeedToDefaultCollection","doc":"1. Subscribe command → UserSubscribed event\n2. This handler listens to UserSubscribed\n3. Handler ensures default collection exists (CreateCollection command)\n4. Handler dispatches AddFeedToCollection command\n5. Events are persisted and projections updated","ref":"BaladosSyncCore.ProcessManagers.AddFeedToDefaultCollection.html#module-cqrs-flow"},{"type":"function","title":"BaladosSyncCore.ProcessManagers.AddFeedToDefaultCollection.child_spec/1","doc":"Provides a child specification to allow the event handler to be easily\nsupervised.\n\nSupports the same options as `start_link/3`.\n\nThe default options supported by `GenServer.start_link/3` are also\nsupported, including the `:hibernate_after` option which allows the\nprocess to go into hibernation after a period of inactivity.","ref":"BaladosSyncCore.ProcessManagers.AddFeedToDefaultCollection.html#child_spec/1"},{"type":"function","title":"Example - BaladosSyncCore.ProcessManagers.AddFeedToDefaultCollection.child_spec/1","doc":"Supervisor.start_link([\n      {ExampleHandler, []}\n    ], strategy: :one_for_one)","ref":"BaladosSyncCore.ProcessManagers.AddFeedToDefaultCollection.html#child_spec/1-example"},{"type":"function","title":"BaladosSyncCore.ProcessManagers.AddFeedToDefaultCollection.start_link/1","doc":"Start an event handler `GenServer` process linked to the current process.","ref":"BaladosSyncCore.ProcessManagers.AddFeedToDefaultCollection.html#start_link/1"},{"type":"function","title":"Options - BaladosSyncCore.ProcessManagers.AddFeedToDefaultCollection.start_link/1","doc":"- `:application` - the Commanded application.\n\n  - `:name` - name of the event handler used to determine its unique event\n    store subscription.\n\n  - `:concurrency` - determines how many processes are started to\n    concurrently process events. The default is one process.\n\n  - `:consistency` - one of either `:eventual` (default) or `:strong`.\n\n  - `:start_from` - where to start the event store subscription from when\n    first created (default: `:origin`).\n\n  - :subscribe_to - which stream to subscribe to can be either `:all` to\n    subscribe to all events or a named stream (default: `:all`).\n\n  - :batch_size - the size of batches to deliver to `handle_batch` in batched\n    mode.\n\nThe default options supported by `GenServer.start_link/3` are supported,\nincluding the `:hibernate_after` option which allows the process to go\ninto hibernation after a period of inactivity.","ref":"BaladosSyncCore.ProcessManagers.AddFeedToDefaultCollection.html#start_link/1-options"},{"type":"module","title":"BaladosSyncCore.RssCache","doc":"Module de cache LRU pour les flux RSS avec TTL de 5 minutes","ref":"BaladosSyncCore.RssCache.html"},{"type":"function","title":"BaladosSyncCore.RssCache.fetch_and_parse_feed/1","doc":"Fetch et parse un flux RSS, retournant à la fois le metadata et les épisodes.\n\nUtilise le cache à deux niveaux: XML et métadonnées parsées.","ref":"BaladosSyncCore.RssCache.html#fetch_and_parse_feed/1"},{"type":"function","title":"BaladosSyncCore.RssCache.fetch_feed/1","doc":"Récupère un flux RSS, depuis le cache ou en le fetchant","ref":"BaladosSyncCore.RssCache.html#fetch_feed/1"},{"type":"function","title":"BaladosSyncCore.RssCache.get/1","doc":"Récupère depuis le cache","ref":"BaladosSyncCore.RssCache.html#get/1"},{"type":"function","title":"BaladosSyncCore.RssCache.get_feed_metadata/1","doc":"Récupère les métadonnées parsées d'un flux RSS depuis le cache ou en fetchant.\n\nLes métadonnées sont cachées séparément du XML brut pour un accès rapide.","ref":"BaladosSyncCore.RssCache.html#get_feed_metadata/1"},{"type":"function","title":"BaladosSyncCore.RssCache.put/2","doc":"Met en cache avec TTL","ref":"BaladosSyncCore.RssCache.html#put/2"},{"type":"module","title":"BaladosSyncCore.RssParser","doc":"Parses RSS/Atom podcast feeds and extracts metadata.\n\nHandles:\n- Feed-level metadata (title, description, author, cover)\n- Episode-level metadata (guid, title, description, duration, pub_date, enclosure)\n- iTunes podcast tags for enhanced metadata\n- Graceful error handling for malformed feeds","ref":"BaladosSyncCore.RssParser.html"},{"type":"function","title":"BaladosSyncCore.RssParser.parse_episodes/1","doc":"Parses RSS feed XML and extracts episode-level metadata.\n\nReturns {:ok, [episodes]} or {:error, reason}","ref":"BaladosSyncCore.RssParser.html#parse_episodes/1"},{"type":"function","title":"Example - BaladosSyncCore.RssParser.parse_episodes/1","doc":"iex> {:ok, episodes} = RssParser.parse_episodes(xml)\n    iex> length(episodes)\n    42","ref":"BaladosSyncCore.RssParser.html#parse_episodes/1-example"},{"type":"function","title":"BaladosSyncCore.RssParser.parse_feed/1","doc":"Parses RSS feed XML and extracts feed-level metadata.\n\nReturns {:ok, feed_metadata} or {:error, reason}","ref":"BaladosSyncCore.RssParser.html#parse_feed/1"},{"type":"function","title":"Example - BaladosSyncCore.RssParser.parse_feed/1","doc":"iex> xml = File.read!(\"feed.xml\")\n    iex> {:ok, metadata} = RssParser.parse_feed(xml)\n    iex> metadata.title\n    \"My Awesome Podcast\"","ref":"BaladosSyncCore.RssParser.html#parse_feed/1-example"},{"type":"module","title":"BaladosSyncCore.SystemRepo","doc":"","ref":"BaladosSyncCore.SystemRepo.html"},{"type":"function","title":"BaladosSyncCore.SystemRepo.aggregate/3","doc":"Callback implementation for  Ecto.Repo.aggregate/3 .","ref":"BaladosSyncCore.SystemRepo.html#aggregate/3"},{"type":"function","title":"BaladosSyncCore.SystemRepo.aggregate/4","doc":"Callback implementation for  Ecto.Repo.aggregate/4 .","ref":"BaladosSyncCore.SystemRepo.html#aggregate/4"},{"type":"function","title":"BaladosSyncCore.SystemRepo.all/2","doc":"Callback implementation for  Ecto.Repo.all/2 .","ref":"BaladosSyncCore.SystemRepo.html#all/2"},{"type":"function","title":"BaladosSyncCore.SystemRepo.all_by/3","doc":"Callback implementation for  Ecto.Repo.all_by/3 .","ref":"BaladosSyncCore.SystemRepo.html#all_by/3"},{"type":"function","title":"BaladosSyncCore.SystemRepo.checked_out?/0","doc":"Callback implementation for  Ecto.Repo.checked_out?/0 .","ref":"BaladosSyncCore.SystemRepo.html#checked_out?/0"},{"type":"function","title":"BaladosSyncCore.SystemRepo.checkout/2","doc":"Callback implementation for  Ecto.Repo.checkout/2 .","ref":"BaladosSyncCore.SystemRepo.html#checkout/2"},{"type":"function","title":"BaladosSyncCore.SystemRepo.child_spec/1","doc":"","ref":"BaladosSyncCore.SystemRepo.html#child_spec/1"},{"type":"function","title":"BaladosSyncCore.SystemRepo.config/0","doc":"Callback implementation for  Ecto.Repo.config/0 .","ref":"BaladosSyncCore.SystemRepo.html#config/0"},{"type":"function","title":"BaladosSyncCore.SystemRepo.delete/2","doc":"Callback implementation for  Ecto.Repo.delete/2 .","ref":"BaladosSyncCore.SystemRepo.html#delete/2"},{"type":"function","title":"BaladosSyncCore.SystemRepo.delete!/2","doc":"Callback implementation for  Ecto.Repo.delete!/2 .","ref":"BaladosSyncCore.SystemRepo.html#delete!/2"},{"type":"function","title":"BaladosSyncCore.SystemRepo.delete_all/2","doc":"Callback implementation for  Ecto.Repo.delete_all/2 .","ref":"BaladosSyncCore.SystemRepo.html#delete_all/2"},{"type":"function","title":"BaladosSyncCore.SystemRepo.disconnect_all/2","doc":"Forces all connections in the repo pool to disconnect within the given interval.\n\nOnce this function is called, the pool will disconnect all of its connections\nas they are checked in or as they are pinged. Checked in connections will be\nrandomly disconnected within the given time interval. Pinged connections are\nimmediately disconnected - as they are idle (according to `:idle_interval`).\n\nIf the connection has a backoff configured (which is the case by default),\ndisconnecting means an attempt at a new connection will be done immediately\nafter, without starting a new process for each connection. However, if backoff\nhas been disabled, the connection process will terminate. In such cases,\ndisconnecting all connections may cause the pool supervisor to restart\ndepending on the max_restarts/max_seconds configuration of the pool,\nso you will want to set those carefully.","ref":"BaladosSyncCore.SystemRepo.html#disconnect_all/2"},{"type":"function","title":"BaladosSyncCore.SystemRepo.exists?/2","doc":"Callback implementation for  Ecto.Repo.exists?/2 .","ref":"BaladosSyncCore.SystemRepo.html#exists?/2"},{"type":"function","title":"BaladosSyncCore.SystemRepo.explain/3","doc":"Executes an EXPLAIN statement or similar for the given query according to its kind and the\nadapter in the given repository.","ref":"BaladosSyncCore.SystemRepo.html#explain/3"},{"type":"function","title":"Examples - BaladosSyncCore.SystemRepo.explain/3","doc":"# Postgres\n    iex> MyRepo.explain(:all, Post)\n    \"Seq Scan on posts p0  (cost=0.00..12.12 rows=1 width=443)\"\n\n    iex> Ecto.Adapters.SQL.explain(Repo, :all, Post)\n    \"Seq Scan on posts p0  (cost=0.00..12.12 rows=1 width=443)\"\n\n    # MySQL\n    iex> MyRepo.explain(:all, from(p in Post, where: p.title == \"title\")) |> IO.puts()\n    +----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+-------------+\n    | id | select_type | table | partitions | type | possible_keys | key  | key_len | ref  | rows | filtered | Extra       |\n    +----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+-------------+\n    |  1 | SIMPLE      | p0    | NULL       | ALL  | NULL          | NULL | NULL    | NULL |    1 |    100.0 | Using where |\n    +----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+-------------+\n\n    # Shared opts\n    iex> MyRepo.explain(:all, Post, analyze: true, timeout: 20_000)\n    \"Seq Scan on posts p0  (cost=0.00..11.70 rows=170 width=443) (actual time=0.013..0.013 rows=0 loops=1)\\nPlanning Time: 0.031 ms\\nExecution Time: 0.021 ms\"\n\nIt's safe to execute it for updates and deletes, no data change will be committed:\n\n    iex> MyRepo.explain(Repo, :update_all, from(p in Post, update: [set: [title: \"new title\"]]))\n    \"Update on posts p0  (cost=0.00..11.70 rows=170 width=449)\\n  ->  Seq Scan on posts p0  (cost=0.00..11.70 rows=170 width=449)\"\n\nThis function is also available under the repository with name `explain`:\n\n    iex> MyRepo.explain(:all, from(p in Post, where: p.title == \"title\"))\n    \"Seq Scan on posts p0  (cost=0.00..12.12 rows=1 width=443)\\n  Filter: ((title)::text = 'title'::text)\"","ref":"BaladosSyncCore.SystemRepo.html#explain/3-examples"},{"type":"function","title":"Options - BaladosSyncCore.SystemRepo.explain/3","doc":"Built-in adapters support passing `opts` to the EXPLAIN statement according to the following:\n\nAdapter          | Supported opts\n---------------- | --------------\nPostgrex         | `analyze`, `verbose`, `costs`, `settings`, `buffers`, `timing`, `summary`, `format`, `plan`\nMyXQL            | `format`\n\nAll options except `format` are boolean valued and default to `false`.\n\nThe allowed `format` values are `:map`, `:yaml`, and `:text`:\n  * `:map` is the deserialized JSON encoding.\n  * `:yaml` and `:text` return the result as a string.\n\nThe built-in adapters support the following formats:\n  * Postgrex: `:map`, `:yaml` and `:text`\n  * MyXQL: `:map` and `:text`\n\nThe `:plan` option in Postgrex can take the values `:custom` or `:fallback_generic`. When `:custom`\nis specified, the explain plan generated will consider the specific values of the query parameters\nthat are supplied. When using `:fallback_generic`, the specific values of the query parameters will\nbe ignored. `:fallback_generic` does not use PostgreSQL's built-in support for a generic explain\nplan (available as of PostgreSQL 16), but instead uses a special implementation that works for PostgreSQL\nversions 12 and above. Defaults to `:custom`.\n\nAny other value passed to `opts` will be forwarded to the underlying adapter query function, including\nshared Repo options such as `:timeout`. Non built-in adapters may have specific behaviour and you should\nconsult their documentation for more details.\n\nFor version compatibility, please check your database's documentation:\n\n  * _Postgrex_: [PostgreSQL doc](https://www.postgresql.org/docs/current/sql-explain.html).\n  * _MyXQL_: [MySQL doc](https://dev.mysql.com/doc/refman/8.0/en/explain.html).","ref":"BaladosSyncCore.SystemRepo.html#explain/3-options"},{"type":"function","title":"BaladosSyncCore.SystemRepo.get/3","doc":"Callback implementation for  Ecto.Repo.get/3 .","ref":"BaladosSyncCore.SystemRepo.html#get/3"},{"type":"function","title":"BaladosSyncCore.SystemRepo.get!/3","doc":"Callback implementation for  Ecto.Repo.get!/3 .","ref":"BaladosSyncCore.SystemRepo.html#get!/3"},{"type":"function","title":"BaladosSyncCore.SystemRepo.get_by/3","doc":"Callback implementation for  Ecto.Repo.get_by/3 .","ref":"BaladosSyncCore.SystemRepo.html#get_by/3"},{"type":"function","title":"BaladosSyncCore.SystemRepo.get_by!/3","doc":"Callback implementation for  Ecto.Repo.get_by!/3 .","ref":"BaladosSyncCore.SystemRepo.html#get_by!/3"},{"type":"function","title":"BaladosSyncCore.SystemRepo.get_dynamic_repo/0","doc":"Callback implementation for  Ecto.Repo.get_dynamic_repo/0 .","ref":"BaladosSyncCore.SystemRepo.html#get_dynamic_repo/0"},{"type":"function","title":"BaladosSyncCore.SystemRepo.in_transaction?/0","doc":"Callback implementation for  Ecto.Repo.in_transaction?/0 .","ref":"BaladosSyncCore.SystemRepo.html#in_transaction?/0"},{"type":"function","title":"BaladosSyncCore.SystemRepo.insert/2","doc":"Callback implementation for  Ecto.Repo.insert/2 .","ref":"BaladosSyncCore.SystemRepo.html#insert/2"},{"type":"function","title":"BaladosSyncCore.SystemRepo.insert!/2","doc":"Callback implementation for  Ecto.Repo.insert!/2 .","ref":"BaladosSyncCore.SystemRepo.html#insert!/2"},{"type":"function","title":"BaladosSyncCore.SystemRepo.insert_all/3","doc":"Callback implementation for  Ecto.Repo.insert_all/3 .","ref":"BaladosSyncCore.SystemRepo.html#insert_all/3"},{"type":"function","title":"BaladosSyncCore.SystemRepo.insert_or_update/2","doc":"Callback implementation for  Ecto.Repo.insert_or_update/2 .","ref":"BaladosSyncCore.SystemRepo.html#insert_or_update/2"},{"type":"function","title":"BaladosSyncCore.SystemRepo.insert_or_update!/2","doc":"Callback implementation for  Ecto.Repo.insert_or_update!/2 .","ref":"BaladosSyncCore.SystemRepo.html#insert_or_update!/2"},{"type":"function","title":"BaladosSyncCore.SystemRepo.load/2","doc":"Callback implementation for  Ecto.Repo.load/2 .","ref":"BaladosSyncCore.SystemRepo.html#load/2"},{"type":"function","title":"BaladosSyncCore.SystemRepo.one/2","doc":"Callback implementation for  Ecto.Repo.one/2 .","ref":"BaladosSyncCore.SystemRepo.html#one/2"},{"type":"function","title":"BaladosSyncCore.SystemRepo.one!/2","doc":"Callback implementation for  Ecto.Repo.one!/2 .","ref":"BaladosSyncCore.SystemRepo.html#one!/2"},{"type":"function","title":"BaladosSyncCore.SystemRepo.preload/3","doc":"Callback implementation for  Ecto.Repo.preload/3 .","ref":"BaladosSyncCore.SystemRepo.html#preload/3"},{"type":"function","title":"BaladosSyncCore.SystemRepo.prepare_query/3","doc":"Callback implementation for  Ecto.Repo.prepare_query/3 .","ref":"BaladosSyncCore.SystemRepo.html#prepare_query/3"},{"type":"function","title":"BaladosSyncCore.SystemRepo.prepare_transaction/2","doc":"Callback implementation for  Ecto.Repo.prepare_transaction/2 .","ref":"BaladosSyncCore.SystemRepo.html#prepare_transaction/2"},{"type":"function","title":"BaladosSyncCore.SystemRepo.put_dynamic_repo/1","doc":"Callback implementation for  Ecto.Repo.put_dynamic_repo/1 .","ref":"BaladosSyncCore.SystemRepo.html#put_dynamic_repo/1"},{"type":"function","title":"BaladosSyncCore.SystemRepo.query/3","doc":"Runs a custom SQL query.\n\nIf the query was successful, it will return an `:ok` tuple containing\na map with at least two keys:\n  * `:num_rows` - the number of rows affected\n  * `:rows` - the result set as a list. `nil` may be returned\n    instead of the list if the command does not yield any row\n    as result (but still yields the number of affected rows,\n    like a `delete` command without returning would)","ref":"BaladosSyncCore.SystemRepo.html#query/3"},{"type":"function","title":"Options - BaladosSyncCore.SystemRepo.query/3","doc":"* `:log` - When false, does not log the query\n  * `:timeout` - Execute request timeout, accepts: `:infinity` (default: `15000`);","ref":"BaladosSyncCore.SystemRepo.html#query/3-options"},{"type":"function","title":"Examples - BaladosSyncCore.SystemRepo.query/3","doc":"iex> MyRepo.query(\"SELECT $1::integer + $2\", [40, 2])\n    {:ok, %{rows: [[42]], num_rows: 1}}\n\n    iex> Ecto.Adapters.SQL.query(MyRepo, \"SELECT $1::integer + $2\", [40, 2])\n    {:ok, %{rows: [[42]], num_rows: 1}}","ref":"BaladosSyncCore.SystemRepo.html#query/3-examples"},{"type":"function","title":"BaladosSyncCore.SystemRepo.query!/3","doc":"Same as `query/3` but returns result directly without `:ok` tuple\nand raises on invalid queries","ref":"BaladosSyncCore.SystemRepo.html#query!/3"},{"type":"function","title":"BaladosSyncCore.SystemRepo.query_many/3","doc":"Runs a custom SQL query that returns multiple results on the given repo.\n\nIn case of success, it must return an `:ok` tuple containing a list of\nmaps with at least two keys:\n\n  * `:num_rows` - the number of rows affected\n\n  * `:rows` - the result set as a list. `nil` may be returned\n    instead of the list if the command does not yield any row\n    as result (but still yields the number of affected rows,\n    like a `delete` command without returning would)","ref":"BaladosSyncCore.SystemRepo.html#query_many/3"},{"type":"function","title":"Options - BaladosSyncCore.SystemRepo.query_many/3","doc":"* `:log` - When false, does not log the query\n  * `:timeout` - Execute request timeout, accepts: `:infinity` (default: `15000`);","ref":"BaladosSyncCore.SystemRepo.html#query_many/3-options"},{"type":"function","title":"Examples - BaladosSyncCore.SystemRepo.query_many/3","doc":"iex> MyRepo.query_many(\"SELECT $1; SELECT $2;\", [40, 2])\n    {:ok, [%{rows: [[40]], num_rows: 1}, %{rows: [[2]], num_rows: 1}]}\n\n    iex> Ecto.Adapters.SQL.query_many(MyRepo, \"SELECT $1; SELECT $2;\", [40, 2])\n    {:ok, [%{rows: [[40]], num_rows: 1}, %{rows: [[2]], num_rows: 1}]}","ref":"BaladosSyncCore.SystemRepo.html#query_many/3-examples"},{"type":"function","title":"BaladosSyncCore.SystemRepo.query_many!/3","doc":"Same as `query_many/4` but returns result directly without `:ok` tuple\nand raises on invalid queries","ref":"BaladosSyncCore.SystemRepo.html#query_many!/3"},{"type":"function","title":"BaladosSyncCore.SystemRepo.reload/2","doc":"Callback implementation for  Ecto.Repo.reload/2 .","ref":"BaladosSyncCore.SystemRepo.html#reload/2"},{"type":"function","title":"BaladosSyncCore.SystemRepo.reload!/2","doc":"Callback implementation for  Ecto.Repo.reload!/2 .","ref":"BaladosSyncCore.SystemRepo.html#reload!/2"},{"type":"function","title":"BaladosSyncCore.SystemRepo.rollback/1","doc":"Callback implementation for  Ecto.Repo.rollback/1 .","ref":"BaladosSyncCore.SystemRepo.html#rollback/1"},{"type":"function","title":"BaladosSyncCore.SystemRepo.start_link/1","doc":"Callback implementation for  Ecto.Repo.start_link/1 .","ref":"BaladosSyncCore.SystemRepo.html#start_link/1"},{"type":"function","title":"BaladosSyncCore.SystemRepo.stop/1","doc":"Callback implementation for  Ecto.Repo.stop/1 .","ref":"BaladosSyncCore.SystemRepo.html#stop/1"},{"type":"function","title":"BaladosSyncCore.SystemRepo.stream/2","doc":"Callback implementation for  Ecto.Repo.stream/2 .","ref":"BaladosSyncCore.SystemRepo.html#stream/2"},{"type":"function","title":"BaladosSyncCore.SystemRepo.to_sql/2","doc":"Converts the given query to SQL according to its kind and the\nadapter in the given repository.","ref":"BaladosSyncCore.SystemRepo.html#to_sql/2"},{"type":"function","title":"Examples - BaladosSyncCore.SystemRepo.to_sql/2","doc":"The examples below are meant for reference. Each adapter will\nreturn a different result:\n\n    iex> MyRepo.to_sql(:all, Post)\n    {\"SELECT p.id, p.title, p.inserted_at, p.created_at FROM posts as p\", []}\n\n    iex> MyRepo.to_sql(:update_all, from(p in Post, update: [set: [title: ^\"hello\"]]))\n    {\"UPDATE posts AS p SET title = $1\", [\"hello\"]}\n\n    iex> Ecto.Adapters.SQL.to_sql(:all, MyRepo, Post)\n    {\"SELECT p.id, p.title, p.inserted_at, p.created_at FROM posts as p\", []}","ref":"BaladosSyncCore.SystemRepo.html#to_sql/2-examples"},{"type":"function","title":"BaladosSyncCore.SystemRepo.transact/2","doc":"Callback implementation for  Ecto.Repo.transact/2 .","ref":"BaladosSyncCore.SystemRepo.html#transact/2"},{"type":"function","title":"BaladosSyncCore.SystemRepo.transaction/2","doc":"Callback implementation for  Ecto.Repo.transaction/2 .","ref":"BaladosSyncCore.SystemRepo.html#transaction/2"},{"type":"function","title":"BaladosSyncCore.SystemRepo.update/2","doc":"Callback implementation for  Ecto.Repo.update/2 .","ref":"BaladosSyncCore.SystemRepo.html#update/2"},{"type":"function","title":"BaladosSyncCore.SystemRepo.update!/2","doc":"Callback implementation for  Ecto.Repo.update!/2 .","ref":"BaladosSyncCore.SystemRepo.html#update!/2"},{"type":"function","title":"BaladosSyncCore.SystemRepo.update_all/3","doc":"Callback implementation for  Ecto.Repo.update_all/3 .","ref":"BaladosSyncCore.SystemRepo.html#update_all/3"},{"type":"module","title":"BaladosSyncCore.UrlValidator","doc":"URL validation module for preventing SSRF (Server-Side Request Forgery) attacks.\n\nThis module validates URLs before they are used for HTTP requests to prevent\nattackers from using the server to access internal resources.","ref":"BaladosSyncCore.UrlValidator.html"},{"type":"module","title":"Blocked Resources - BaladosSyncCore.UrlValidator","doc":"- Private IP ranges (10.x, 172.16-31.x, 192.168.x)\n- Localhost and loopback addresses (127.x)\n- Link-local addresses (169.254.x) - includes cloud metadata endpoints\n- IPv6 loopback and link-local addresses\n- Non-HTTP(S) schemes\n- Hostnames that resolve to blocked IPs","ref":"BaladosSyncCore.UrlValidator.html#module-blocked-resources"},{"type":"module","title":"Usage - BaladosSyncCore.UrlValidator","doc":"case UrlValidator.validate_rss_url(url) do\n      :ok -> # Safe to fetch\n      {:error, reason} -> # Block the request\n    end","ref":"BaladosSyncCore.UrlValidator.html#module-usage"},{"type":"function","title":"BaladosSyncCore.UrlValidator.validate_rss_url/1","doc":"Validates a URL for safe RSS fetching.\n\nReturns `:ok` if the URL is safe, or `{:error, reason}` if it should be blocked.","ref":"BaladosSyncCore.UrlValidator.html#validate_rss_url/1"},{"type":"function","title":"BaladosSyncCore.UrlValidator.validate_rss_url!/1","doc":"Validates a URL and returns the validated URL or raises an error.","ref":"BaladosSyncCore.UrlValidator.html#validate_rss_url!/1"},{"type":"module","title":"BaladosSyncJobs","doc":"BaladosSyncCore keeps the contexts that define your domain\nand business logic.\n\nContexts are also responsible for managing your data, regardless\nif it comes from the database, an external API or others.","ref":"BaladosSyncJobs.html"},{"type":"module","title":"BaladosSyncJobs.Application","doc":"","ref":"BaladosSyncJobs.Application.html"},{"type":"function","title":"BaladosSyncJobs.Application.start/2","doc":"Callback implementation for  Application.start/2 .","ref":"BaladosSyncJobs.Application.html#start/2"},{"type":"module","title":"BaladosSyncJobs.OwnershipClaimCleanupWorker","doc":"Background worker for expiring and cleaning up old podcast ownership claims.\n\nThis worker performs two tasks:\n1. Expires pending claims that have passed their expiration date\n2. Deletes old non-pending claims after a retention period\n\nRuns daily to maintain database hygiene for the ownership verification system.","ref":"BaladosSyncJobs.OwnershipClaimCleanupWorker.html"},{"type":"function","title":"BaladosSyncJobs.OwnershipClaimCleanupWorker.expire_pending_claims/0","doc":"Expires pending claims that have passed their expiration date.\nReturns the number of claims expired.","ref":"BaladosSyncJobs.OwnershipClaimCleanupWorker.html#expire_pending_claims/0"},{"type":"function","title":"BaladosSyncJobs.OwnershipClaimCleanupWorker.perform/0","doc":"","ref":"BaladosSyncJobs.OwnershipClaimCleanupWorker.html#perform/0"},{"type":"module","title":"BaladosSyncJobs.PlayTokenCleanupWorker","doc":"Background worker for cleaning up expired PlayTokens.\n\nRuns daily to delete tokens that have been expired for more than\nthe configured retention period (default: 30 days).\n\nThis helps reduce database size and removes stale tokens.","ref":"BaladosSyncJobs.PlayTokenCleanupWorker.html"},{"type":"function","title":"BaladosSyncJobs.PlayTokenCleanupWorker.perform/0","doc":"","ref":"BaladosSyncJobs.PlayTokenCleanupWorker.html#perform/0"},{"type":"module","title":"BaladosSyncProjections","doc":"BaladosSyncProjections keeps the contexts that define your domain\nand business logic.\n\nContexts are also responsible for managing your data, regardless\nif it comes from the database, an external API or others.","ref":"BaladosSyncProjections.html"},{"type":"module","title":"BaladosSyncProjections.ProjectionsRepo","doc":"","ref":"BaladosSyncProjections.ProjectionsRepo.html"},{"type":"function","title":"BaladosSyncProjections.ProjectionsRepo.aggregate/3","doc":"Callback implementation for  Ecto.Repo.aggregate/3 .","ref":"BaladosSyncProjections.ProjectionsRepo.html#aggregate/3"},{"type":"function","title":"BaladosSyncProjections.ProjectionsRepo.aggregate/4","doc":"Callback implementation for  Ecto.Repo.aggregate/4 .","ref":"BaladosSyncProjections.ProjectionsRepo.html#aggregate/4"},{"type":"function","title":"BaladosSyncProjections.ProjectionsRepo.all/2","doc":"Callback implementation for  Ecto.Repo.all/2 .","ref":"BaladosSyncProjections.ProjectionsRepo.html#all/2"},{"type":"function","title":"BaladosSyncProjections.ProjectionsRepo.all_by/3","doc":"Callback implementation for  Ecto.Repo.all_by/3 .","ref":"BaladosSyncProjections.ProjectionsRepo.html#all_by/3"},{"type":"function","title":"BaladosSyncProjections.ProjectionsRepo.checked_out?/0","doc":"Callback implementation for  Ecto.Repo.checked_out?/0 .","ref":"BaladosSyncProjections.ProjectionsRepo.html#checked_out?/0"},{"type":"function","title":"BaladosSyncProjections.ProjectionsRepo.checkout/2","doc":"Callback implementation for  Ecto.Repo.checkout/2 .","ref":"BaladosSyncProjections.ProjectionsRepo.html#checkout/2"},{"type":"function","title":"BaladosSyncProjections.ProjectionsRepo.child_spec/1","doc":"","ref":"BaladosSyncProjections.ProjectionsRepo.html#child_spec/1"},{"type":"function","title":"BaladosSyncProjections.ProjectionsRepo.config/0","doc":"Callback implementation for  Ecto.Repo.config/0 .","ref":"BaladosSyncProjections.ProjectionsRepo.html#config/0"},{"type":"function","title":"BaladosSyncProjections.ProjectionsRepo.default_options/1","doc":"Callback implementation for  Ecto.Repo.default_options/1 .","ref":"BaladosSyncProjections.ProjectionsRepo.html#default_options/1"},{"type":"function","title":"BaladosSyncProjections.ProjectionsRepo.delete/2","doc":"Callback implementation for  Ecto.Repo.delete/2 .","ref":"BaladosSyncProjections.ProjectionsRepo.html#delete/2"},{"type":"function","title":"BaladosSyncProjections.ProjectionsRepo.delete!/2","doc":"Callback implementation for  Ecto.Repo.delete!/2 .","ref":"BaladosSyncProjections.ProjectionsRepo.html#delete!/2"},{"type":"function","title":"BaladosSyncProjections.ProjectionsRepo.delete_all/2","doc":"Callback implementation for  Ecto.Repo.delete_all/2 .","ref":"BaladosSyncProjections.ProjectionsRepo.html#delete_all/2"},{"type":"function","title":"BaladosSyncProjections.ProjectionsRepo.disconnect_all/2","doc":"Forces all connections in the repo pool to disconnect within the given interval.\n\nOnce this function is called, the pool will disconnect all of its connections\nas they are checked in or as they are pinged. Checked in connections will be\nrandomly disconnected within the given time interval. Pinged connections are\nimmediately disconnected - as they are idle (according to `:idle_interval`).\n\nIf the connection has a backoff configured (which is the case by default),\ndisconnecting means an attempt at a new connection will be done immediately\nafter, without starting a new process for each connection. However, if backoff\nhas been disabled, the connection process will terminate. In such cases,\ndisconnecting all connections may cause the pool supervisor to restart\ndepending on the max_restarts/max_seconds configuration of the pool,\nso you will want to set those carefully.","ref":"BaladosSyncProjections.ProjectionsRepo.html#disconnect_all/2"},{"type":"function","title":"BaladosSyncProjections.ProjectionsRepo.exists?/2","doc":"Callback implementation for  Ecto.Repo.exists?/2 .","ref":"BaladosSyncProjections.ProjectionsRepo.html#exists?/2"},{"type":"function","title":"BaladosSyncProjections.ProjectionsRepo.explain/3","doc":"Executes an EXPLAIN statement or similar for the given query according to its kind and the\nadapter in the given repository.","ref":"BaladosSyncProjections.ProjectionsRepo.html#explain/3"},{"type":"function","title":"Examples - BaladosSyncProjections.ProjectionsRepo.explain/3","doc":"# Postgres\n    iex> MyRepo.explain(:all, Post)\n    \"Seq Scan on posts p0  (cost=0.00..12.12 rows=1 width=443)\"\n\n    iex> Ecto.Adapters.SQL.explain(Repo, :all, Post)\n    \"Seq Scan on posts p0  (cost=0.00..12.12 rows=1 width=443)\"\n\n    # MySQL\n    iex> MyRepo.explain(:all, from(p in Post, where: p.title == \"title\")) |> IO.puts()\n    +----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+-------------+\n    | id | select_type | table | partitions | type | possible_keys | key  | key_len | ref  | rows | filtered | Extra       |\n    +----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+-------------+\n    |  1 | SIMPLE      | p0    | NULL       | ALL  | NULL          | NULL | NULL    | NULL |    1 |    100.0 | Using where |\n    +----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+-------------+\n\n    # Shared opts\n    iex> MyRepo.explain(:all, Post, analyze: true, timeout: 20_000)\n    \"Seq Scan on posts p0  (cost=0.00..11.70 rows=170 width=443) (actual time=0.013..0.013 rows=0 loops=1)\\nPlanning Time: 0.031 ms\\nExecution Time: 0.021 ms\"\n\nIt's safe to execute it for updates and deletes, no data change will be committed:\n\n    iex> MyRepo.explain(Repo, :update_all, from(p in Post, update: [set: [title: \"new title\"]]))\n    \"Update on posts p0  (cost=0.00..11.70 rows=170 width=449)\\n  ->  Seq Scan on posts p0  (cost=0.00..11.70 rows=170 width=449)\"\n\nThis function is also available under the repository with name `explain`:\n\n    iex> MyRepo.explain(:all, from(p in Post, where: p.title == \"title\"))\n    \"Seq Scan on posts p0  (cost=0.00..12.12 rows=1 width=443)\\n  Filter: ((title)::text = 'title'::text)\"","ref":"BaladosSyncProjections.ProjectionsRepo.html#explain/3-examples"},{"type":"function","title":"Options - BaladosSyncProjections.ProjectionsRepo.explain/3","doc":"Built-in adapters support passing `opts` to the EXPLAIN statement according to the following:\n\nAdapter          | Supported opts\n---------------- | --------------\nPostgrex         | `analyze`, `verbose`, `costs`, `settings`, `buffers`, `timing`, `summary`, `format`, `plan`\nMyXQL            | `format`\n\nAll options except `format` are boolean valued and default to `false`.\n\nThe allowed `format` values are `:map`, `:yaml`, and `:text`:\n  * `:map` is the deserialized JSON encoding.\n  * `:yaml` and `:text` return the result as a string.\n\nThe built-in adapters support the following formats:\n  * Postgrex: `:map`, `:yaml` and `:text`\n  * MyXQL: `:map` and `:text`\n\nThe `:plan` option in Postgrex can take the values `:custom` or `:fallback_generic`. When `:custom`\nis specified, the explain plan generated will consider the specific values of the query parameters\nthat are supplied. When using `:fallback_generic`, the specific values of the query parameters will\nbe ignored. `:fallback_generic` does not use PostgreSQL's built-in support for a generic explain\nplan (available as of PostgreSQL 16), but instead uses a special implementation that works for PostgreSQL\nversions 12 and above. Defaults to `:custom`.\n\nAny other value passed to `opts` will be forwarded to the underlying adapter query function, including\nshared Repo options such as `:timeout`. Non built-in adapters may have specific behaviour and you should\nconsult their documentation for more details.\n\nFor version compatibility, please check your database's documentation:\n\n  * _Postgrex_: [PostgreSQL doc](https://www.postgresql.org/docs/current/sql-explain.html).\n  * _MyXQL_: [MySQL doc](https://dev.mysql.com/doc/refman/8.0/en/explain.html).","ref":"BaladosSyncProjections.ProjectionsRepo.html#explain/3-options"},{"type":"function","title":"BaladosSyncProjections.ProjectionsRepo.get/3","doc":"Callback implementation for  Ecto.Repo.get/3 .","ref":"BaladosSyncProjections.ProjectionsRepo.html#get/3"},{"type":"function","title":"BaladosSyncProjections.ProjectionsRepo.get!/3","doc":"Callback implementation for  Ecto.Repo.get!/3 .","ref":"BaladosSyncProjections.ProjectionsRepo.html#get!/3"},{"type":"function","title":"BaladosSyncProjections.ProjectionsRepo.get_by/3","doc":"Callback implementation for  Ecto.Repo.get_by/3 .","ref":"BaladosSyncProjections.ProjectionsRepo.html#get_by/3"},{"type":"function","title":"BaladosSyncProjections.ProjectionsRepo.get_by!/3","doc":"Callback implementation for  Ecto.Repo.get_by!/3 .","ref":"BaladosSyncProjections.ProjectionsRepo.html#get_by!/3"},{"type":"function","title":"BaladosSyncProjections.ProjectionsRepo.get_dynamic_repo/0","doc":"Callback implementation for  Ecto.Repo.get_dynamic_repo/0 .","ref":"BaladosSyncProjections.ProjectionsRepo.html#get_dynamic_repo/0"},{"type":"function","title":"BaladosSyncProjections.ProjectionsRepo.in_transaction?/0","doc":"Callback implementation for  Ecto.Repo.in_transaction?/0 .","ref":"BaladosSyncProjections.ProjectionsRepo.html#in_transaction?/0"},{"type":"function","title":"BaladosSyncProjections.ProjectionsRepo.insert/2","doc":"Callback implementation for  Ecto.Repo.insert/2 .","ref":"BaladosSyncProjections.ProjectionsRepo.html#insert/2"},{"type":"function","title":"BaladosSyncProjections.ProjectionsRepo.insert!/2","doc":"Callback implementation for  Ecto.Repo.insert!/2 .","ref":"BaladosSyncProjections.ProjectionsRepo.html#insert!/2"},{"type":"function","title":"BaladosSyncProjections.ProjectionsRepo.insert_all/3","doc":"Callback implementation for  Ecto.Repo.insert_all/3 .","ref":"BaladosSyncProjections.ProjectionsRepo.html#insert_all/3"},{"type":"function","title":"BaladosSyncProjections.ProjectionsRepo.insert_or_update/2","doc":"Callback implementation for  Ecto.Repo.insert_or_update/2 .","ref":"BaladosSyncProjections.ProjectionsRepo.html#insert_or_update/2"},{"type":"function","title":"BaladosSyncProjections.ProjectionsRepo.insert_or_update!/2","doc":"Callback implementation for  Ecto.Repo.insert_or_update!/2 .","ref":"BaladosSyncProjections.ProjectionsRepo.html#insert_or_update!/2"},{"type":"function","title":"BaladosSyncProjections.ProjectionsRepo.load/2","doc":"Callback implementation for  Ecto.Repo.load/2 .","ref":"BaladosSyncProjections.ProjectionsRepo.html#load/2"},{"type":"function","title":"BaladosSyncProjections.ProjectionsRepo.one/2","doc":"Callback implementation for  Ecto.Repo.one/2 .","ref":"BaladosSyncProjections.ProjectionsRepo.html#one/2"},{"type":"function","title":"BaladosSyncProjections.ProjectionsRepo.one!/2","doc":"Callback implementation for  Ecto.Repo.one!/2 .","ref":"BaladosSyncProjections.ProjectionsRepo.html#one!/2"},{"type":"function","title":"BaladosSyncProjections.ProjectionsRepo.preload/3","doc":"Callback implementation for  Ecto.Repo.preload/3 .","ref":"BaladosSyncProjections.ProjectionsRepo.html#preload/3"},{"type":"function","title":"BaladosSyncProjections.ProjectionsRepo.prepare_query/3","doc":"Callback implementation for  Ecto.Repo.prepare_query/3 .","ref":"BaladosSyncProjections.ProjectionsRepo.html#prepare_query/3"},{"type":"function","title":"BaladosSyncProjections.ProjectionsRepo.prepare_transaction/2","doc":"Callback implementation for  Ecto.Repo.prepare_transaction/2 .","ref":"BaladosSyncProjections.ProjectionsRepo.html#prepare_transaction/2"},{"type":"function","title":"BaladosSyncProjections.ProjectionsRepo.put_dynamic_repo/1","doc":"Callback implementation for  Ecto.Repo.put_dynamic_repo/1 .","ref":"BaladosSyncProjections.ProjectionsRepo.html#put_dynamic_repo/1"},{"type":"function","title":"BaladosSyncProjections.ProjectionsRepo.query/3","doc":"Runs a custom SQL query.\n\nIf the query was successful, it will return an `:ok` tuple containing\na map with at least two keys:\n  * `:num_rows` - the number of rows affected\n  * `:rows` - the result set as a list. `nil` may be returned\n    instead of the list if the command does not yield any row\n    as result (but still yields the number of affected rows,\n    like a `delete` command without returning would)","ref":"BaladosSyncProjections.ProjectionsRepo.html#query/3"},{"type":"function","title":"Options - BaladosSyncProjections.ProjectionsRepo.query/3","doc":"* `:log` - When false, does not log the query\n  * `:timeout` - Execute request timeout, accepts: `:infinity` (default: `15000`);","ref":"BaladosSyncProjections.ProjectionsRepo.html#query/3-options"},{"type":"function","title":"Examples - BaladosSyncProjections.ProjectionsRepo.query/3","doc":"iex> MyRepo.query(\"SELECT $1::integer + $2\", [40, 2])\n    {:ok, %{rows: [[42]], num_rows: 1}}\n\n    iex> Ecto.Adapters.SQL.query(MyRepo, \"SELECT $1::integer + $2\", [40, 2])\n    {:ok, %{rows: [[42]], num_rows: 1}}","ref":"BaladosSyncProjections.ProjectionsRepo.html#query/3-examples"},{"type":"function","title":"BaladosSyncProjections.ProjectionsRepo.query!/3","doc":"Same as `query/3` but returns result directly without `:ok` tuple\nand raises on invalid queries","ref":"BaladosSyncProjections.ProjectionsRepo.html#query!/3"},{"type":"function","title":"BaladosSyncProjections.ProjectionsRepo.query_many/3","doc":"Runs a custom SQL query that returns multiple results on the given repo.\n\nIn case of success, it must return an `:ok` tuple containing a list of\nmaps with at least two keys:\n\n  * `:num_rows` - the number of rows affected\n\n  * `:rows` - the result set as a list. `nil` may be returned\n    instead of the list if the command does not yield any row\n    as result (but still yields the number of affected rows,\n    like a `delete` command without returning would)","ref":"BaladosSyncProjections.ProjectionsRepo.html#query_many/3"},{"type":"function","title":"Options - BaladosSyncProjections.ProjectionsRepo.query_many/3","doc":"* `:log` - When false, does not log the query\n  * `:timeout` - Execute request timeout, accepts: `:infinity` (default: `15000`);","ref":"BaladosSyncProjections.ProjectionsRepo.html#query_many/3-options"},{"type":"function","title":"Examples - BaladosSyncProjections.ProjectionsRepo.query_many/3","doc":"iex> MyRepo.query_many(\"SELECT $1; SELECT $2;\", [40, 2])\n    {:ok, [%{rows: [[40]], num_rows: 1}, %{rows: [[2]], num_rows: 1}]}\n\n    iex> Ecto.Adapters.SQL.query_many(MyRepo, \"SELECT $1; SELECT $2;\", [40, 2])\n    {:ok, [%{rows: [[40]], num_rows: 1}, %{rows: [[2]], num_rows: 1}]}","ref":"BaladosSyncProjections.ProjectionsRepo.html#query_many/3-examples"},{"type":"function","title":"BaladosSyncProjections.ProjectionsRepo.query_many!/3","doc":"Same as `query_many/4` but returns result directly without `:ok` tuple\nand raises on invalid queries","ref":"BaladosSyncProjections.ProjectionsRepo.html#query_many!/3"},{"type":"function","title":"BaladosSyncProjections.ProjectionsRepo.reload/2","doc":"Callback implementation for  Ecto.Repo.reload/2 .","ref":"BaladosSyncProjections.ProjectionsRepo.html#reload/2"},{"type":"function","title":"BaladosSyncProjections.ProjectionsRepo.reload!/2","doc":"Callback implementation for  Ecto.Repo.reload!/2 .","ref":"BaladosSyncProjections.ProjectionsRepo.html#reload!/2"},{"type":"function","title":"BaladosSyncProjections.ProjectionsRepo.rollback/1","doc":"Callback implementation for  Ecto.Repo.rollback/1 .","ref":"BaladosSyncProjections.ProjectionsRepo.html#rollback/1"},{"type":"function","title":"BaladosSyncProjections.ProjectionsRepo.start_link/1","doc":"Callback implementation for  Ecto.Repo.start_link/1 .","ref":"BaladosSyncProjections.ProjectionsRepo.html#start_link/1"},{"type":"function","title":"BaladosSyncProjections.ProjectionsRepo.stop/1","doc":"Callback implementation for  Ecto.Repo.stop/1 .","ref":"BaladosSyncProjections.ProjectionsRepo.html#stop/1"},{"type":"function","title":"BaladosSyncProjections.ProjectionsRepo.stream/2","doc":"Callback implementation for  Ecto.Repo.stream/2 .","ref":"BaladosSyncProjections.ProjectionsRepo.html#stream/2"},{"type":"function","title":"BaladosSyncProjections.ProjectionsRepo.to_sql/2","doc":"Converts the given query to SQL according to its kind and the\nadapter in the given repository.","ref":"BaladosSyncProjections.ProjectionsRepo.html#to_sql/2"},{"type":"function","title":"Examples - BaladosSyncProjections.ProjectionsRepo.to_sql/2","doc":"The examples below are meant for reference. Each adapter will\nreturn a different result:\n\n    iex> MyRepo.to_sql(:all, Post)\n    {\"SELECT p.id, p.title, p.inserted_at, p.created_at FROM posts as p\", []}\n\n    iex> MyRepo.to_sql(:update_all, from(p in Post, update: [set: [title: ^\"hello\"]]))\n    {\"UPDATE posts AS p SET title = $1\", [\"hello\"]}\n\n    iex> Ecto.Adapters.SQL.to_sql(:all, MyRepo, Post)\n    {\"SELECT p.id, p.title, p.inserted_at, p.created_at FROM posts as p\", []}","ref":"BaladosSyncProjections.ProjectionsRepo.html#to_sql/2-examples"},{"type":"function","title":"BaladosSyncProjections.ProjectionsRepo.transact/2","doc":"Callback implementation for  Ecto.Repo.transact/2 .","ref":"BaladosSyncProjections.ProjectionsRepo.html#transact/2"},{"type":"function","title":"BaladosSyncProjections.ProjectionsRepo.transaction/2","doc":"Callback implementation for  Ecto.Repo.transaction/2 .","ref":"BaladosSyncProjections.ProjectionsRepo.html#transaction/2"},{"type":"function","title":"BaladosSyncProjections.ProjectionsRepo.update/2","doc":"Callback implementation for  Ecto.Repo.update/2 .","ref":"BaladosSyncProjections.ProjectionsRepo.html#update/2"},{"type":"function","title":"BaladosSyncProjections.ProjectionsRepo.update!/2","doc":"Callback implementation for  Ecto.Repo.update!/2 .","ref":"BaladosSyncProjections.ProjectionsRepo.html#update!/2"},{"type":"function","title":"BaladosSyncProjections.ProjectionsRepo.update_all/3","doc":"Callback implementation for  Ecto.Repo.update_all/3 .","ref":"BaladosSyncProjections.ProjectionsRepo.html#update_all/3"},{"type":"module","title":"BaladosSyncProjections.Projectors.CollectionsProjector","doc":"Projector for Collection events.\n\nMaintains the collections read model by listening to collection-related events\nand updating the collections and collection_subscriptions tables.","ref":"BaladosSyncProjections.Projectors.CollectionsProjector.html"},{"type":"function","title":"BaladosSyncProjections.Projectors.CollectionsProjector.child_spec/1","doc":"Provides a child specification to allow the event handler to be easily\nsupervised.\n\nSupports the same options as `start_link/3`.\n\nThe default options supported by `GenServer.start_link/3` are also\nsupported, including the `:hibernate_after` option which allows the\nprocess to go into hibernation after a period of inactivity.","ref":"BaladosSyncProjections.Projectors.CollectionsProjector.html#child_spec/1"},{"type":"function","title":"Example - BaladosSyncProjections.Projectors.CollectionsProjector.child_spec/1","doc":"Supervisor.start_link([\n      {ExampleHandler, []}\n    ], strategy: :one_for_one)","ref":"BaladosSyncProjections.Projectors.CollectionsProjector.html#child_spec/1-example"},{"type":"function","title":"BaladosSyncProjections.Projectors.CollectionsProjector.schema_prefix/1","doc":"Callback implementation for  Commanded.Projections.Ecto.schema_prefix/1 .","ref":"BaladosSyncProjections.Projectors.CollectionsProjector.html#schema_prefix/1"},{"type":"function","title":"BaladosSyncProjections.Projectors.CollectionsProjector.schema_prefix/2","doc":"Callback implementation for  Commanded.Projections.Ecto.schema_prefix/2 .","ref":"BaladosSyncProjections.Projectors.CollectionsProjector.html#schema_prefix/2"},{"type":"function","title":"BaladosSyncProjections.Projectors.CollectionsProjector.start_link/1","doc":"Start an event handler `GenServer` process linked to the current process.","ref":"BaladosSyncProjections.Projectors.CollectionsProjector.html#start_link/1"},{"type":"function","title":"Options - BaladosSyncProjections.Projectors.CollectionsProjector.start_link/1","doc":"- `:application` - the Commanded application.\n\n  - `:name` - name of the event handler used to determine its unique event\n    store subscription.\n\n  - `:concurrency` - determines how many processes are started to\n    concurrently process events. The default is one process.\n\n  - `:consistency` - one of either `:eventual` (default) or `:strong`.\n\n  - `:start_from` - where to start the event store subscription from when\n    first created (default: `:origin`).\n\n  - :subscribe_to - which stream to subscribe to can be either `:all` to\n    subscribe to all events or a named stream (default: `:all`).\n\n  - :batch_size - the size of batches to deliver to `handle_batch` in batched\n    mode.\n\nThe default options supported by `GenServer.start_link/3` are supported,\nincluding the `:hibernate_after` option which allows the process to go\ninto hibernation after a period of inactivity.","ref":"BaladosSyncProjections.Projectors.CollectionsProjector.html#start_link/1-options"},{"type":"function","title":"BaladosSyncProjections.Projectors.CollectionsProjector.update_projection/3","doc":"","ref":"BaladosSyncProjections.Projectors.CollectionsProjector.html#update_projection/3"},{"type":"module","title":"BaladosSyncProjections.Projectors.PlaylistsProjector","doc":"","ref":"BaladosSyncProjections.Projectors.PlaylistsProjector.html"},{"type":"function","title":"BaladosSyncProjections.Projectors.PlaylistsProjector.child_spec/1","doc":"Provides a child specification to allow the event handler to be easily\nsupervised.\n\nSupports the same options as `start_link/3`.\n\nThe default options supported by `GenServer.start_link/3` are also\nsupported, including the `:hibernate_after` option which allows the\nprocess to go into hibernation after a period of inactivity.","ref":"BaladosSyncProjections.Projectors.PlaylistsProjector.html#child_spec/1"},{"type":"function","title":"Example - BaladosSyncProjections.Projectors.PlaylistsProjector.child_spec/1","doc":"Supervisor.start_link([\n      {ExampleHandler, []}\n    ], strategy: :one_for_one)","ref":"BaladosSyncProjections.Projectors.PlaylistsProjector.html#child_spec/1-example"},{"type":"function","title":"BaladosSyncProjections.Projectors.PlaylistsProjector.schema_prefix/1","doc":"Callback implementation for  Commanded.Projections.Ecto.schema_prefix/1 .","ref":"BaladosSyncProjections.Projectors.PlaylistsProjector.html#schema_prefix/1"},{"type":"function","title":"BaladosSyncProjections.Projectors.PlaylistsProjector.schema_prefix/2","doc":"Callback implementation for  Commanded.Projections.Ecto.schema_prefix/2 .","ref":"BaladosSyncProjections.Projectors.PlaylistsProjector.html#schema_prefix/2"},{"type":"function","title":"BaladosSyncProjections.Projectors.PlaylistsProjector.start_link/1","doc":"Start an event handler `GenServer` process linked to the current process.","ref":"BaladosSyncProjections.Projectors.PlaylistsProjector.html#start_link/1"},{"type":"function","title":"Options - BaladosSyncProjections.Projectors.PlaylistsProjector.start_link/1","doc":"- `:application` - the Commanded application.\n\n  - `:name` - name of the event handler used to determine its unique event\n    store subscription.\n\n  - `:concurrency` - determines how many processes are started to\n    concurrently process events. The default is one process.\n\n  - `:consistency` - one of either `:eventual` (default) or `:strong`.\n\n  - `:start_from` - where to start the event store subscription from when\n    first created (default: `:origin`).\n\n  - :subscribe_to - which stream to subscribe to can be either `:all` to\n    subscribe to all events or a named stream (default: `:all`).\n\n  - :batch_size - the size of batches to deliver to `handle_batch` in batched\n    mode.\n\nThe default options supported by `GenServer.start_link/3` are supported,\nincluding the `:hibernate_after` option which allows the process to go\ninto hibernation after a period of inactivity.","ref":"BaladosSyncProjections.Projectors.PlaylistsProjector.html#start_link/1-options"},{"type":"function","title":"BaladosSyncProjections.Projectors.PlaylistsProjector.update_projection/3","doc":"","ref":"BaladosSyncProjections.Projectors.PlaylistsProjector.html#update_projection/3"},{"type":"module","title":"BaladosSyncProjections.Schemas.AppToken","doc":"Schema for third-party app authorizations using JWT-based authentication.\n\nApps are identified by their app_id (from JWT 'iss' field) and public key.\nUsers authorize apps, allowing them to make API requests on their behalf\nwithin the granted scopes.","ref":"BaladosSyncProjections.Schemas.AppToken.html"},{"type":"function","title":"BaladosSyncProjections.Schemas.AppToken.changeset/2","doc":"Changeset for creating or updating an app token authorization.","ref":"BaladosSyncProjections.Schemas.AppToken.html#changeset/2"},{"type":"function","title":"BaladosSyncProjections.Schemas.AppToken.revoke_changeset/1","doc":"Changeset for revoking a token.","ref":"BaladosSyncProjections.Schemas.AppToken.html#revoke_changeset/1"},{"type":"function","title":"BaladosSyncProjections.Schemas.AppToken.touch_changeset/1","doc":"Changeset for updating the last_used_at timestamp.","ref":"BaladosSyncProjections.Schemas.AppToken.html#touch_changeset/1"},{"type":"module","title":"BaladosSyncProjections.Schemas.Collection","doc":"Projection schema for user collections.\n\nCollections allow users to organize their podcast subscriptions.\nEach user has one default collection (is_default: true) that automatically includes new subscriptions.","ref":"BaladosSyncProjections.Schemas.Collection.html"},{"type":"module","title":"BaladosSyncProjections.Schemas.CollectionSubscription","doc":"Projection schema for collection-feed associations.\n\nMaps podcast feeds to collections. This is a join table allowing\nmany-to-many relationships between collections and feeds.","ref":"BaladosSyncProjections.Schemas.CollectionSubscription.html"},{"type":"module","title":"BaladosSyncProjections.Schemas.EmailVerification","doc":"Schema for email-based podcast ownership verification.\n\nTracks email verification codes sent to addresses found in podcast RSS feeds.\n\nStatus flow:\n- pending: Verification code generated, awaiting send or entry\n- sent: Email sent, awaiting user to enter code\n- verified: Code validated successfully\n- expired: Code expired before verification\n- failed: Too many failed attempts\n\nThis is a system table (not event-sourced), managed directly via Ecto.","ref":"BaladosSyncProjections.Schemas.EmailVerification.html"},{"type":"function","title":"BaladosSyncProjections.Schemas.EmailVerification.create_changeset/5","doc":"Creates a new pending email verification.\nDefault expiration: 30 minutes from now.","ref":"BaladosSyncProjections.Schemas.EmailVerification.html#create_changeset/5"},{"type":"function","title":"BaladosSyncProjections.Schemas.EmailVerification.expire_changeset/1","doc":"Marks verification as expired.","ref":"BaladosSyncProjections.Schemas.EmailVerification.html#expire_changeset/1"},{"type":"function","title":"BaladosSyncProjections.Schemas.EmailVerification.generate_verification_code/0","doc":"Generates a 6-digit numeric verification code.","ref":"BaladosSyncProjections.Schemas.EmailVerification.html#generate_verification_code/0"},{"type":"function","title":"BaladosSyncProjections.Schemas.EmailVerification.increment_attempts_changeset/1","doc":"Increments attempt count. Returns failed status if max attempts reached.","ref":"BaladosSyncProjections.Schemas.EmailVerification.html#increment_attempts_changeset/1"},{"type":"function","title":"BaladosSyncProjections.Schemas.EmailVerification.mark_sent_changeset/1","doc":"Marks verification as sent.","ref":"BaladosSyncProjections.Schemas.EmailVerification.html#mark_sent_changeset/1"},{"type":"function","title":"BaladosSyncProjections.Schemas.EmailVerification.max_attempts/0","doc":"Returns the maximum number of attempts allowed.","ref":"BaladosSyncProjections.Schemas.EmailVerification.html#max_attempts/0"},{"type":"function","title":"BaladosSyncProjections.Schemas.EmailVerification.valid_statuses/0","doc":"Returns the list of valid statuses.","ref":"BaladosSyncProjections.Schemas.EmailVerification.html#valid_statuses/0"},{"type":"function","title":"BaladosSyncProjections.Schemas.EmailVerification.verify_changeset/1","doc":"Marks verification as verified.","ref":"BaladosSyncProjections.Schemas.EmailVerification.html#verify_changeset/1"},{"type":"module","title":"BaladosSyncProjections.Schemas.EnrichedPodcast","doc":"Schema for enriched podcast entries.\n\nEnriched podcasts allow admins to create custom URL slugs, branding options,\nand social links for featured podcasts. Multiple users can co-administrate\na single podcast through the admin_user_ids field.\n\nThis is a system table (not event-sourced), managed directly via Ecto.\n\nNote: This schema is created by PR #107 (enriched podcasts) and extended by\nPR for issue #68 (podcast ownership with admin_user_ids).","ref":"BaladosSyncProjections.Schemas.EnrichedPodcast.html"},{"type":"function","title":"BaladosSyncProjections.Schemas.EnrichedPodcast.changeset/2","doc":"Changeset for creating or updating an enriched podcast.\n\nLinks format:\n[\n  %{\"type\" => \"twitter\", \"url\" => \"https://twitter.com/...\"},\n  %{\"type\" => \"custom\", \"title\" => \"Website\", \"url\" => \"https://...\"}\n]\n\nSupported social types: twitter, mastodon, instagram, youtube, spotify, apple_podcasts","ref":"BaladosSyncProjections.Schemas.EnrichedPodcast.html#changeset/2"},{"type":"function","title":"BaladosSyncProjections.Schemas.EnrichedPodcast.social_types/0","doc":"Returns the list of supported social network types.","ref":"BaladosSyncProjections.Schemas.EnrichedPodcast.html#social_types/0"},{"type":"module","title":"BaladosSyncProjections.Schemas.PlayToken","doc":"Schema for simple bearer tokens used for play gateway authentication.\n\nPlay tokens are simple bearer tokens that allow unauthenticated access\nto the play gateway for tracking listens without full app authorization.\nThese are used by podcast players that redirect through the play gateway.","ref":"BaladosSyncProjections.Schemas.PlayToken.html"},{"type":"function","title":"BaladosSyncProjections.Schemas.PlayToken.calculate_expiration/1","doc":"Calculates an expiration date based on days from now.\n\nDefaults to 365 days if not provided.","ref":"BaladosSyncProjections.Schemas.PlayToken.html#calculate_expiration/1"},{"type":"function","title":"BaladosSyncProjections.Schemas.PlayToken.changeset/2","doc":"Changeset for creating or updating a play token.","ref":"BaladosSyncProjections.Schemas.PlayToken.html#changeset/2"},{"type":"function","title":"BaladosSyncProjections.Schemas.PlayToken.expired?/1","doc":"Checks if a token has expired.\n\nReturns true if the token has an expiration date and it's in the past.\nReturns false if the token has no expiration or if the expiration is in the future.","ref":"BaladosSyncProjections.Schemas.PlayToken.html#expired?/1"},{"type":"function","title":"BaladosSyncProjections.Schemas.PlayToken.generate_token/0","doc":"Generates a secure random token.","ref":"BaladosSyncProjections.Schemas.PlayToken.html#generate_token/0"},{"type":"function","title":"BaladosSyncProjections.Schemas.PlayToken.revoke_changeset/1","doc":"Changeset for revoking a token.","ref":"BaladosSyncProjections.Schemas.PlayToken.html#revoke_changeset/1"},{"type":"function","title":"BaladosSyncProjections.Schemas.PlayToken.touch_changeset/1","doc":"Changeset for updating the last_used_at timestamp.","ref":"BaladosSyncProjections.Schemas.PlayToken.html#touch_changeset/1"},{"type":"module","title":"BaladosSyncProjections.Schemas.PodcastOwnershipClaim","doc":"Schema for podcast ownership verification claims.\n\nTracks the verification flow for users claiming administrative ownership\nof a podcast by proving they control its RSS feed.\n\nStatus flow:\n- pending: Initial state, awaiting verification\n- verified: Verification successful, user is now an admin\n- failed: Verification code not found in feed\n- expired: Verification code expired before successful verification\n- cancelled: User cancelled the claim request\n\nThis is a system table (not event-sourced), managed directly via Ecto.","ref":"BaladosSyncProjections.Schemas.PodcastOwnershipClaim.html"},{"type":"function","title":"BaladosSyncProjections.Schemas.PodcastOwnershipClaim.cancel_changeset/1","doc":"Marks claim as cancelled.","ref":"BaladosSyncProjections.Schemas.PodcastOwnershipClaim.html#cancel_changeset/1"},{"type":"function","title":"BaladosSyncProjections.Schemas.PodcastOwnershipClaim.create_changeset/3","doc":"Creates a new pending claim with auto-generated verification code.\nDefault expiration: 48 hours from now.","ref":"BaladosSyncProjections.Schemas.PodcastOwnershipClaim.html#create_changeset/3"},{"type":"function","title":"BaladosSyncProjections.Schemas.PodcastOwnershipClaim.expire_changeset/1","doc":"Marks claim as expired.","ref":"BaladosSyncProjections.Schemas.PodcastOwnershipClaim.html#expire_changeset/1"},{"type":"function","title":"BaladosSyncProjections.Schemas.PodcastOwnershipClaim.fail_changeset/2","doc":"Marks claim as failed with reason.","ref":"BaladosSyncProjections.Schemas.PodcastOwnershipClaim.html#fail_changeset/2"},{"type":"function","title":"BaladosSyncProjections.Schemas.PodcastOwnershipClaim.generate_verification_code/0","doc":"Generates a new verification code in the format: balados-verify- \nUses cryptographically secure random generation.","ref":"BaladosSyncProjections.Schemas.PodcastOwnershipClaim.html#generate_verification_code/0"},{"type":"function","title":"BaladosSyncProjections.Schemas.PodcastOwnershipClaim.increment_attempts_changeset/1","doc":"Increments verification attempts without changing status.\nUsed when verification fails but user can retry.","ref":"BaladosSyncProjections.Schemas.PodcastOwnershipClaim.html#increment_attempts_changeset/1"},{"type":"function","title":"BaladosSyncProjections.Schemas.PodcastOwnershipClaim.valid_statuses/0","doc":"Returns the list of valid statuses.","ref":"BaladosSyncProjections.Schemas.PodcastOwnershipClaim.html#valid_statuses/0"},{"type":"function","title":"BaladosSyncProjections.Schemas.PodcastOwnershipClaim.verify_changeset/2","doc":"Marks claim as verified with enriched podcast association.","ref":"BaladosSyncProjections.Schemas.PodcastOwnershipClaim.html#verify_changeset/2"},{"type":"module","title":"BaladosSyncProjections.Schemas.UserPodcastSettings","doc":"Schema for user-specific podcast settings.\n\nStores per-user preferences for claimed podcasts, including:\n- visibility: Whether the podcast appears on the user's public profile\n\nThis is a system table (not event-sourced), managed directly via Ecto.","ref":"BaladosSyncProjections.Schemas.UserPodcastSettings.html"},{"type":"function","title":"BaladosSyncProjections.Schemas.UserPodcastSettings.valid_visibilities/0","doc":"Returns the list of valid visibility options.","ref":"BaladosSyncProjections.Schemas.UserPodcastSettings.html#valid_visibilities/0"},{"type":"module","title":"BaladosSyncWeb","doc":"The entrypoint for defining your web interface, such\nas controllers, components, channels, and so on.\n\nThis can be used in your application as:\n\n    use BaladosSyncWeb, :controller\n    use BaladosSyncWeb, :html\n\nThe definitions below will be executed for every controller,\ncomponent, etc, so keep them short and clean, focused\non imports, uses and aliases.\n\nDo NOT define functions inside the quoted expressions\nbelow. Instead, define additional modules and import\nthose modules here.","ref":"BaladosSyncWeb.html"},{"type":"macro","title":"BaladosSyncWeb.__using__/1","doc":"When used, dispatch to the appropriate controller/view/etc.","ref":"BaladosSyncWeb.html#__using__/1"},{"type":"function","title":"BaladosSyncWeb.channel/0","doc":"","ref":"BaladosSyncWeb.html#channel/0"},{"type":"function","title":"BaladosSyncWeb.controller/0","doc":"","ref":"BaladosSyncWeb.html#controller/0"},{"type":"function","title":"BaladosSyncWeb.html/0","doc":"","ref":"BaladosSyncWeb.html#html/0"},{"type":"function","title":"BaladosSyncWeb.live_component/0","doc":"","ref":"BaladosSyncWeb.html#live_component/0"},{"type":"function","title":"BaladosSyncWeb.live_view/0","doc":"","ref":"BaladosSyncWeb.html#live_view/0"},{"type":"function","title":"BaladosSyncWeb.router/0","doc":"","ref":"BaladosSyncWeb.html#router/0"},{"type":"function","title":"BaladosSyncWeb.static_paths/0","doc":"","ref":"BaladosSyncWeb.html#static_paths/0"},{"type":"function","title":"BaladosSyncWeb.verified_routes/0","doc":"","ref":"BaladosSyncWeb.html#verified_routes/0"},{"type":"module","title":"BaladosSyncWeb.AdminController","doc":"","ref":"BaladosSyncWeb.AdminController.html"},{"type":"function","title":"BaladosSyncWeb.AdminController.generate_rss_link/2","doc":"","ref":"BaladosSyncWeb.AdminController.html#generate_rss_link/2"},{"type":"function","title":"BaladosSyncWeb.AdminController.index/2","doc":"","ref":"BaladosSyncWeb.AdminController.html#index/2"},{"type":"function","title":"BaladosSyncWeb.AdminController.rss_utility/2","doc":"","ref":"BaladosSyncWeb.AdminController.html#rss_utility/2"},{"type":"module","title":"BaladosSyncWeb.AdminHTML","doc":"","ref":"BaladosSyncWeb.AdminHTML.html"},{"type":"function","title":"BaladosSyncWeb.AdminHTML.index/1","doc":"","ref":"BaladosSyncWeb.AdminHTML.html#index/1"},{"type":"function","title":"BaladosSyncWeb.AdminHTML.rss_utility/1","doc":"","ref":"BaladosSyncWeb.AdminHTML.html#rss_utility/1"},{"type":"module","title":"BaladosSyncWeb.AppAuthHTML","doc":"HTML rendering for app authorization pages.","ref":"BaladosSyncWeb.AppAuthHTML.html"},{"type":"function","title":"BaladosSyncWeb.AppAuthHTML.authorize/1","doc":"","ref":"BaladosSyncWeb.AppAuthHTML.html#authorize/1"},{"type":"function","title":"BaladosSyncWeb.AppAuthHTML.format_datetime/1","doc":"Formats a DateTime for display.","ref":"BaladosSyncWeb.AppAuthHTML.html#format_datetime/1"},{"type":"function","title":"BaladosSyncWeb.AppAuthHTML.index/1","doc":"","ref":"BaladosSyncWeb.AppAuthHTML.html#index/1"},{"type":"function","title":"BaladosSyncWeb.AppAuthHTML.manage_apps/1","doc":"","ref":"BaladosSyncWeb.AppAuthHTML.html#manage_apps/1"},{"type":"function","title":"BaladosSyncWeb.AppAuthHTML.scope_description/1","doc":"Returns a human-readable description for a given scope.","ref":"BaladosSyncWeb.AppAuthHTML.html#scope_description/1"},{"type":"function","title":"BaladosSyncWeb.AppAuthHTML.truncate_url/2","doc":"Truncates a URL to a reasonable display length.","ref":"BaladosSyncWeb.AppAuthHTML.html#truncate_url/2"},{"type":"module","title":"BaladosSyncWeb.CollectionsController","doc":"Controller for managing user collections.\n\nCollections allow users to organize their podcast subscriptions into custom groupings.\nAll operations use CQRS commands dispatched through the Commanded dispatcher, ensuring\nevents are properly recorded in the event store.","ref":"BaladosSyncWeb.CollectionsController.html"},{"type":"module","title":"Routes - BaladosSyncWeb.CollectionsController","doc":"- `GET /api/v1/collections` - List all collections for the authenticated user\n- `POST /api/v1/collections` - Create a new collection\n- `PATCH /api/v1/collections/:id` - Update a collection\n- `DELETE /api/v1/collections/:id` - Delete a collection (soft delete)\n- `POST /api/v1/collections/:id/feeds` - Add a feed to a collection\n- `DELETE /api/v1/collections/:id/feeds/:feed_id` - Remove a feed from a collection","ref":"BaladosSyncWeb.CollectionsController.html#module-routes"},{"type":"module","title":"Authentication - BaladosSyncWeb.CollectionsController","doc":"All endpoints require JWT authentication with appropriate scopes:\n- `user.collections.read` - Read collections\n- `user.collections.write` - Create, update, delete collections and manage feeds","ref":"BaladosSyncWeb.CollectionsController.html#module-authentication"},{"type":"module","title":"Authorization - BaladosSyncWeb.CollectionsController","doc":"- Users can only access their own collections\n- Default collection (slug: \"all\") cannot be deleted\n- Feeds can only be added if user is subscribed to them","ref":"BaladosSyncWeb.CollectionsController.html#module-authorization"},{"type":"function","title":"BaladosSyncWeb.CollectionsController.add_feed/2","doc":"Adds a feed to a collection.\n\nDispatches an `AddFeedToCollection` command that creates a `FeedAddedToCollection` event.\n\nThe feed must already be subscribed by the user to be added to a collection.","ref":"BaladosSyncWeb.CollectionsController.html#add_feed/2"},{"type":"function","title":"Parameters - BaladosSyncWeb.CollectionsController.add_feed/2","doc":"- `id` - Collection ID (from URL)\n- `rss_source_feed` - Base64-encoded feed URL (in body)","ref":"BaladosSyncWeb.CollectionsController.html#add_feed/2-parameters"},{"type":"function","title":"Example Request - BaladosSyncWeb.CollectionsController.add_feed/2","doc":"POST /api/v1/collections/550e8400-e29b-41d4-a716-446655440000/feeds\n    Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...\n    Content-Type: application/json\n\n    {\n      \"rss_source_feed\": \"aHR0cHM6Ly9mZWVkcy5leGFtcGxlLmNvbS9uZXdz\"\n    }","ref":"BaladosSyncWeb.CollectionsController.html#add_feed/2-example-request"},{"type":"function","title":"Example Response (Success) - BaladosSyncWeb.CollectionsController.add_feed/2","doc":"{\n      \"status\": \"success\"\n    }","ref":"BaladosSyncWeb.CollectionsController.html#add_feed/2-example-response-success"},{"type":"function","title":"Example Response (Error: feed not subscribed) - BaladosSyncWeb.CollectionsController.add_feed/2","doc":"{\n      \"error\": \"feed_not_subscribed\"\n    }","ref":"BaladosSyncWeb.CollectionsController.html#add_feed/2-example-response-error-feed-not-subscribed"},{"type":"function","title":"Example Response (Error: already in collection) - BaladosSyncWeb.CollectionsController.add_feed/2","doc":"{\n      \"error\": \"feed_already_in_collection\"\n    }","ref":"BaladosSyncWeb.CollectionsController.html#add_feed/2-example-response-error-already-in-collection"},{"type":"function","title":"BaladosSyncWeb.CollectionsController.create/2","doc":"Creates a new collection.\n\nDispatches a `CreateCollection` command that creates a `CollectionCreated` event.\nThe event is then projected to the collections read model.","ref":"BaladosSyncWeb.CollectionsController.html#create/2"},{"type":"function","title":"Parameters - BaladosSyncWeb.CollectionsController.create/2","doc":"- `title` - Collection title (required)\n- `slug` - URL-friendly identifier (required, must be unique per user)","ref":"BaladosSyncWeb.CollectionsController.html#create/2-parameters"},{"type":"function","title":"Example Request - BaladosSyncWeb.CollectionsController.create/2","doc":"POST /api/v1/collections\n    Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...\n    Content-Type: application/json\n\n    {\n      \"title\": \"Favorites\",\n      \"slug\": \"favorites\"\n    }","ref":"BaladosSyncWeb.CollectionsController.html#create/2-example-request"},{"type":"function","title":"Example Response (Success) - BaladosSyncWeb.CollectionsController.create/2","doc":"{\n      \"collection\": {\n        \"id\": \"550e8400-e29b-41d4-a716-446655440000\",\n        \"user_id\": \"user-123\",\n        \"title\": \"Favorites\",\n        \"slug\": \"favorites\",\n        \"feeds\": [],\n        \"inserted_at\": \"2024-01-15T10:30:00Z\",\n        \"updated_at\": \"2024-01-15T10:30:00Z\"\n      }\n    }","ref":"BaladosSyncWeb.CollectionsController.html#create/2-example-response-success"},{"type":"function","title":"Example Response (Error) - BaladosSyncWeb.CollectionsController.create/2","doc":"{\n      \"error\": \"slug_already_exists\"\n    }","ref":"BaladosSyncWeb.CollectionsController.html#create/2-example-response-error"},{"type":"function","title":"BaladosSyncWeb.CollectionsController.delete/2","doc":"Deletes a collection.\n\nPerforms a soft delete (marks deleted_at). The default collection (slug: \"all\")\ncannot be deleted.\n\nDispatches a `DeleteCollection` command that creates a `CollectionDeleted` event.","ref":"BaladosSyncWeb.CollectionsController.html#delete/2"},{"type":"function","title":"Parameters - BaladosSyncWeb.CollectionsController.delete/2","doc":"- `id` - Collection ID (from URL)","ref":"BaladosSyncWeb.CollectionsController.html#delete/2-parameters"},{"type":"function","title":"Example Request - BaladosSyncWeb.CollectionsController.delete/2","doc":"DELETE /api/v1/collections/550e8400-e29b-41d4-a716-446655440000\n    Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...","ref":"BaladosSyncWeb.CollectionsController.html#delete/2-example-request"},{"type":"function","title":"Example Response (Success) - BaladosSyncWeb.CollectionsController.delete/2","doc":"{\n      \"status\": \"success\"\n    }","ref":"BaladosSyncWeb.CollectionsController.html#delete/2-example-response-success"},{"type":"function","title":"Example Response (Error: default collection) - BaladosSyncWeb.CollectionsController.delete/2","doc":"{\n      \"error\": \"cannot_delete_default_collection\"\n    }","ref":"BaladosSyncWeb.CollectionsController.html#delete/2-example-response-error-default-collection"},{"type":"function","title":"Example Response (Error: not found) - BaladosSyncWeb.CollectionsController.delete/2","doc":"{\n      \"error\": \"not_found\"\n    }","ref":"BaladosSyncWeb.CollectionsController.html#delete/2-example-response-error-not-found"},{"type":"function","title":"BaladosSyncWeb.CollectionsController.index/2","doc":"Lists all collections for the authenticated user.\n\nReturns collections sorted by creation date. Each collection includes the list of\nassociated feeds.","ref":"BaladosSyncWeb.CollectionsController.html#index/2"},{"type":"function","title":"Example Request - BaladosSyncWeb.CollectionsController.index/2","doc":"GET /api/v1/collections\n    Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...","ref":"BaladosSyncWeb.CollectionsController.html#index/2-example-request"},{"type":"function","title":"Example Response - BaladosSyncWeb.CollectionsController.index/2","doc":"{\n      \"collections\": [\n        {\n          \"id\": \"550e8400-e29b-41d4-a716-446655440000\",\n          \"user_id\": \"user-123\",\n          \"title\": \"News\",\n          \"slug\": \"news\",\n          \"feeds\": [\n            {\n              \"id\": \"550e8400-e29b-41d4-a716-446655440001\",\n              \"rss_source_feed\": \"aHR0cHM6Ly9mZWVkcy5leGFtcGxlLmNvbS9uZXdz\",\n              \"rss_feed_title\": \"Morning News\"\n            }\n          ],\n          \"inserted_at\": \"2024-01-15T10:30:00Z\",\n          \"updated_at\": \"2024-01-15T10:30:00Z\"\n        }\n      ]\n    }","ref":"BaladosSyncWeb.CollectionsController.html#index/2-example-response"},{"type":"function","title":"BaladosSyncWeb.CollectionsController.remove_feed/2","doc":"Removes a feed from a collection.\n\nDispatches a `RemoveFeedFromCollection` command that creates a `FeedRemovedFromCollection` event.","ref":"BaladosSyncWeb.CollectionsController.html#remove_feed/2"},{"type":"function","title":"Parameters - BaladosSyncWeb.CollectionsController.remove_feed/2","doc":"- `id` - Collection ID (from URL)\n- `feed_id` - Base64-encoded feed URL (from URL)","ref":"BaladosSyncWeb.CollectionsController.html#remove_feed/2-parameters"},{"type":"function","title":"Example Request - BaladosSyncWeb.CollectionsController.remove_feed/2","doc":"DELETE /api/v1/collections/550e8400-e29b-41d4-a716-446655440000/feeds/aHR0cHM6Ly9mZWVkcy5leGFtcGxlLmNvbS9uZXdz\n    Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...","ref":"BaladosSyncWeb.CollectionsController.html#remove_feed/2-example-request"},{"type":"function","title":"Example Response (Success) - BaladosSyncWeb.CollectionsController.remove_feed/2","doc":"{\n      \"status\": \"success\"\n    }","ref":"BaladosSyncWeb.CollectionsController.html#remove_feed/2-example-response-success"},{"type":"function","title":"Example Response (Error: feed not in collection) - BaladosSyncWeb.CollectionsController.remove_feed/2","doc":"{\n      \"error\": \"feed_not_in_collection\"\n    }","ref":"BaladosSyncWeb.CollectionsController.html#remove_feed/2-example-response-error-feed-not-in-collection"},{"type":"function","title":"BaladosSyncWeb.CollectionsController.show/2","doc":"Shows a single collection with its feeds.\n\nReturns the collection details with all associated feeds.","ref":"BaladosSyncWeb.CollectionsController.html#show/2"},{"type":"function","title":"Parameters - BaladosSyncWeb.CollectionsController.show/2","doc":"- `id` - Collection ID (UUID)","ref":"BaladosSyncWeb.CollectionsController.html#show/2-parameters"},{"type":"function","title":"Example Request - BaladosSyncWeb.CollectionsController.show/2","doc":"GET /api/v1/collections/550e8400-e29b-41d4-a716-446655440000\n    Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...","ref":"BaladosSyncWeb.CollectionsController.html#show/2-example-request"},{"type":"function","title":"Example Response (Success) - BaladosSyncWeb.CollectionsController.show/2","doc":"{\n      \"collection\": {\n        \"id\": \"550e8400-e29b-41d4-a716-446655440000\",\n        \"user_id\": \"user-123\",\n        \"title\": \"News\",\n        \"slug\": \"news\",\n        \"feeds\": [...]\n      }\n    }","ref":"BaladosSyncWeb.CollectionsController.html#show/2-example-response-success"},{"type":"function","title":"Example Response (Error) - BaladosSyncWeb.CollectionsController.show/2","doc":"{\n      \"error\": \"not_found\"\n    }","ref":"BaladosSyncWeb.CollectionsController.html#show/2-example-response-error"},{"type":"function","title":"BaladosSyncWeb.CollectionsController.update/2","doc":"Updates a collection.\n\nDispatches an `UpdateCollection` command that creates a `CollectionUpdated` event.\nCurrently only supports updating the collection title.","ref":"BaladosSyncWeb.CollectionsController.html#update/2"},{"type":"function","title":"Parameters - BaladosSyncWeb.CollectionsController.update/2","doc":"- `id` - Collection ID (from URL)\n- `title` - New title (required)","ref":"BaladosSyncWeb.CollectionsController.html#update/2-parameters"},{"type":"function","title":"Example Request - BaladosSyncWeb.CollectionsController.update/2","doc":"PATCH /api/v1/collections/550e8400-e29b-41d4-a716-446655440000\n    Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...\n    Content-Type: application/json\n\n    {\n      \"title\": \"My Favorites\"\n    }","ref":"BaladosSyncWeb.CollectionsController.html#update/2-example-request"},{"type":"function","title":"Example Response (Success) - BaladosSyncWeb.CollectionsController.update/2","doc":"{\n      \"collection\": {\n        \"id\": \"550e8400-e29b-41d4-a716-446655440000\",\n        \"title\": \"My Favorites\",\n        \"slug\": \"favorites\",\n        ...\n      }\n    }","ref":"BaladosSyncWeb.CollectionsController.html#update/2-example-response-success"},{"type":"function","title":"Example Response (Error) - BaladosSyncWeb.CollectionsController.update/2","doc":"{\n      \"error\": \"not_found\"\n    }","ref":"BaladosSyncWeb.CollectionsController.html#update/2-example-response-error"},{"type":"module","title":"BaladosSyncWeb.CoreComponents","doc":"Provides core UI components.\n\nAt first glance, this module may seem daunting, but its goal is to provide\ncore building blocks for your application, such as modals, tables, and\nforms. The components consist mostly of markup and are well-documented\nwith doc strings and declarative assigns. You may customize and style\nthem in any way you want, based on your application growth and needs.\n\nThe default components use Tailwind CSS, a utility-first CSS framework.\nSee the [Tailwind CSS documentation](https://tailwindcss.com) to learn\nhow to customize them or feel free to swap in another framework altogether.\n\nIcons are provided by [heroicons](https://heroicons.com). See `icon/1` for usage.","ref":"BaladosSyncWeb.CoreComponents.html"},{"type":"function","title":"BaladosSyncWeb.CoreComponents.back/1","doc":"Renders a back navigation link.","ref":"BaladosSyncWeb.CoreComponents.html#back/1"},{"type":"function","title":"Examples - BaladosSyncWeb.CoreComponents.back/1","doc":"<.back navigate={~p\"/posts\"}>Back to posts</.back>","ref":"BaladosSyncWeb.CoreComponents.html#back/1-examples"},{"type":"function","title":"Attributes - BaladosSyncWeb.CoreComponents.back/1","doc":"* `navigate` (`:any`) (required)","ref":"BaladosSyncWeb.CoreComponents.html#back/1-attributes"},{"type":"function","title":"Slots - BaladosSyncWeb.CoreComponents.back/1","doc":"* `inner_block` (required)","ref":"BaladosSyncWeb.CoreComponents.html#back/1-slots"},{"type":"function","title":"BaladosSyncWeb.CoreComponents.button/1","doc":"Renders a button.","ref":"BaladosSyncWeb.CoreComponents.html#button/1"},{"type":"function","title":"Examples - BaladosSyncWeb.CoreComponents.button/1","doc":"<.button>Send!</.button>\n    <.button phx-click=\"go\" class=\"ml-2\">Send!</.button>","ref":"BaladosSyncWeb.CoreComponents.html#button/1-examples"},{"type":"function","title":"Attributes - BaladosSyncWeb.CoreComponents.button/1","doc":"* `type` (`:string`) - Defaults to `nil`.\n* `class` (`:string`) - Defaults to `nil`.\n* Global attributes are accepted. Supports all globals plus: `[\"disabled\", \"form\", \"name\", \"value\"]`.","ref":"BaladosSyncWeb.CoreComponents.html#button/1-attributes"},{"type":"function","title":"Slots - BaladosSyncWeb.CoreComponents.button/1","doc":"* `inner_block` (required)","ref":"BaladosSyncWeb.CoreComponents.html#button/1-slots"},{"type":"function","title":"BaladosSyncWeb.CoreComponents.error/1","doc":"Generates a generic error message.","ref":"BaladosSyncWeb.CoreComponents.html#error/1"},{"type":"function","title":"Slots - BaladosSyncWeb.CoreComponents.error/1","doc":"* `inner_block` (required)","ref":"BaladosSyncWeb.CoreComponents.html#error/1-slots"},{"type":"function","title":"BaladosSyncWeb.CoreComponents.flash/1","doc":"Renders flash notices.","ref":"BaladosSyncWeb.CoreComponents.html#flash/1"},{"type":"function","title":"Examples - BaladosSyncWeb.CoreComponents.flash/1","doc":"<.flash kind={:info} flash={@flash} />\n    <.flash kind={:info} phx-mounted={show(\"#flash\")}>Welcome Back!</.flash>","ref":"BaladosSyncWeb.CoreComponents.html#flash/1-examples"},{"type":"function","title":"Attributes - BaladosSyncWeb.CoreComponents.flash/1","doc":"* `id` (`:string`) - the optional id of flash container.\n* `flash` (`:map`) - the map of flash messages to display. Defaults to `%{}`.\n* `title` (`:string`) - Defaults to `nil`.\n* `kind` (`:atom`) - used for styling and flash lookup.Must be one of `:info`, or `:error`.\n* Global attributes are accepted. the arbitrary HTML attributes to add to the flash container.","ref":"BaladosSyncWeb.CoreComponents.html#flash/1-attributes"},{"type":"function","title":"Slots - BaladosSyncWeb.CoreComponents.flash/1","doc":"* `inner_block` - the optional inner block that renders the flash message.","ref":"BaladosSyncWeb.CoreComponents.html#flash/1-slots"},{"type":"function","title":"BaladosSyncWeb.CoreComponents.flash_group/1","doc":"Shows the flash group with standard titles and content.","ref":"BaladosSyncWeb.CoreComponents.html#flash_group/1"},{"type":"function","title":"Examples - BaladosSyncWeb.CoreComponents.flash_group/1","doc":"<.flash_group flash={@flash} />","ref":"BaladosSyncWeb.CoreComponents.html#flash_group/1-examples"},{"type":"function","title":"Attributes - BaladosSyncWeb.CoreComponents.flash_group/1","doc":"* `flash` (`:map`) (required) - the map of flash messages.\n* `id` (`:string`) - the optional id of flash container. Defaults to `\"flash-group\"`.","ref":"BaladosSyncWeb.CoreComponents.html#flash_group/1-attributes"},{"type":"function","title":"BaladosSyncWeb.CoreComponents.header/1","doc":"Renders a header with title.","ref":"BaladosSyncWeb.CoreComponents.html#header/1"},{"type":"function","title":"Attributes - BaladosSyncWeb.CoreComponents.header/1","doc":"* `class` (`:string`) - Defaults to `nil`.","ref":"BaladosSyncWeb.CoreComponents.html#header/1-attributes"},{"type":"function","title":"Slots - BaladosSyncWeb.CoreComponents.header/1","doc":"* `inner_block` (required)\n* `subtitle`\n* `actions`","ref":"BaladosSyncWeb.CoreComponents.html#header/1-slots"},{"type":"function","title":"BaladosSyncWeb.CoreComponents.hide/2","doc":"","ref":"BaladosSyncWeb.CoreComponents.html#hide/2"},{"type":"function","title":"BaladosSyncWeb.CoreComponents.hide_modal/2","doc":"","ref":"BaladosSyncWeb.CoreComponents.html#hide_modal/2"},{"type":"function","title":"BaladosSyncWeb.CoreComponents.icon/1","doc":"Renders a [Heroicon](https://heroicons.com).\n\nHeroicons come in three styles – outline, solid, and mini.\nBy default, the outline style is used, but solid and mini may\nbe applied by using the `-solid` and `-mini` suffix.\n\nYou can customize the size and colors of the icons by setting\nwidth, height, and background color classes.\n\nIcons are extracted from the `deps/heroicons` directory and bundled within\nyour compiled app.css by the plugin in your `assets/tailwind.config.js`.","ref":"BaladosSyncWeb.CoreComponents.html#icon/1"},{"type":"function","title":"Examples - BaladosSyncWeb.CoreComponents.icon/1","doc":"<.icon name=\"hero-x-mark-solid\" />\n    <.icon name=\"hero-arrow-path\" class=\"ml-1 w-3 h-3 animate-spin\" />","ref":"BaladosSyncWeb.CoreComponents.html#icon/1-examples"},{"type":"function","title":"Attributes - BaladosSyncWeb.CoreComponents.icon/1","doc":"* `name` (`:string`) (required)\n* `class` (`:string`) - Defaults to `nil`.","ref":"BaladosSyncWeb.CoreComponents.html#icon/1-attributes"},{"type":"function","title":"BaladosSyncWeb.CoreComponents.input/1","doc":"Renders an input with label and error messages.\n\nA `Phoenix.HTML.FormField` may be passed as argument,\nwhich is used to retrieve the input name, id, and values.\nOtherwise all attributes may be passed explicitly.","ref":"BaladosSyncWeb.CoreComponents.html#input/1"},{"type":"function","title":"Types - BaladosSyncWeb.CoreComponents.input/1","doc":"This function accepts all HTML input types, considering that:\n\n  * You may also set `type=\"select\"` to render a ` ` tag\n\n  * `type=\"checkbox\"` is used exclusively to render boolean values\n\n  * For live file uploads, see `Phoenix.Component.live_file_input/1`\n\nSee https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input\nfor more information. Unsupported types, such as hidden and radio,\nare best written directly in your templates.","ref":"BaladosSyncWeb.CoreComponents.html#input/1-types"},{"type":"function","title":"Examples - BaladosSyncWeb.CoreComponents.input/1","doc":"<.input field={@form[:email]} type=\"email\" />\n    <.input name=\"my-input\" errors={[\"oh no!\"]} />","ref":"BaladosSyncWeb.CoreComponents.html#input/1-examples"},{"type":"function","title":"Attributes - BaladosSyncWeb.CoreComponents.input/1","doc":"* `id` (`:any`) - Defaults to `nil`.\n* `name` (`:any`)\n* `label` (`:string`) - Defaults to `nil`.\n* `value` (`:any`)\n* `type` (`:string`) - Defaults to `\"text\"`.\n* `field` (`Phoenix.HTML.FormField`) - a form field struct retrieved from the form, for example: @form[:email].\n* `errors` (`:list`) - Defaults to `[]`.\n* `checked` (`:boolean`) - the checked flag for checkbox inputs.\n* `prompt` (`:string`) - the prompt for select inputs. Defaults to `nil`.\n* `options` (`:list`) - the options to pass to Phoenix.HTML.Form.options_for_select/2.\n* `multiple` (`:boolean`) - the multiple flag for select inputs. Defaults to `false`.\n* Global attributes are accepted. Supports all globals plus: `[\"accept\", \"autocomplete\", \"capture\", \"cols\", \"disabled\", \"form\", \"list\", \"max\", \"maxlength\", \"min\", \"minlength\", \"multiple\", \"pattern\", \"placeholder\", \"readonly\", \"required\", \"rows\", \"size\", \"step\"]`.","ref":"BaladosSyncWeb.CoreComponents.html#input/1-attributes"},{"type":"function","title":"Slots - BaladosSyncWeb.CoreComponents.input/1","doc":"* `inner_block`","ref":"BaladosSyncWeb.CoreComponents.html#input/1-slots"},{"type":"function","title":"BaladosSyncWeb.CoreComponents.label/1","doc":"Renders a label.","ref":"BaladosSyncWeb.CoreComponents.html#label/1"},{"type":"function","title":"Attributes - BaladosSyncWeb.CoreComponents.label/1","doc":"* `for` (`:string`) - Defaults to `nil`.","ref":"BaladosSyncWeb.CoreComponents.html#label/1-attributes"},{"type":"function","title":"Slots - BaladosSyncWeb.CoreComponents.label/1","doc":"* `inner_block` (required)","ref":"BaladosSyncWeb.CoreComponents.html#label/1-slots"},{"type":"function","title":"BaladosSyncWeb.CoreComponents.list/1","doc":"Renders a data list.","ref":"BaladosSyncWeb.CoreComponents.html#list/1"},{"type":"function","title":"Examples - BaladosSyncWeb.CoreComponents.list/1","doc":"<.list>\n      <:item title=\"Title\"><%= @post.title %></:item>\n      <:item title=\"Views\"><%= @post.views %></:item>\n    </.list>","ref":"BaladosSyncWeb.CoreComponents.html#list/1-examples"},{"type":"function","title":"Slots - BaladosSyncWeb.CoreComponents.list/1","doc":"* `item` (required) - Accepts attributes:\n\n  * `title` (`:string`) (required)","ref":"BaladosSyncWeb.CoreComponents.html#list/1-slots"},{"type":"function","title":"BaladosSyncWeb.CoreComponents.login_modal/1","doc":"Renders a login modal for unauthenticated users trying to subscribe.","ref":"BaladosSyncWeb.CoreComponents.html#login_modal/1"},{"type":"function","title":"Examples - BaladosSyncWeb.CoreComponents.login_modal/1","doc":"<.login_modal id=\"login-modal\" login_url=\"/users/log_in?return_to=/podcasts/abc123\" register_url=\"/users/register\">\n       Please log in to subscribe to this podcast. \n    </.login_modal>","ref":"BaladosSyncWeb.CoreComponents.html#login_modal/1-examples"},{"type":"function","title":"Attributes - BaladosSyncWeb.CoreComponents.login_modal/1","doc":"* `id` (`:string`) (required)\n* `login_url` (`:string`) (required)\n* `register_url` (`:string`) (required)","ref":"BaladosSyncWeb.CoreComponents.html#login_modal/1-attributes"},{"type":"function","title":"Slots - BaladosSyncWeb.CoreComponents.login_modal/1","doc":"* `inner_block`","ref":"BaladosSyncWeb.CoreComponents.html#login_modal/1-slots"},{"type":"function","title":"BaladosSyncWeb.CoreComponents.modal/1","doc":"Renders a modal.","ref":"BaladosSyncWeb.CoreComponents.html#modal/1"},{"type":"function","title":"Examples - BaladosSyncWeb.CoreComponents.modal/1","doc":"<.modal id=\"confirm-modal\">\n      This is a modal.\n    </.modal>\n\nJS commands may be passed to the `:on_cancel` to configure\nthe closing/cancel event, for example:\n\n    <.modal id=\"confirm\" on_cancel={JS.navigate(~p\"/posts\")}>\n      This is another modal.\n    </.modal>","ref":"BaladosSyncWeb.CoreComponents.html#modal/1-examples"},{"type":"function","title":"Attributes - BaladosSyncWeb.CoreComponents.modal/1","doc":"* `id` (`:string`) (required)\n* `show` (`:boolean`) - Defaults to `false`.\n* `on_cancel` (`Phoenix.LiveView.JS`) - Defaults to `%Phoenix.LiveView.JS{ops: []}`.","ref":"BaladosSyncWeb.CoreComponents.html#modal/1-attributes"},{"type":"function","title":"Slots - BaladosSyncWeb.CoreComponents.modal/1","doc":"* `inner_block` (required)","ref":"BaladosSyncWeb.CoreComponents.html#modal/1-slots"},{"type":"function","title":"BaladosSyncWeb.CoreComponents.privacy_modal/1","doc":"Renders a privacy choice modal for first-time feed interaction.\n\nThis modal allows users to choose their privacy level (private, anonymous, or public)\nfor a podcast subscription or play activity.","ref":"BaladosSyncWeb.CoreComponents.html#privacy_modal/1"},{"type":"function","title":"Attributes - BaladosSyncWeb.CoreComponents.privacy_modal/1","doc":"- `id` (required) - The modal HTML element ID\n- `feed` (required) - Base64-encoded feed URL\n- `context` (default: \"subscribe\") - Either \"subscribe\" or \"play\"","ref":"BaladosSyncWeb.CoreComponents.html#privacy_modal/1-attributes"},{"type":"function","title":"Examples - BaladosSyncWeb.CoreComponents.privacy_modal/1","doc":"<.privacy_modal id=\"privacy-modal\" feed={@encoded_feed} context=\"subscribe\" />","ref":"BaladosSyncWeb.CoreComponents.html#privacy_modal/1-examples"},{"type":"function","title":"Attributes - BaladosSyncWeb.CoreComponents.privacy_modal/1","doc":"* `id` (`:string`) (required)\n* `feed` (`:string`) (required)\n* `context` (`:string`) - Defaults to `\"subscribe\"`.","ref":"BaladosSyncWeb.CoreComponents.html#privacy_modal/1-attributes-1"},{"type":"function","title":"Slots - BaladosSyncWeb.CoreComponents.privacy_modal/1","doc":"* `inner_block`","ref":"BaladosSyncWeb.CoreComponents.html#privacy_modal/1-slots"},{"type":"function","title":"BaladosSyncWeb.CoreComponents.show/2","doc":"","ref":"BaladosSyncWeb.CoreComponents.html#show/2"},{"type":"function","title":"BaladosSyncWeb.CoreComponents.show_modal/2","doc":"","ref":"BaladosSyncWeb.CoreComponents.html#show_modal/2"},{"type":"function","title":"BaladosSyncWeb.CoreComponents.simple_form/1","doc":"Renders a simple form.","ref":"BaladosSyncWeb.CoreComponents.html#simple_form/1"},{"type":"function","title":"Examples - BaladosSyncWeb.CoreComponents.simple_form/1","doc":"<.simple_form for={@form} phx-change=\"validate\" phx-submit=\"save\">\n      <.input field={@form[:email]} label=\"Email\"/>\n      <.input field={@form[:username]} label=\"Username\" />\n      <:actions>\n        <.button>Save</.button>\n      </:actions>\n    </.simple_form>","ref":"BaladosSyncWeb.CoreComponents.html#simple_form/1-examples"},{"type":"function","title":"Attributes - BaladosSyncWeb.CoreComponents.simple_form/1","doc":"* `for` (`:any`) (required) - the datastructure for the form.\n* `as` (`:any`) - the server side parameter to collect all input under. Defaults to `nil`.\n* Global attributes are accepted. the arbitrary HTML attributes to apply to the form tag. Supports all globals plus: `[\"autocomplete\", \"name\", \"rel\", \"action\", \"enctype\", \"method\", \"novalidate\", \"target\", \"multipart\"]`.","ref":"BaladosSyncWeb.CoreComponents.html#simple_form/1-attributes"},{"type":"function","title":"Slots - BaladosSyncWeb.CoreComponents.simple_form/1","doc":"* `inner_block` (required)\n* `actions` - the slot for form actions, such as a submit button.","ref":"BaladosSyncWeb.CoreComponents.html#simple_form/1-slots"},{"type":"function","title":"BaladosSyncWeb.CoreComponents.subscribe_modal/1","doc":"Renders a subscription modal with RSS URL input for authenticated users.","ref":"BaladosSyncWeb.CoreComponents.html#subscribe_modal/1"},{"type":"function","title":"Examples - BaladosSyncWeb.CoreComponents.subscribe_modal/1","doc":"<.subscribe_modal id=\"subscribe-modal\" subscribe_url=\"/subscriptions\" feed_url=\"https://example.com/feed.xml\">\n       Add this podcast to your subscriptions. \n    </.subscribe_modal>","ref":"BaladosSyncWeb.CoreComponents.html#subscribe_modal/1-examples"},{"type":"function","title":"Attributes - BaladosSyncWeb.CoreComponents.subscribe_modal/1","doc":"* `id` (`:string`) (required)\n* `subscribe_url` (`:string`) (required)\n* `feed_url` (`:string`) - Defaults to `\"\"`.","ref":"BaladosSyncWeb.CoreComponents.html#subscribe_modal/1-attributes"},{"type":"function","title":"Slots - BaladosSyncWeb.CoreComponents.subscribe_modal/1","doc":"* `inner_block`","ref":"BaladosSyncWeb.CoreComponents.html#subscribe_modal/1-slots"},{"type":"function","title":"BaladosSyncWeb.CoreComponents.table/1","doc":"Renders a table with generic styling.","ref":"BaladosSyncWeb.CoreComponents.html#table/1"},{"type":"function","title":"Examples - BaladosSyncWeb.CoreComponents.table/1","doc":"<.table id=\"users\" rows={@users}>\n      <:col :let={user} label=\"id\"><%= user.id %></:col>\n      <:col :let={user} label=\"username\"><%= user.username %></:col>\n    </.table>","ref":"BaladosSyncWeb.CoreComponents.html#table/1-examples"},{"type":"function","title":"Attributes - BaladosSyncWeb.CoreComponents.table/1","doc":"* `id` (`:string`) (required)\n* `rows` (`:list`) (required)\n* `row_id` (`:any`) - the function for generating the row id. Defaults to `nil`.\n* `row_click` (`:any`) - the function for handling phx-click on each row. Defaults to `nil`.\n* `row_item` (`:any`) - the function for mapping each row before calling the :col and :action slots. Defaults to `&Function.identity/1`.","ref":"BaladosSyncWeb.CoreComponents.html#table/1-attributes"},{"type":"function","title":"Slots - BaladosSyncWeb.CoreComponents.table/1","doc":"* `col` (required) - Accepts attributes:\n\n  * `label` (`:string`)\n* `action` - the slot for showing user actions in the last table column.","ref":"BaladosSyncWeb.CoreComponents.html#table/1-slots"},{"type":"function","title":"BaladosSyncWeb.CoreComponents.translate_error/1","doc":"Translates an error message using gettext.","ref":"BaladosSyncWeb.CoreComponents.html#translate_error/1"},{"type":"function","title":"BaladosSyncWeb.CoreComponents.translate_errors/2","doc":"Translates the errors for a field from a keyword list of errors.","ref":"BaladosSyncWeb.CoreComponents.html#translate_errors/2"},{"type":"module","title":"BaladosSyncWeb.DashboardHTML","doc":"This module contains pages rendered by DashboardController.","ref":"BaladosSyncWeb.DashboardHTML.html"},{"type":"function","title":"BaladosSyncWeb.DashboardHTML.index/1","doc":"","ref":"BaladosSyncWeb.DashboardHTML.html#index/1"},{"type":"module","title":"BaladosSyncWeb.EnrichedPodcasts","doc":"Context for managing enriched podcast entries.\n\nEnriched podcasts are admin-managed entries that provide:\n- Custom URL slugs (e.g., `/podcast/my-show`)\n- Branding (background color)\n- Social/custom links\n\nThis is system data (not event-sourced), stored in the system schema.","ref":"BaladosSyncWeb.EnrichedPodcasts.html"},{"type":"function","title":"BaladosSyncWeb.EnrichedPodcasts.change_enriched_podcast/2","doc":"Returns a changeset for tracking changes.","ref":"BaladosSyncWeb.EnrichedPodcasts.html#change_enriched_podcast/2"},{"type":"function","title":"BaladosSyncWeb.EnrichedPodcasts.create_enriched_podcast/1","doc":"Creates an enriched podcast.","ref":"BaladosSyncWeb.EnrichedPodcasts.html#create_enriched_podcast/1"},{"type":"function","title":"BaladosSyncWeb.EnrichedPodcasts.delete_enriched_podcast/1","doc":"Deletes an enriched podcast.","ref":"BaladosSyncWeb.EnrichedPodcasts.html#delete_enriched_podcast/1"},{"type":"function","title":"BaladosSyncWeb.EnrichedPodcasts.feed_url_available?/1","doc":"Checks if a feed URL already has an enrichment.","ref":"BaladosSyncWeb.EnrichedPodcasts.html#feed_url_available?/1"},{"type":"function","title":"BaladosSyncWeb.EnrichedPodcasts.get/1","doc":"Gets an enriched podcast by ID.","ref":"BaladosSyncWeb.EnrichedPodcasts.html#get/1"},{"type":"function","title":"BaladosSyncWeb.EnrichedPodcasts.get_by_encoded_feed/1","doc":"Gets an enriched podcast by base64-encoded feed URL.\nReturns nil if decoding fails or not found.","ref":"BaladosSyncWeb.EnrichedPodcasts.html#get_by_encoded_feed/1"},{"type":"function","title":"BaladosSyncWeb.EnrichedPodcasts.get_by_feed_url/1","doc":"Gets an enriched podcast by feed URL.","ref":"BaladosSyncWeb.EnrichedPodcasts.html#get_by_feed_url/1"},{"type":"function","title":"BaladosSyncWeb.EnrichedPodcasts.get_by_slug/1","doc":"Gets an enriched podcast by slug.","ref":"BaladosSyncWeb.EnrichedPodcasts.html#get_by_slug/1"},{"type":"function","title":"BaladosSyncWeb.EnrichedPodcasts.list_enriched_podcasts/0","doc":"Lists all enriched podcasts, ordered by creation date (newest first).","ref":"BaladosSyncWeb.EnrichedPodcasts.html#list_enriched_podcasts/0"},{"type":"function","title":"BaladosSyncWeb.EnrichedPodcasts.resolve_slug_or_encoded/1","doc":"Resolves a slug or encoded feed to an enrichment and feed URL.\n\nReturns `{:slug, feed_url, enrichment}` if resolved by slug,\n`{:encoded, feed_url, enrichment | nil}` if resolved by base64,\nor `{:error, :invalid}` if neither works.","ref":"BaladosSyncWeb.EnrichedPodcasts.html#resolve_slug_or_encoded/1"},{"type":"function","title":"BaladosSyncWeb.EnrichedPodcasts.slug_available?/1","doc":"Checks if a slug is available.","ref":"BaladosSyncWeb.EnrichedPodcasts.html#slug_available?/1"},{"type":"function","title":"BaladosSyncWeb.EnrichedPodcasts.update_enriched_podcast/2","doc":"Updates an enriched podcast.","ref":"BaladosSyncWeb.EnrichedPodcasts.html#update_enriched_podcast/2"},{"type":"module","title":"BaladosSyncWeb.EnrichedPodcastsController","doc":"Admin controller for managing enriched podcast entries.\n\nProvides CRUD operations for creating and managing podcast enrichments\nwith custom slugs, branding, and social links.","ref":"BaladosSyncWeb.EnrichedPodcastsController.html"},{"type":"function","title":"BaladosSyncWeb.EnrichedPodcastsController.check_slug/2","doc":"","ref":"BaladosSyncWeb.EnrichedPodcastsController.html#check_slug/2"},{"type":"function","title":"BaladosSyncWeb.EnrichedPodcastsController.create/2","doc":"","ref":"BaladosSyncWeb.EnrichedPodcastsController.html#create/2"},{"type":"function","title":"BaladosSyncWeb.EnrichedPodcastsController.delete/2","doc":"","ref":"BaladosSyncWeb.EnrichedPodcastsController.html#delete/2"},{"type":"function","title":"BaladosSyncWeb.EnrichedPodcastsController.edit/2","doc":"","ref":"BaladosSyncWeb.EnrichedPodcastsController.html#edit/2"},{"type":"function","title":"BaladosSyncWeb.EnrichedPodcastsController.index/2","doc":"","ref":"BaladosSyncWeb.EnrichedPodcastsController.html#index/2"},{"type":"function","title":"BaladosSyncWeb.EnrichedPodcastsController.new/2","doc":"","ref":"BaladosSyncWeb.EnrichedPodcastsController.html#new/2"},{"type":"function","title":"BaladosSyncWeb.EnrichedPodcastsController.show/2","doc":"","ref":"BaladosSyncWeb.EnrichedPodcastsController.html#show/2"},{"type":"function","title":"BaladosSyncWeb.EnrichedPodcastsController.update/2","doc":"","ref":"BaladosSyncWeb.EnrichedPodcastsController.html#update/2"},{"type":"module","title":"BaladosSyncWeb.EnrichedPodcastsHTML","doc":"","ref":"BaladosSyncWeb.EnrichedPodcastsHTML.html"},{"type":"function","title":"BaladosSyncWeb.EnrichedPodcastsHTML.edit/1","doc":"","ref":"BaladosSyncWeb.EnrichedPodcastsHTML.html#edit/1"},{"type":"function","title":"BaladosSyncWeb.EnrichedPodcastsHTML.index/1","doc":"","ref":"BaladosSyncWeb.EnrichedPodcastsHTML.html#index/1"},{"type":"function","title":"BaladosSyncWeb.EnrichedPodcastsHTML.new/1","doc":"","ref":"BaladosSyncWeb.EnrichedPodcastsHTML.html#new/1"},{"type":"function","title":"BaladosSyncWeb.EnrichedPodcastsHTML.show/1","doc":"","ref":"BaladosSyncWeb.EnrichedPodcastsHTML.html#show/1"},{"type":"function","title":"BaladosSyncWeb.EnrichedPodcastsHTML.social_icon/1","doc":"Returns the icon name for a social network type.","ref":"BaladosSyncWeb.EnrichedPodcastsHTML.html#social_icon/1"},{"type":"function","title":"BaladosSyncWeb.EnrichedPodcastsHTML.social_name/1","doc":"Returns the display name for a social network type.","ref":"BaladosSyncWeb.EnrichedPodcastsHTML.html#social_name/1"},{"type":"module","title":"BaladosSyncWeb.ErrorHTML","doc":"This module is invoked by your endpoint in case of errors on HTML requests.\n\nSee config/config.exs.","ref":"BaladosSyncWeb.ErrorHTML.html"},{"type":"function","title":"BaladosSyncWeb.ErrorHTML.render/2","doc":"","ref":"BaladosSyncWeb.ErrorHTML.html#render/2"},{"type":"module","title":"BaladosSyncWeb.ErrorHelpers","doc":"Helper module for consistent and secure error handling in controllers.\n\nThis module provides functions to handle errors in a way that:\n- Logs full error details server-side for debugging\n- Returns sanitized, user-friendly messages to clients\n- Provides machine-readable error codes for programmatic handling\n- Prevents information leakage through error responses","ref":"BaladosSyncWeb.ErrorHelpers.html"},{"type":"module","title":"Error Codes - BaladosSyncWeb.ErrorHelpers","doc":"All API errors include an `error_code` field with one of:\n- `UNAUTHORIZED` - Authentication required or invalid token\n- `FORBIDDEN` - Valid auth but insufficient permissions\n- `NOT_FOUND` - Requested resource doesn't exist\n- `VALIDATION_ERROR` - Input validation failed\n- `RATE_LIMIT_EXCEEDED` - Too many requests\n- `INTERNAL_ERROR` - Server-side error","ref":"BaladosSyncWeb.ErrorHelpers.html#module-error-codes"},{"type":"module","title":"Usage - BaladosSyncWeb.ErrorHelpers","doc":"In controllers:\n\n    import BaladosSyncWeb.ErrorHelpers\n\n    case Dispatcher.dispatch(command) do\n      :ok ->\n        json(conn, %{status: \"success\"})\n\n      {:error, reason} ->\n        handle_dispatch_error(conn, reason)\n    end\n\nOr with flash messages:\n\n    case SomeContext.do_something() do\n      {:ok, result} ->\n        redirect(conn, to: ~p\"/success\")\n\n      {:error, reason} ->\n        handle_error_with_flash(conn, reason, ~p\"/fallback\")\n    end","ref":"BaladosSyncWeb.ErrorHelpers.html#module-usage"},{"type":"function","title":"BaladosSyncWeb.ErrorHelpers.forbidden/2","doc":"Returns a forbidden error response with error code.","ref":"BaladosSyncWeb.ErrorHelpers.html#forbidden/2"},{"type":"function","title":"BaladosSyncWeb.ErrorHelpers.handle_dispatch_error/2","doc":"Handles dispatch errors from Commanded.\n\nReturns 422 Unprocessable Entity with a validation error code.","ref":"BaladosSyncWeb.ErrorHelpers.html#handle_dispatch_error/2"},{"type":"function","title":"BaladosSyncWeb.ErrorHelpers.handle_error/3","doc":"Standard error response format for JSON APIs.\n\nLogs the full error for debugging and returns a sanitized response with error code.","ref":"BaladosSyncWeb.ErrorHelpers.html#handle_error/3"},{"type":"function","title":"Options - BaladosSyncWeb.ErrorHelpers.handle_error/3","doc":"- `:status` - HTTP status code (default: 422 for dispatch errors, 500 for others)\n  - `:message` - Custom user-facing message (optional, uses reason-based default)\n  - `:code` - Error code atom (optional, inferred from status/reason)","ref":"BaladosSyncWeb.ErrorHelpers.html#handle_error/3-options"},{"type":"function","title":"BaladosSyncWeb.ErrorHelpers.handle_error_with_flash/4","doc":"Handles errors with flash messages for web pages.\n\nLogs the full error and redirects with a sanitized flash message.","ref":"BaladosSyncWeb.ErrorHelpers.html#handle_error_with_flash/4"},{"type":"function","title":"BaladosSyncWeb.ErrorHelpers.internal_server_error/2","doc":"Returns a generic internal server error response with error code.","ref":"BaladosSyncWeb.ErrorHelpers.html#internal_server_error/2"},{"type":"function","title":"BaladosSyncWeb.ErrorHelpers.not_found/2","doc":"Returns a not found error response with error code.","ref":"BaladosSyncWeb.ErrorHelpers.html#not_found/2"},{"type":"function","title":"BaladosSyncWeb.ErrorHelpers.rate_limit_exceeded/2","doc":"Returns a rate limit exceeded error response with error code.","ref":"BaladosSyncWeb.ErrorHelpers.html#rate_limit_exceeded/2"},{"type":"function","title":"BaladosSyncWeb.ErrorHelpers.sanitize_reason/1","doc":"Sanitizes an error reason to a user-friendly message.\n\nConverts internal error tuples and atoms to readable messages without\nexposing internal details like module names or stack traces.","ref":"BaladosSyncWeb.ErrorHelpers.html#sanitize_reason/1"},{"type":"function","title":"BaladosSyncWeb.ErrorHelpers.unauthorized/2","doc":"Returns an unauthorized error response with error code.","ref":"BaladosSyncWeb.ErrorHelpers.html#unauthorized/2"},{"type":"module","title":"BaladosSyncWeb.ErrorJSON","doc":"This module is invoked by your endpoint in case of errors on JSON requests.\n\nSee config/config.exs.","ref":"BaladosSyncWeb.ErrorJSON.html"},{"type":"function","title":"BaladosSyncWeb.ErrorJSON.render/2","doc":"","ref":"BaladosSyncWeb.ErrorJSON.html#render/2"},{"type":"module","title":"BaladosSyncWeb.Gettext","doc":"A module providing Internationalization with a gettext-based API.\n\nBy using [Gettext](https://hexdocs.pm/gettext),\nyour module gains a set of macros for translations, for example:\n\n    import BaladosSyncWeb.Gettext\n\n    # Simple translation\n    gettext(\"Here is the string to translate\")\n\n    # Plural translation\n    ngettext(\"Here is the string to translate\",\n             \"Here are the strings to translate\",\n             3)\n\n    # Domain-based translation\n    dgettext(\"errors\", \"Here is the error message to translate\")\n\nSee the [Gettext Docs](https://hexdocs.pm/gettext) for detailed usage.","ref":"BaladosSyncWeb.Gettext.html"},{"type":"function","title":"BaladosSyncWeb.Gettext.handle_missing_bindings/2","doc":"Callback implementation for  Gettext.Backend.handle_missing_bindings/2 .","ref":"BaladosSyncWeb.Gettext.html#handle_missing_bindings/2"},{"type":"function","title":"BaladosSyncWeb.Gettext.handle_missing_plural_translation/7","doc":"Callback implementation for  Gettext.Backend.handle_missing_plural_translation/7 .","ref":"BaladosSyncWeb.Gettext.html#handle_missing_plural_translation/7"},{"type":"function","title":"BaladosSyncWeb.Gettext.handle_missing_translation/5","doc":"Callback implementation for  Gettext.Backend.handle_missing_translation/5 .","ref":"BaladosSyncWeb.Gettext.html#handle_missing_translation/5"},{"type":"module","title":"BaladosSyncWeb.Layouts","doc":"This module holds different layouts used by your application.\n\nSee the `layouts` directory for all templates available.\nThe \"root\" layout is a skeleton rendered as part of the\napplication router. The \"app\" layout is set as the default\nlayout on both `use BaladosSyncWeb, :controller` and\n`use BaladosSyncWeb, :live_view`.","ref":"BaladosSyncWeb.Layouts.html"},{"type":"function","title":"BaladosSyncWeb.Layouts.app/1","doc":"","ref":"BaladosSyncWeb.Layouts.html#app/1"},{"type":"function","title":"BaladosSyncWeb.Layouts.get_ws_endpoint/1","doc":"Get WebSocket endpoint for JavaScript dispatch events\n\nReturns appropriate WebSocket URL based on environment:\n- Dev: ws://localhost:4000/sync/api/v1/live\n- Prod subdomain: wss://sync.example.com/api/v1/live\n- Prod path: wss://example.com/sync/api/v1/live","ref":"BaladosSyncWeb.Layouts.html#get_ws_endpoint/1"},{"type":"function","title":"BaladosSyncWeb.Layouts.get_ws_token/1","doc":"Get WebSocket authentication token for JavaScript\n\nReturns the \"Balados Web Sync\" PlayToken if user is authenticated, nil otherwise.\nThis token is used for WebSocket play event tracking on subscription and discovery pages.","ref":"BaladosSyncWeb.Layouts.html#get_ws_token/1"},{"type":"function","title":"BaladosSyncWeb.Layouts.root/1","doc":"","ref":"BaladosSyncWeb.Layouts.html#root/1"},{"type":"module","title":"BaladosSyncWeb.LiveWebSocket","doc":"WebSocket handler for real-time play gateway communication.\n\nImplements the WebSock behaviour for standard WebSocket connections.\nHandles authentication via PlayToken or JWT, and dispatches play events.\n\nConnection flow:\n1. Client connects to /api/v1/live (not authenticated)\n2. Server sends welcome message\n3. Client sends {\"type\": \"auth\", \"token\": \"...\"} message\n4. Server validates token and transitions to authenticated state\n5. Client sends {\"type\": \"record_play\", ...} messages\n6. Server dispatches commands and sends responses","ref":"BaladosSyncWeb.LiveWebSocket.html"},{"type":"function","title":"BaladosSyncWeb.LiveWebSocket.handle_in/2","doc":"Handles incoming messages.\n\nFirst checks rate limit, then parses JSON messages and delegates to\nMessageHandler for processing. Rejects binary messages (only JSON over text frames).","ref":"BaladosSyncWeb.LiveWebSocket.html#handle_in/2"},{"type":"function","title":"BaladosSyncWeb.LiveWebSocket.handle_info/2","doc":"Handles unexpected info messages.","ref":"BaladosSyncWeb.LiveWebSocket.html#handle_info/2"},{"type":"function","title":"BaladosSyncWeb.LiveWebSocket.init/1","doc":"Initializes the WebSocket connection.\n\nCreates an unauthenticated connection state and sends a welcome message.","ref":"BaladosSyncWeb.LiveWebSocket.html#init/1"},{"type":"function","title":"BaladosSyncWeb.LiveWebSocket.terminate/2","doc":"Handles connection termination.\n\nLogs disconnection with user info if available.","ref":"BaladosSyncWeb.LiveWebSocket.html#terminate/2"},{"type":"module","title":"BaladosSyncWeb.LiveWebSocket.Auth","doc":"Authentication module for the LiveWebSocket.\n\nHandles both PlayToken (simple bearer token) and JWT (AppToken) authentication.\nAutomatically detects token type and validates accordingly.","ref":"BaladosSyncWeb.LiveWebSocket.Auth.html"},{"type":"function","title":"BaladosSyncWeb.LiveWebSocket.Auth.authenticate/1","doc":"Authenticates a token and returns user_id and token_type.\n\nAutomatically detects whether the token is a PlayToken or JWT token:\n- PlayToken: simple base64 string without dots\n- JWT: contains 3 parts separated by dots\n\nReturns {:ok, user_id, token_type} or {:error, reason}","ref":"BaladosSyncWeb.LiveWebSocket.Auth.html#authenticate/1"},{"type":"module","title":"BaladosSyncWeb.LiveWebSocket.MessageHandler","doc":"Message handler for the LiveWebSocket.\n\nParses and validates incoming JSON messages, authenticates if needed, and dispatches commands.","ref":"BaladosSyncWeb.LiveWebSocket.MessageHandler.html"},{"type":"function","title":"BaladosSyncWeb.LiveWebSocket.MessageHandler.handle_message/2","doc":"Handles an incoming message from the WebSocket client.\n\nIf not authenticated, only accepts {\"type\": \"auth\", \"token\": \"...\"} messages.\nIf authenticated, processes record_play and other message types.\n\nReturns {:ok, response_json, new_state} or {:error, error_json}","ref":"BaladosSyncWeb.LiveWebSocket.MessageHandler.html#handle_message/2"},{"type":"module","title":"BaladosSyncWeb.LiveWebSocket.RateLimiter","doc":"Token bucket rate limiter for WebSocket connections.\n\nImplements a per-connection rate limiting strategy to prevent abuse:\n- Each connection has a token bucket with configurable capacity\n- Tokens refill at a constant rate per second\n- Messages consume 1 token each\n- When tokens are exhausted, messages are rejected with `CONNECTION_RATE_LIMITED`","ref":"BaladosSyncWeb.LiveWebSocket.RateLimiter.html"},{"type":"module","title":"Rate Limiting Layers - BaladosSyncWeb.LiveWebSocket.RateLimiter","doc":"The WebSocket uses two complementary rate limiting strategies:\n\n1. **Connection-level (this module)**: Token bucket applied to ALL messages\n   - Purpose: DoS protection, prevent message flooding\n   - Scope: Per WebSocket connection\n   - Error code: `CONNECTION_RATE_LIMITED`\n\n2. **Command-level (Hammer in MessageHandler)**: Per-user rate limit for `record_play`\n   - Purpose: Business logic, prevent excessive play events\n   - Scope: Per user ID (across all their connections)\n   - Error code: `PLAY_RATE_LIMITED`","ref":"BaladosSyncWeb.LiveWebSocket.RateLimiter.html#module-rate-limiting-layers"},{"type":"module","title":"Configuration - BaladosSyncWeb.LiveWebSocket.RateLimiter","doc":"Default settings (10 req/sec with burst capacity of 20):\n- Bucket capacity: 20 tokens\n- Refill rate: 10 tokens per second\n\nThese can be overridden in config:\n\n    config :balados_sync_web, :rate_limiter,\n      bucket_capacity: 20,\n      refill_rate: 10","ref":"BaladosSyncWeb.LiveWebSocket.RateLimiter.html#module-configuration"},{"type":"type","title":"BaladosSyncWeb.LiveWebSocket.RateLimiter.bucket/0","doc":"","ref":"BaladosSyncWeb.LiveWebSocket.RateLimiter.html#t:bucket/0"},{"type":"function","title":"BaladosSyncWeb.LiveWebSocket.RateLimiter.available_tokens/1","doc":"Returns the current number of available tokens (for debugging/monitoring).","ref":"BaladosSyncWeb.LiveWebSocket.RateLimiter.html#available_tokens/1"},{"type":"function","title":"BaladosSyncWeb.LiveWebSocket.RateLimiter.bucket_capacity/0","doc":"Returns the configured bucket capacity.","ref":"BaladosSyncWeb.LiveWebSocket.RateLimiter.html#bucket_capacity/0"},{"type":"function","title":"BaladosSyncWeb.LiveWebSocket.RateLimiter.consume/1","doc":"Attempts to consume a token from the bucket.\n\nReturns {:ok, updated_bucket} if a token was available,\nor {:error, :rate_limited, updated_bucket} if the bucket is empty.\n\nThe bucket is always updated with refilled tokens before checking.","ref":"BaladosSyncWeb.LiveWebSocket.RateLimiter.html#consume/1"},{"type":"function","title":"BaladosSyncWeb.LiveWebSocket.RateLimiter.new_bucket/0","doc":"Creates a new token bucket with full capacity.","ref":"BaladosSyncWeb.LiveWebSocket.RateLimiter.html#new_bucket/0"},{"type":"function","title":"BaladosSyncWeb.LiveWebSocket.RateLimiter.refill_rate/0","doc":"Returns the configured refill rate (tokens per second).","ref":"BaladosSyncWeb.LiveWebSocket.RateLimiter.html#refill_rate/0"},{"type":"module","title":"BaladosSyncWeb.LiveWebSocket.State","doc":"Connection state for the LiveWebSocket handler.\n\nTracks authentication status, user identity, token information, rate limiting,\nand connection metadata.","ref":"BaladosSyncWeb.LiveWebSocket.State.html"},{"type":"type","title":"BaladosSyncWeb.LiveWebSocket.State.auth_status/0","doc":"","ref":"BaladosSyncWeb.LiveWebSocket.State.html#t:auth_status/0"},{"type":"type","title":"BaladosSyncWeb.LiveWebSocket.State.t/0","doc":"","ref":"BaladosSyncWeb.LiveWebSocket.State.html#t:t/0"},{"type":"type","title":"BaladosSyncWeb.LiveWebSocket.State.token_type/0","doc":"","ref":"BaladosSyncWeb.LiveWebSocket.State.html#t:token_type/0"},{"type":"function","title":"BaladosSyncWeb.LiveWebSocket.State.authenticate/5","doc":"Authenticates the connection with the given user and token information.\n\nTransitions from :unauthenticated to :authenticated state.\n\nAccepts optional device_id and device_name. If not provided, uses defaults\n(\"websocket\" and \"WebSocket Live\").","ref":"BaladosSyncWeb.LiveWebSocket.State.html#authenticate/5"},{"type":"function","title":"BaladosSyncWeb.LiveWebSocket.State.authenticated?/1","doc":"Checks if the connection is authenticated.","ref":"BaladosSyncWeb.LiveWebSocket.State.html#authenticated?/1"},{"type":"function","title":"BaladosSyncWeb.LiveWebSocket.State.check_rate_limit/1","doc":"Checks rate limit and consumes a token if available.\n\nReturns {:ok, updated_state} if the request is allowed,\nor {:error, :rate_limited, updated_state} if rate limit exceeded.","ref":"BaladosSyncWeb.LiveWebSocket.State.html#check_rate_limit/1"},{"type":"function","title":"BaladosSyncWeb.LiveWebSocket.State.new/0","doc":"Creates a new connection state.\n\nThe connection starts in the unauthenticated state, ready to receive an auth message.\nInitializes a rate limiting token bucket for this connection.","ref":"BaladosSyncWeb.LiveWebSocket.State.html#new/0"},{"type":"function","title":"BaladosSyncWeb.LiveWebSocket.State.touch/1","doc":"Updates the last activity timestamp and increments message count.","ref":"BaladosSyncWeb.LiveWebSocket.State.html#touch/1"},{"type":"module","title":"BaladosSyncWeb.LiveWebSocketController","doc":"Controller for WebSocket upgrade requests.\n\nHandles HTTP to WebSocket upgrade for the live gateway.","ref":"BaladosSyncWeb.LiveWebSocketController.html"},{"type":"function","title":"BaladosSyncWeb.LiveWebSocketController.upgrade/2","doc":"Upgrades HTTP request to WebSocket.\n\nCalled at GET /api/v1/live and GET /sync/api/v1/live routes.","ref":"BaladosSyncWeb.LiveWebSocketController.html#upgrade/2"},{"type":"module","title":"BaladosSyncWeb.PageController","doc":"","ref":"BaladosSyncWeb.PageController.html"},{"type":"function","title":"BaladosSyncWeb.PageController.app_creator/2","doc":"","ref":"BaladosSyncWeb.PageController.html#app_creator/2"},{"type":"function","title":"BaladosSyncWeb.PageController.home/2","doc":"","ref":"BaladosSyncWeb.PageController.html#home/2"},{"type":"module","title":"BaladosSyncWeb.PageHTML","doc":"This module contains pages rendered by PageController.\n\nSee the `page_html` directory for all templates available.","ref":"BaladosSyncWeb.PageHTML.html"},{"type":"function","title":"BaladosSyncWeb.PageHTML.app_creator/1","doc":"","ref":"BaladosSyncWeb.PageHTML.html#app_creator/1"},{"type":"function","title":"BaladosSyncWeb.PageHTML.home/1","doc":"","ref":"BaladosSyncWeb.PageHTML.html#home/1"},{"type":"module","title":"BaladosSyncWeb.PlayTokenHelper","doc":"Helper functions for managing PlayTokens used by the play gateway.\n\nPlayTokens allow authenticated users to track plays through the RSS aggregation gateway\nwithout requiring full app authentication on each play.\n\nSupports two play gateway modes:\n1. External domain mode (production): https://{play_domain}/{token}/{feed}/{item}\n2. Local path mode (development, default): /play/{token}/{feed}/{item}\n\nConfiguration:\n- If `play_domain` is set, uses external domain URLs\n- Otherwise, uses local path (/play/) as default (for single-domain development)\n\nExample config:\n  config :balados_sync_web, play_domain: \"play.example.com\"  # Production\n  # or omit for development path mode at /play/","ref":"BaladosSyncWeb.PlayTokenHelper.html"},{"type":"function","title":"BaladosSyncWeb.PlayTokenHelper.build_play_url/3","doc":"Builds a play gateway URL for the given token, feed, and item.\n\nIntelligently chooses between:\n- External domain mode: https://{play_domain}/{token}/{feed}/{item}\n- Local path mode: /play/{token}/{feed}/{item}\n\nConfiguration:\n- If `play_domain` is set, uses external domain URLs\n- Otherwise, uses local path routes (development default)\n\nThe encoding is applied by the caller for flexibility.","ref":"BaladosSyncWeb.PlayTokenHelper.html#build_play_url/3"},{"type":"function","title":"BaladosSyncWeb.PlayTokenHelper.create_balados_web_token/2","doc":"Creates a new \"Balados Web\" PlayToken for the user.\n\nOnly creates if a valid token doesn't already exist. If one already exists, returns it.\n\nAccepts optional expiration_days parameter (defaults to config or 365 days).\n\nReturns {:ok, token_string} on success, {:error, reason} on failure.","ref":"BaladosSyncWeb.PlayTokenHelper.html#create_balados_web_token/2"},{"type":"function","title":"BaladosSyncWeb.PlayTokenHelper.create_websocket_token/2","doc":"Creates a new \"Balados Web Sync\" PlayToken for the user.\n\nOnly creates if a valid token doesn't already exist. If one already exists, returns it.\n\nAccepts optional expiration_days parameter (defaults to config or 365 days).\n\nReturns {:ok, token_string} on success, {:error, reason} on failure.","ref":"BaladosSyncWeb.PlayTokenHelper.html#create_websocket_token/2"},{"type":"function","title":"BaladosSyncWeb.PlayTokenHelper.get_balados_web_token/1","doc":"Gets the existing \"Balados Web\" token for the user, if it exists and is not revoked.\n\nReturns {:ok, token_string} if found, :not_found if not found or revoked, {:error, reason} on failure.","ref":"BaladosSyncWeb.PlayTokenHelper.html#get_balados_web_token/1"},{"type":"function","title":"BaladosSyncWeb.PlayTokenHelper.get_or_create_balados_web_token/1","doc":"Gets or creates a PlayToken named \"Balados Web\" for the user.\n\nThis is used to generate play gateway links in RSS feeds. The token is automatically\ncreated on first use to avoid requiring users to manually set up tokens.\n\nReturns {:ok, token_string} on success, {:error, reason} on failure.","ref":"BaladosSyncWeb.PlayTokenHelper.html#get_or_create_balados_web_token/1"},{"type":"function","title":"BaladosSyncWeb.PlayTokenHelper.get_or_create_websocket_token/1","doc":"Gets or creates a PlayToken named \"Balados Web Sync\" for the user.\n\nThis is used for WebSocket play event tracking. The token is automatically\ncreated on first use when accessing subscription/discovery pages.\n\nReturns {:ok, token_string} on success, {:error, reason} on failure.","ref":"BaladosSyncWeb.PlayTokenHelper.html#get_or_create_websocket_token/1"},{"type":"function","title":"BaladosSyncWeb.PlayTokenHelper.get_websocket_token/1","doc":"Gets the existing \"Balados Web Sync\" token for the user, if it exists and is not revoked.\n\nReturns {:ok, token_string} if found, :not_found if not found or revoked, {:error, reason} on failure.","ref":"BaladosSyncWeb.PlayTokenHelper.html#get_websocket_token/1"},{"type":"module","title":"BaladosSyncWeb.PlaylistEnricher","doc":"Enriches playlist items with metadata fetched from RSS feeds.\n\nFetches RSS feeds in parallel and matches episodes with playlist items\nto provide enriched metadata (full description, cover, pub_date, duration, etc.).","ref":"BaladosSyncWeb.PlaylistEnricher.html"},{"type":"function","title":"BaladosSyncWeb.PlaylistEnricher.enrich_items/1","doc":"Enriches a list of playlist items with metadata from their source RSS feeds.","ref":"BaladosSyncWeb.PlaylistEnricher.html#enrich_items/1"},{"type":"function","title":"Process - BaladosSyncWeb.PlaylistEnricher.enrich_items/1","doc":"1. Groups items by source feed URL\n2. Fetches each feed in parallel with timeout protection\n3. Matches parsed episodes with playlist items by GUID\n4. Returns enriched items with additional metadata","ref":"BaladosSyncWeb.PlaylistEnricher.html#enrich_items/1-process"},{"type":"function","title":"Returns - BaladosSyncWeb.PlaylistEnricher.enrich_items/1","doc":"A list of enriched items, each containing:\n- Original item fields (id, position, etc.)\n- Enriched fields: :description, :cover, :pub_date, :duration, :enclosure, :link\n- :enriched flag (true if metadata was fetched, false if using fallback)","ref":"BaladosSyncWeb.PlaylistEnricher.html#enrich_items/1-returns"},{"type":"function","title":"Example - BaladosSyncWeb.PlaylistEnricher.enrich_items/1","doc":"iex> items = [%{rss_source_feed: \"https://...\", rss_source_item: \"ep-123\", ...}]\n    iex> enriched = PlaylistEnricher.enrich_items(items)\n    iex> hd(enriched).enriched\n    true","ref":"BaladosSyncWeb.PlaylistEnricher.html#enrich_items/1-example"},{"type":"function","title":"BaladosSyncWeb.PlaylistEnricher.fetch_feeds_parallel/1","doc":"Fetches multiple RSS feeds in parallel with timeout protection.\n\nReturns a map of %{feed_url => %{guid => episode_metadata}}.","ref":"BaladosSyncWeb.PlaylistEnricher.html#fetch_feeds_parallel/1"},{"type":"function","title":"BaladosSyncWeb.PlaylistEnricher.format_duration/1","doc":"Formats duration in seconds to human-readable format (HH:MM:SS or MM:SS).","ref":"BaladosSyncWeb.PlaylistEnricher.html#format_duration/1"},{"type":"function","title":"BaladosSyncWeb.PlaylistEnricher.format_pub_date/1","doc":"Formats pub_date to a relative or absolute date string.","ref":"BaladosSyncWeb.PlaylistEnricher.html#format_pub_date/1"},{"type":"function","title":"BaladosSyncWeb.PlaylistEnricher.strip_html_tags/1","doc":"Strips HTML tags from a string.","ref":"BaladosSyncWeb.PlaylistEnricher.html#strip_html_tags/1"},{"type":"module","title":"BaladosSyncWeb.PlaylistsController","doc":"Web controller for managing user playlists.\n\nProvides HTML interface for playlist CRUD operations.","ref":"BaladosSyncWeb.PlaylistsController.html"},{"type":"function","title":"BaladosSyncWeb.PlaylistsController.create/2","doc":"Creates a new playlist.","ref":"BaladosSyncWeb.PlaylistsController.html#create/2"},{"type":"function","title":"BaladosSyncWeb.PlaylistsController.delete/2","doc":"Deletes a playlist.","ref":"BaladosSyncWeb.PlaylistsController.html#delete/2"},{"type":"function","title":"BaladosSyncWeb.PlaylistsController.edit/2","doc":"Shows form to edit a playlist.","ref":"BaladosSyncWeb.PlaylistsController.html#edit/2"},{"type":"function","title":"BaladosSyncWeb.PlaylistsController.index/2","doc":"Lists all playlists for the current user.\nUses a subquery to count items efficiently (avoids N+1 queries).","ref":"BaladosSyncWeb.PlaylistsController.html#index/2"},{"type":"function","title":"BaladosSyncWeb.PlaylistsController.new/2","doc":"Shows form to create a new playlist.","ref":"BaladosSyncWeb.PlaylistsController.html#new/2"},{"type":"function","title":"BaladosSyncWeb.PlaylistsController.show/2","doc":"Shows a playlist with its episodes.\n\nFetches RSS feeds in parallel to enrich episode metadata with:\n- Full descriptions\n- Cover images\n- Publication dates\n- Duration\n- Enclosure (audio file) info","ref":"BaladosSyncWeb.PlaylistsController.html#show/2"},{"type":"function","title":"BaladosSyncWeb.PlaylistsController.toggle_visibility/2","doc":"Toggles the public visibility of a playlist.","ref":"BaladosSyncWeb.PlaylistsController.html#toggle_visibility/2"},{"type":"function","title":"BaladosSyncWeb.PlaylistsController.update/2","doc":"Updates a playlist.","ref":"BaladosSyncWeb.PlaylistsController.html#update/2"},{"type":"module","title":"BaladosSyncWeb.PlaylistsHTML","doc":"HTML components for playlists pages.","ref":"BaladosSyncWeb.PlaylistsHTML.html"},{"type":"function","title":"BaladosSyncWeb.PlaylistsHTML.edit/1","doc":"","ref":"BaladosSyncWeb.PlaylistsHTML.html#edit/1"},{"type":"function","title":"BaladosSyncWeb.PlaylistsHTML.index/1","doc":"","ref":"BaladosSyncWeb.PlaylistsHTML.html#index/1"},{"type":"function","title":"BaladosSyncWeb.PlaylistsHTML.item_count/1","doc":"Returns the count of active items in a playlist.\nUses the virtual `items_count` field if available (from optimized query),\notherwise falls back to counting loaded items.","ref":"BaladosSyncWeb.PlaylistsHTML.html#item_count/1"},{"type":"function","title":"BaladosSyncWeb.PlaylistsHTML.new/1","doc":"","ref":"BaladosSyncWeb.PlaylistsHTML.html#new/1"},{"type":"function","title":"BaladosSyncWeb.PlaylistsHTML.show/1","doc":"","ref":"BaladosSyncWeb.PlaylistsHTML.html#show/1"},{"type":"module","title":"BaladosSyncWeb.Plugs.RateLimiter","doc":"Reusable rate limiting plug using Hammer.\n\nThis plug provides configurable rate limiting for HTTP endpoints with support for\ndifferent rate limit strategies (per-user, per-IP) and proper 429 responses.","ref":"BaladosSyncWeb.Plugs.RateLimiter.html"},{"type":"module","title":"Usage - BaladosSyncWeb.Plugs.RateLimiter","doc":"In your controller or router:\n\n    # Per-user rate limiting (requires authenticated user)\n    plug BaladosSyncWeb.Plugs.RateLimiter,\n      limit: 30,\n      window_ms: 60_000,\n      key: :user_id\n\n    # Per-IP rate limiting (for unauthenticated endpoints)\n    plug BaladosSyncWeb.Plugs.RateLimiter,\n      limit: 10,\n      window_ms: 60_000,\n      key: :ip\n\n    # Custom key function\n    plug BaladosSyncWeb.Plugs.RateLimiter,\n      limit: 100,\n      window_ms: 60_000,\n      key: fn conn -> conn.assigns[:custom_id] end","ref":"BaladosSyncWeb.Plugs.RateLimiter.html#module-usage"},{"type":"module","title":"Options - BaladosSyncWeb.Plugs.RateLimiter","doc":"- `:limit` - Maximum number of requests allowed (required)\n- `:window_ms` - Time window in milliseconds (required)\n- `:key` - How to identify the client. Can be:\n  - `:user_id` - Uses `conn.assigns.current_user_id`\n  - `:ip` - Uses client IP address\n  - `:app_id` - Uses `conn.assigns.app_id`\n  - `{:param, \"name\"}` - Uses `conn.params[\"name\"]`\n  - `{module, function}` - Calls `module.function(conn)` for custom keys\n- `:namespace` - Hammer bucket namespace (default: module name)\n- `:skip` - A function `(conn) -> boolean` to skip rate limiting (optional)","ref":"BaladosSyncWeb.Plugs.RateLimiter.html#module-options"},{"type":"module","title":"Response - BaladosSyncWeb.Plugs.RateLimiter","doc":"When rate limited, returns a 429 Too Many Requests response with:\n- `Retry-After` header indicating seconds until limit resets\n- JSON body with error details","ref":"BaladosSyncWeb.Plugs.RateLimiter.html#module-response"},{"type":"module","title":"BaladosSyncWeb.PodcastOwnership","doc":"Context for podcast ownership claims and verification.\n\nHandles the verification flow for users claiming administrative ownership of podcasts\nby proving they control the podcast's RSS feed.","ref":"BaladosSyncWeb.PodcastOwnership.html"},{"type":"module","title":"Verification Flow - BaladosSyncWeb.PodcastOwnership","doc":"1. User initiates claim for a podcast (by feed URL)\n2. System generates a unique verification code\n3. User adds the code anywhere in their RSS feed (comment, description, custom tag)\n4. User triggers verification\n5. System fetches the RSS feed **raw** (bypassing all caches) and searches for the code\n6. If code is found, ownership is granted\n7. Code can be removed from feed after successful verification","ref":"BaladosSyncWeb.PodcastOwnership.html#module-verification-flow"},{"type":"module","title":"Security Considerations - BaladosSyncWeb.PodcastOwnership","doc":"- Verification codes expire after 48 hours by default\n- Rate limiting: max 5 verification attempts per hour\n- Raw fetch bypasses all caching to ensure fresh content\n- Code search is case-sensitive exact match","ref":"BaladosSyncWeb.PodcastOwnership.html#module-security-considerations"},{"type":"function","title":"BaladosSyncWeb.PodcastOwnership.cancel_claim/2","doc":"Cancels a pending ownership claim.","ref":"BaladosSyncWeb.PodcastOwnership.html#cancel_claim/2"},{"type":"function","title":"BaladosSyncWeb.PodcastOwnership.expire_old_claims/0","doc":"Expires old pending claims.\nShould be run periodically (e.g., daily cron job).","ref":"BaladosSyncWeb.PodcastOwnership.html#expire_old_claims/0"},{"type":"function","title":"BaladosSyncWeb.PodcastOwnership.expire_old_email_verifications/0","doc":"Expires old pending email verifications.\nShould be run periodically (e.g., every 15 minutes).","ref":"BaladosSyncWeb.PodcastOwnership.html#expire_old_email_verifications/0"},{"type":"function","title":"BaladosSyncWeb.PodcastOwnership.get_available_emails/1","doc":"Extracts available contact emails from a podcast RSS feed.\n\nReturns {:ok, emails} where emails is a list of %{email: string, source: string}.\nReturns {:error, reason} if feed cannot be fetched or parsed.","ref":"BaladosSyncWeb.PodcastOwnership.html#get_available_emails/1"},{"type":"function","title":"BaladosSyncWeb.PodcastOwnership.get_claim/1","doc":"Gets a claim by ID.","ref":"BaladosSyncWeb.PodcastOwnership.html#get_claim/1"},{"type":"function","title":"BaladosSyncWeb.PodcastOwnership.get_email_verification/1","doc":"Gets the current email verification for a claim, if any.","ref":"BaladosSyncWeb.PodcastOwnership.html#get_email_verification/1"},{"type":"function","title":"BaladosSyncWeb.PodcastOwnership.list_pending_claims/1","doc":"Gets pending claims for a user.","ref":"BaladosSyncWeb.PodcastOwnership.html#list_pending_claims/1"},{"type":"function","title":"BaladosSyncWeb.PodcastOwnership.list_user_administered_podcasts/1","doc":"Gets all podcasts administered by a user.","ref":"BaladosSyncWeb.PodcastOwnership.html#list_user_administered_podcasts/1"},{"type":"function","title":"BaladosSyncWeb.PodcastOwnership.list_user_public_podcasts/1","doc":"Gets public podcasts claimed by a user (for profile display).","ref":"BaladosSyncWeb.PodcastOwnership.html#list_user_public_podcasts/1"},{"type":"function","title":"BaladosSyncWeb.PodcastOwnership.relinquish_ownership/2","doc":"Removes a user from podcast admins (relinquish ownership).","ref":"BaladosSyncWeb.PodcastOwnership.html#relinquish_ownership/2"},{"type":"function","title":"BaladosSyncWeb.PodcastOwnership.request_email_verification/3","doc":"Initiates email verification for a claim.\n\n1. Validates claim is pending and owned by user\n2. Fetches RSS feed and extracts emails\n3. Validates selected email exists in feed\n4. Creates email verification record\n5. Sends verification email\n\nReturns {:ok, email_verification} or {:error, reason}.","ref":"BaladosSyncWeb.PodcastOwnership.html#request_email_verification/3"},{"type":"function","title":"BaladosSyncWeb.PodcastOwnership.request_ownership/3","doc":"Initiates a podcast ownership claim for a user.\n\nReturns {:ok, claim} with the verification code.\nReturns {:error, reason} if claim cannot be created.","ref":"BaladosSyncWeb.PodcastOwnership.html#request_ownership/3"},{"type":"function","title":"Options - BaladosSyncWeb.PodcastOwnership.request_ownership/3","doc":"- `:expiration_hours` - Hours until verification code expires (default: 48)","ref":"BaladosSyncWeb.PodcastOwnership.html#request_ownership/3-options"},{"type":"function","title":"BaladosSyncWeb.PodcastOwnership.update_visibility/3","doc":"Updates visibility setting for a user's claimed podcast.","ref":"BaladosSyncWeb.PodcastOwnership.html#update_visibility/3"},{"type":"function","title":"BaladosSyncWeb.PodcastOwnership.verify_email_code/3","doc":"Submits a verification code for email-based ownership verification.\n\nReturns {:ok, enriched_podcast} if code is correct.\nReturns {:error, reason} if verification fails.","ref":"BaladosSyncWeb.PodcastOwnership.html#verify_email_code/3"},{"type":"function","title":"BaladosSyncWeb.PodcastOwnership.verify_ownership/2","doc":"Verifies a podcast ownership claim by fetching the RSS feed and searching for the verification code.\n\nReturns {:ok, enriched_podcast} if verification succeeds.\nReturns {:error, reason} if verification fails.","ref":"BaladosSyncWeb.PodcastOwnership.html#verify_ownership/2"},{"type":"module","title":"BaladosSyncWeb.PodcastOwnershipController","doc":"Web controller for podcast ownership claims and verification.\n\nProvides HTML interface for:\n- Initiating ownership claims\n- Viewing verification instructions\n- Triggering verification\n- Managing claimed podcasts\n- Updating visibility settings","ref":"BaladosSyncWeb.PodcastOwnershipController.html"},{"type":"function","title":"BaladosSyncWeb.PodcastOwnershipController.cancel_claim/2","doc":"Cancels a pending claim.","ref":"BaladosSyncWeb.PodcastOwnershipController.html#cancel_claim/2"},{"type":"function","title":"BaladosSyncWeb.PodcastOwnershipController.create/2","doc":"Creates a new ownership claim and shows verification instructions.","ref":"BaladosSyncWeb.PodcastOwnershipController.html#create/2"},{"type":"function","title":"BaladosSyncWeb.PodcastOwnershipController.index/2","doc":"Lists all claimed podcasts and pending claims for the current user.","ref":"BaladosSyncWeb.PodcastOwnershipController.html#index/2"},{"type":"function","title":"BaladosSyncWeb.PodcastOwnershipController.new/2","doc":"Shows form to initiate a new ownership claim.","ref":"BaladosSyncWeb.PodcastOwnershipController.html#new/2"},{"type":"function","title":"BaladosSyncWeb.PodcastOwnershipController.relinquish/2","doc":"Relinquishes ownership of a podcast.","ref":"BaladosSyncWeb.PodcastOwnershipController.html#relinquish/2"},{"type":"function","title":"BaladosSyncWeb.PodcastOwnershipController.request_email_verification/2","doc":"Initiates email verification for a claim.","ref":"BaladosSyncWeb.PodcastOwnershipController.html#request_email_verification/2"},{"type":"function","title":"BaladosSyncWeb.PodcastOwnershipController.show_claim/2","doc":"Shows claim details with verification instructions.","ref":"BaladosSyncWeb.PodcastOwnershipController.html#show_claim/2"},{"type":"function","title":"BaladosSyncWeb.PodcastOwnershipController.show_podcast/2","doc":"Shows a claimed podcast with management options.","ref":"BaladosSyncWeb.PodcastOwnershipController.html#show_podcast/2"},{"type":"function","title":"BaladosSyncWeb.PodcastOwnershipController.update_visibility/2","doc":"Updates visibility for a claimed podcast.","ref":"BaladosSyncWeb.PodcastOwnershipController.html#update_visibility/2"},{"type":"function","title":"BaladosSyncWeb.PodcastOwnershipController.verify/2","doc":"Triggers verification for a pending claim (RSS method).","ref":"BaladosSyncWeb.PodcastOwnershipController.html#verify/2"},{"type":"function","title":"BaladosSyncWeb.PodcastOwnershipController.verify_email_code/2","doc":"Submits email verification code.","ref":"BaladosSyncWeb.PodcastOwnershipController.html#verify_email_code/2"},{"type":"module","title":"BaladosSyncWeb.PodcastOwnershipHTML","doc":"HTML components for podcast ownership pages.","ref":"BaladosSyncWeb.PodcastOwnershipHTML.html"},{"type":"function","title":"BaladosSyncWeb.PodcastOwnershipHTML.index/1","doc":"","ref":"BaladosSyncWeb.PodcastOwnershipHTML.html#index/1"},{"type":"function","title":"BaladosSyncWeb.PodcastOwnershipHTML.new/1","doc":"","ref":"BaladosSyncWeb.PodcastOwnershipHTML.html#new/1"},{"type":"function","title":"BaladosSyncWeb.PodcastOwnershipHTML.show_claim/1","doc":"","ref":"BaladosSyncWeb.PodcastOwnershipHTML.html#show_claim/1"},{"type":"function","title":"BaladosSyncWeb.PodcastOwnershipHTML.show_podcast/1","doc":"","ref":"BaladosSyncWeb.PodcastOwnershipHTML.html#show_podcast/1"},{"type":"module","title":"BaladosSyncWeb.PrivacyManagerController","doc":"","ref":"BaladosSyncWeb.PrivacyManagerController.html"},{"type":"function","title":"BaladosSyncWeb.PrivacyManagerController.delete_privacy/2","doc":"","ref":"BaladosSyncWeb.PrivacyManagerController.html#delete_privacy/2"},{"type":"function","title":"BaladosSyncWeb.PrivacyManagerController.index/2","doc":"","ref":"BaladosSyncWeb.PrivacyManagerController.html#index/2"},{"type":"function","title":"BaladosSyncWeb.PrivacyManagerController.update_privacy/2","doc":"","ref":"BaladosSyncWeb.PrivacyManagerController.html#update_privacy/2"},{"type":"module","title":"BaladosSyncWeb.PrivacyManagerHTML","doc":"This module contains pages rendered by PrivacyManagerController.","ref":"BaladosSyncWeb.PrivacyManagerHTML.html"},{"type":"function","title":"BaladosSyncWeb.PrivacyManagerHTML.index/1","doc":"","ref":"BaladosSyncWeb.PrivacyManagerHTML.html#index/1"},{"type":"module","title":"BaladosSyncWeb.ProfileController","doc":"","ref":"BaladosSyncWeb.ProfileController.html"},{"type":"function","title":"BaladosSyncWeb.ProfileController.edit/2","doc":"Shows the profile settings edit page for the current user.","ref":"BaladosSyncWeb.ProfileController.html#edit/2"},{"type":"function","title":"BaladosSyncWeb.ProfileController.show/2","doc":"Shows a user's public profile page.\n\nReturns 404 if:\n- User doesn't exist\n- User's public profile is disabled","ref":"BaladosSyncWeb.ProfileController.html#show/2"},{"type":"function","title":"BaladosSyncWeb.ProfileController.show_collection/2","doc":"Shows a user's public collection.\n\nReturns 404 if:\n- User doesn't exist\n- User's public profile is disabled\n- Collection doesn't exist or isn't public","ref":"BaladosSyncWeb.ProfileController.html#show_collection/2"},{"type":"function","title":"BaladosSyncWeb.ProfileController.show_playlist/2","doc":"Shows a user's public playlist.\n\nReturns 404 if:\n- User doesn't exist\n- User's public profile is disabled\n- Playlist doesn't exist or isn't public","ref":"BaladosSyncWeb.ProfileController.html#show_playlist/2"},{"type":"function","title":"BaladosSyncWeb.ProfileController.update/2","doc":"Updates the current user's profile settings.","ref":"BaladosSyncWeb.ProfileController.html#update/2"},{"type":"module","title":"BaladosSyncWeb.ProfileHTML","doc":"This module contains pages rendered by ProfileController.","ref":"BaladosSyncWeb.ProfileHTML.html"},{"type":"function","title":"BaladosSyncWeb.ProfileHTML.collection_color_class/1","doc":"Returns the Tailwind CSS gradient class for a collection based on its color.","ref":"BaladosSyncWeb.ProfileHTML.html#collection_color_class/1"},{"type":"function","title":"BaladosSyncWeb.ProfileHTML.display_name/1","doc":"Returns the display name for a user (public_name or username).","ref":"BaladosSyncWeb.ProfileHTML.html#display_name/1"},{"type":"function","title":"BaladosSyncWeb.ProfileHTML.edit/1","doc":"","ref":"BaladosSyncWeb.ProfileHTML.html#edit/1"},{"type":"function","title":"BaladosSyncWeb.ProfileHTML.show/1","doc":"","ref":"BaladosSyncWeb.ProfileHTML.html#show/1"},{"type":"function","title":"BaladosSyncWeb.ProfileHTML.show_collection/1","doc":"","ref":"BaladosSyncWeb.ProfileHTML.html#show_collection/1"},{"type":"function","title":"BaladosSyncWeb.ProfileHTML.show_playlist/1","doc":"","ref":"BaladosSyncWeb.ProfileHTML.html#show_playlist/1"},{"type":"function","title":"BaladosSyncWeb.ProfileHTML.time_ago_in_words/1","doc":"Format a DateTime to a relative time string (e.g., \"2 days ago\", \"just now\").","ref":"BaladosSyncWeb.ProfileHTML.html#time_ago_in_words/1"},{"type":"module","title":"BaladosSyncWeb.PublicHTML","doc":"","ref":"BaladosSyncWeb.PublicHTML.html"},{"type":"function","title":"BaladosSyncWeb.PublicHTML.display_username/1","doc":"Display username or \"Anonymous\" based on privacy level.","ref":"BaladosSyncWeb.PublicHTML.html#display_username/1"},{"type":"function","title":"BaladosSyncWeb.PublicHTML.episode_page/1","doc":"","ref":"BaladosSyncWeb.PublicHTML.html#episode_page/1"},{"type":"function","title":"BaladosSyncWeb.PublicHTML.event_action_text/1","doc":"Get event action text based on event type.","ref":"BaladosSyncWeb.PublicHTML.html#event_action_text/1"},{"type":"function","title":"BaladosSyncWeb.PublicHTML.event_border_color/1","doc":"Get event type color for border styling.","ref":"BaladosSyncWeb.PublicHTML.html#event_border_color/1"},{"type":"function","title":"BaladosSyncWeb.PublicHTML.feed_page/1","doc":"","ref":"BaladosSyncWeb.PublicHTML.html#feed_page/1"},{"type":"function","title":"BaladosSyncWeb.PublicHTML.format_duration/1","doc":"Format duration in seconds to human readable string.","ref":"BaladosSyncWeb.PublicHTML.html#format_duration/1"},{"type":"function","title":"BaladosSyncWeb.PublicHTML.podcast_title/1","doc":"Get podcast title from event with fallback.","ref":"BaladosSyncWeb.PublicHTML.html#podcast_title/1"},{"type":"function","title":"BaladosSyncWeb.PublicHTML.time_ago_in_words/1","doc":"Format a DateTime to a relative time string (e.g., \"2 days ago\", \"just now\").","ref":"BaladosSyncWeb.PublicHTML.html#time_ago_in_words/1"},{"type":"function","title":"BaladosSyncWeb.PublicHTML.timeline/1","doc":"","ref":"BaladosSyncWeb.PublicHTML.html#timeline/1"},{"type":"function","title":"BaladosSyncWeb.PublicHTML.trending_episodes/1","doc":"","ref":"BaladosSyncWeb.PublicHTML.html#trending_episodes/1"},{"type":"function","title":"BaladosSyncWeb.PublicHTML.trending_podcasts/1","doc":"","ref":"BaladosSyncWeb.PublicHTML.html#trending_podcasts/1"},{"type":"module","title":"BaladosSyncWeb.RssParser","doc":"Parses RSS/Atom podcast feeds and extracts metadata.\n\nHandles:\n- Feed-level metadata (title, description, author, cover)\n- Episode-level metadata (guid, title, description, duration, pub_date, enclosure)\n- iTunes podcast tags for enhanced metadata\n- Graceful error handling for malformed feeds","ref":"BaladosSyncWeb.RssParser.html"},{"type":"function","title":"BaladosSyncWeb.RssParser.extract_contact_emails/1","doc":"Extracts email addresses from RSS feed for ownership verification.\n\nSearches for emails in:\n- `  `\n- ` ` (may contain \"email (name)\" format)\n- ` ` (may contain \"email (name)\" format)\n- ` `\n- ` ` (if contains email format)\n\nReturns a list of maps with :email and :source keys.","ref":"BaladosSyncWeb.RssParser.html#extract_contact_emails/1"},{"type":"function","title":"Example - BaladosSyncWeb.RssParser.extract_contact_emails/1","doc":"iex> {:ok, emails} = RssParser.extract_contact_emails(xml)\n    [%{email: \"podcast@example.com\", source: \"itunes:owner\"}]","ref":"BaladosSyncWeb.RssParser.html#extract_contact_emails/1-example"},{"type":"function","title":"BaladosSyncWeb.RssParser.parse_episodes/1","doc":"Parses RSS feed XML and extracts episode-level metadata.\n\nReturns {:ok, [episodes]} or {:error, reason}","ref":"BaladosSyncWeb.RssParser.html#parse_episodes/1"},{"type":"function","title":"Example - BaladosSyncWeb.RssParser.parse_episodes/1","doc":"iex> {:ok, episodes} = RssParser.parse_episodes(xml)\n    iex> length(episodes)\n    42","ref":"BaladosSyncWeb.RssParser.html#parse_episodes/1-example"},{"type":"function","title":"BaladosSyncWeb.RssParser.parse_feed/1","doc":"Parses RSS feed XML and extracts feed-level metadata.\n\nReturns {:ok, feed_metadata} or {:error, reason}","ref":"BaladosSyncWeb.RssParser.html#parse_feed/1"},{"type":"function","title":"Example - BaladosSyncWeb.RssParser.parse_feed/1","doc":"iex> xml = File.read!(\"feed.xml\")\n    iex> {:ok, metadata} = RssParser.parse_feed(xml)\n    iex> metadata.title\n    \"My Awesome Podcast\"","ref":"BaladosSyncWeb.RssParser.html#parse_feed/1-example"},{"type":"module","title":"BaladosSyncWeb.Scopes","doc":"Defines and manages API scopes for third-party app authorization.\n\nScopes control what operations apps can perform on behalf of users.\nSupports hierarchical scopes with wildcard matching.","ref":"BaladosSyncWeb.Scopes.html"},{"type":"module","title":"Scope Hierarchy - BaladosSyncWeb.Scopes","doc":"- `*` - All scopes (full access)\n- `*.read` - All read operations\n- `*.write` - All write operations\n- `user` - User data (includes user.read and user.write)\n  - `user.read` - Read user profile\n  - `user.write` - Update user profile\n- `user.subscriptions` - Subscription management (includes read and write)\n  - `user.subscriptions.read` - List subscriptions\n  - `user.subscriptions.write` - Add/remove subscriptions\n- `user.plays` - Play status management (includes read and write)\n  - `user.plays.read` - List play statuses and positions\n  - `user.plays.write` - Update play positions and mark as played\n- `user.playlists` - Playlist management (includes read and write)\n  - `user.playlists.read` - List playlists\n  - `user.playlists.write` - Create/update/delete playlists\n- `user.privacy` - Privacy settings (includes read and write)\n  - `user.privacy.read` - View privacy settings\n  - `user.privacy.write` - Update privacy settings\n- `user.sync` - Full sync access (read and write all user data)","ref":"BaladosSyncWeb.Scopes.html#module-scope-hierarchy"},{"type":"module","title":"Wildcard Matching - BaladosSyncWeb.Scopes","doc":"Granted scopes can use wildcards to match multiple required scopes:\n- `*` matches any scope\n- `*.read` matches any read scope (user.read, user.plays.read, etc.)\n- `user.*` matches all user scopes\n- `user.*.read` matches all user read scopes","ref":"BaladosSyncWeb.Scopes.html#module-wildcard-matching"},{"type":"module","title":"Examples - BaladosSyncWeb.Scopes","doc":"# Check if granted scopes allow required scope\n    iex> Scopes.authorized?([\"*\"], \"user.read\")\n    true\n\n    iex> Scopes.authorized?([\"user.read\"], \"user.write\")\n    false\n\n    iex> Scopes.authorized?([\"*.read\"], \"user.plays.read\")\n    true\n\n    iex> Scopes.authorized?([\"user.*\"], \"user.privacy.write\")\n    true","ref":"BaladosSyncWeb.Scopes.html#module-examples"},{"type":"function","title":"BaladosSyncWeb.Scopes.all_scopes/0","doc":"Returns all defined scopes with their human-readable descriptions.","ref":"BaladosSyncWeb.Scopes.html#all_scopes/0"},{"type":"function","title":"BaladosSyncWeb.Scopes.authorized?/2","doc":"Checks if the granted scopes authorize the required scope.\n\nSupports wildcard matching:\n- `*` matches everything\n- `*.read` matches any .read scope\n- `user.*` matches any user.* scope\n- `user.*.read` matches any user.*.read scope","ref":"BaladosSyncWeb.Scopes.html#authorized?/2"},{"type":"function","title":"Examples - BaladosSyncWeb.Scopes.authorized?/2","doc":"iex> Scopes.authorized?([\"*\"], \"user.read\")\n    true\n\n    iex> Scopes.authorized?([\"user.read\"], \"user.write\")\n    false\n\n    iex> Scopes.authorized?([\"*.read\"], \"user.plays.read\")\n    true\n\n    iex> Scopes.authorized?([\"user\"], \"user.read\")\n    true\n\n    iex> Scopes.authorized?([\"user\"], \"user.privacy.write\")\n    true\n\n    iex> Scopes.authorized?([\"user.*\"], \"user.privacy.write\")\n    true","ref":"BaladosSyncWeb.Scopes.html#authorized?/2-examples"},{"type":"function","title":"BaladosSyncWeb.Scopes.authorized_all?/2","doc":"Checks if multiple required scopes are all authorized.\n\nReturns true only if all required scopes are granted.","ref":"BaladosSyncWeb.Scopes.html#authorized_all?/2"},{"type":"function","title":"BaladosSyncWeb.Scopes.authorized_any?/2","doc":"Checks if any of the required scopes are authorized.\n\nReturns true if at least one required scope is granted.","ref":"BaladosSyncWeb.Scopes.html#authorized_any?/2"},{"type":"function","title":"BaladosSyncWeb.Scopes.scope_description/1","doc":"Returns the human-readable description for a scope.","ref":"BaladosSyncWeb.Scopes.html#scope_description/1"},{"type":"function","title":"BaladosSyncWeb.Scopes.scope_names/0","doc":"Returns a list of all scope names.","ref":"BaladosSyncWeb.Scopes.html#scope_names/0"},{"type":"function","title":"BaladosSyncWeb.Scopes.validate_scopes/1","doc":"Validates that all requested scopes are valid scope names or patterns.\n\nReturns {:ok, scopes} or {:error, invalid_scopes}","ref":"BaladosSyncWeb.Scopes.html#validate_scopes/1"},{"type":"module","title":"BaladosSyncWeb.SetupController","doc":"","ref":"BaladosSyncWeb.SetupController.html"},{"type":"function","title":"BaladosSyncWeb.SetupController.create/2","doc":"","ref":"BaladosSyncWeb.SetupController.html#create/2"},{"type":"function","title":"BaladosSyncWeb.SetupController.show/2","doc":"","ref":"BaladosSyncWeb.SetupController.html#show/2"},{"type":"module","title":"BaladosSyncWeb.SetupHTML","doc":"","ref":"BaladosSyncWeb.SetupHTML.html"},{"type":"function","title":"BaladosSyncWeb.SetupHTML.show/1","doc":"","ref":"BaladosSyncWeb.SetupHTML.html#show/1"},{"type":"module","title":"BaladosSyncWeb.SubscriptionsLive","doc":"LiveView for managing podcast subscriptions with collection filtering.\n\nDisplays subscriptions with collection badges that filter the list in real-time.\nThe header updates to reflect the current collection selection.","ref":"BaladosSyncWeb.SubscriptionsLive.html"},{"type":"module","title":"Telemetry Events - BaladosSyncWeb.SubscriptionsLive","doc":"This module emits the following telemetry events:\n\n- `[:balados_sync, :subscriptions, :metadata, :start]` - When metadata fetch starts\n- `[:balados_sync, :subscriptions, :metadata, :stop]` - When metadata fetch completes\n- `[:balados_sync, :subscriptions, :metadata, :exception]` - When metadata fetch fails","ref":"BaladosSyncWeb.SubscriptionsLive.html#module-telemetry-events"},{"type":"module","title":"BaladosSyncWeb.Telemetry","doc":"","ref":"BaladosSyncWeb.Telemetry.html"},{"type":"function","title":"BaladosSyncWeb.Telemetry.child_spec/1","doc":"Returns a specification to start this module under a supervisor.\n\nSee `Supervisor`.","ref":"BaladosSyncWeb.Telemetry.html#child_spec/1"},{"type":"function","title":"BaladosSyncWeb.Telemetry.metrics/0","doc":"","ref":"BaladosSyncWeb.Telemetry.html#metrics/0"},{"type":"function","title":"BaladosSyncWeb.Telemetry.start_link/1","doc":"","ref":"BaladosSyncWeb.Telemetry.html#start_link/1"},{"type":"module","title":"BaladosSyncWeb.UserRegistrationHTML","doc":"This module contains pages rendered by UserRegistrationController.","ref":"BaladosSyncWeb.UserRegistrationHTML.html"},{"type":"function","title":"BaladosSyncWeb.UserRegistrationHTML.new/1","doc":"","ref":"BaladosSyncWeb.UserRegistrationHTML.html#new/1"},{"type":"module","title":"BaladosSyncWeb.UserSessionHTML","doc":"This module contains pages rendered by UserSessionController.","ref":"BaladosSyncWeb.UserSessionHTML.html"},{"type":"function","title":"BaladosSyncWeb.UserSessionHTML.new/1","doc":"","ref":"BaladosSyncWeb.UserSessionHTML.html#new/1"},{"type":"module","title":"BaladosSyncWeb.WebPrivacyController","doc":"","ref":"BaladosSyncWeb.WebPrivacyController.html"},{"type":"function","title":"BaladosSyncWeb.WebPrivacyController.check_privacy/2","doc":"","ref":"BaladosSyncWeb.WebPrivacyController.html#check_privacy/2"},{"type":"function","title":"BaladosSyncWeb.WebPrivacyController.set_privacy/2","doc":"","ref":"BaladosSyncWeb.WebPrivacyController.html#set_privacy/2"},{"type":"module","title":"BaladosSyncWeb.WebSubscriptionsController","doc":"Web interface for managing podcast subscriptions.\n\nProvides HTML views for users to manage their subscriptions, view feed details,\nand export subscriptions to OPML format. This is separate from the JSON API\ncontroller to keep concerns separated.\n\nNote: The main subscriptions listing is handled by SubscriptionsLive.\nThis controller handles non-live actions: new, create, export_opml.\n\nAll actions require authenticated users.","ref":"BaladosSyncWeb.WebSubscriptionsController.html"},{"type":"function","title":"BaladosSyncWeb.WebSubscriptionsController.create/2","doc":"Create a new subscription from form submission.\n\nValidates the feed URL and dispatches a Subscribe command.","ref":"BaladosSyncWeb.WebSubscriptionsController.html#create/2"},{"type":"function","title":"BaladosSyncWeb.WebSubscriptionsController.export_opml/2","doc":"Export subscriptions to OPML file format.","ref":"BaladosSyncWeb.WebSubscriptionsController.html#export_opml/2"},{"type":"function","title":"BaladosSyncWeb.WebSubscriptionsController.new/2","doc":"Show form to add a new subscription.","ref":"BaladosSyncWeb.WebSubscriptionsController.html#new/2"},{"type":"function","title":"BaladosSyncWeb.WebSubscriptionsController.redirect_to_public/2","doc":"Redirect subscription detail URLs to consolidated public podcast page.\n\nWhen users visit /subscriptions/:feed, they are redirected to the public\n/podcasts/:feed page which serves as the single source of truth for\npodcast information and subscription management.","ref":"BaladosSyncWeb.WebSubscriptionsController.html#redirect_to_public/2"},{"type":"module","title":"BaladosSyncWeb.WebSubscriptionsHTML","doc":"","ref":"BaladosSyncWeb.WebSubscriptionsHTML.html"},{"type":"function","title":"BaladosSyncWeb.WebSubscriptionsHTML.format_duration/1","doc":"Format duration in seconds to human readable string.\n\nExamples:\n  format_duration(3661) => \"1h 1m\"\n  format_duration(125) => \"2m 5s\"\n  format_duration(45) => \"45s\"","ref":"BaladosSyncWeb.WebSubscriptionsHTML.html#format_duration/1"},{"type":"function","title":"BaladosSyncWeb.WebSubscriptionsHTML.new/1","doc":"","ref":"BaladosSyncWeb.WebSubscriptionsHTML.html#new/1"},{"type":"function","title":"BaladosSyncWeb.WebSubscriptionsHTML.time_ago_in_words/1","doc":"Format a DateTime to a relative time string (e.g., \"2 days ago\", \"just now\").\n\nExamples:\n  time_ago_in_words(~U[2024-12-01 10:00:00Z]) => \"2 days ago\"\n  time_ago_in_words(~U[2024-12-02 09:59:00Z]) => \"just now\"","ref":"BaladosSyncWeb.WebSubscriptionsHTML.html#time_ago_in_words/1"},{"type":"task","title":"mix db.drop","doc":"Drops all databases and schemas.","ref":"Mix.Tasks.Db.Drop.html"},{"type":"task","title":"EXTREME DANGER - mix db.drop","doc":"This operation is irreversible and will delete:\n- system schema: users and authentication tokens (NOT event-sourced, permanent loss)\n- events schema: EventStore (source of truth, permanent loss)\n- users schema: all projection tables (can be rebuilt from events)\n- public schema: all projection tables (can be rebuilt from events)\n\nUsers and events are equally critical. Since users are not event-sourced,\ndeleting them is as catastrophic as deleting events.","ref":"Mix.Tasks.Db.Drop.html#module-extreme-danger"},{"type":"task","title":"Recovery - mix db.drop","doc":"After running this, you must:\n1. Run: mix db.create\n2. Run: mix db.init\n3. Create a new admin user via web interface","ref":"Mix.Tasks.Db.Drop.html#module-recovery"},{"type":"task","title":"Usage - mix db.drop","doc":"mix db.drop\n\nYou will be prompted to confirm with the exact phrase.","ref":"Mix.Tasks.Db.Drop.html#module-usage"},{"type":"function","title":"Mix.Tasks.Db.Drop.run/1","doc":"Callback implementation for  Mix.Task.run/1 .","ref":"Mix.Tasks.Db.Drop.html#run/1"},{"type":"task","title":"mix db.migrate","doc":"Runs migrations for specified schemas or all.\n\nMigrations are run in order:\n1. System schema (users, app_tokens, play_tokens) - uses ecto.migrate\n2. Projections schemas (public subscriptions, etc.) - uses ecto.migrate\n3. EventStore schema (events) - uses event_store.init","ref":"Mix.Tasks.Db.Migrate.html"},{"type":"task","title":"Options - mix db.migrate","doc":"- `--system` - Run only system schema migrations\n- `--projections` - Run only projections migrations\n- `--events` - Run only EventStore migrations (event_store.init)\n\nIf no option is provided, runs all migrations.","ref":"Mix.Tasks.Db.Migrate.html#module-options"},{"type":"task","title":"Examples - mix db.migrate","doc":"$ mix db.migrate\n    $ mix db.migrate --system\n    $ mix db.migrate --projections\n    $ mix db.migrate --events","ref":"Mix.Tasks.Db.Migrate.html#module-examples"},{"type":"function","title":"Mix.Tasks.Db.Migrate.run/1","doc":"Callback implementation for  Mix.Task.run/1 .","ref":"Mix.Tasks.Db.Migrate.html#run/1"},{"type":"task","title":"mix db.reset","doc":"Resets database schemas with required confirmation.\n\nUses ecto.drop/create for Ecto repos and event_store.drop/create for EventStore.","ref":"Mix.Tasks.Db.Reset.html"},{"type":"task","title":"Options - mix db.reset","doc":"- `--system` - Reset only system schema (users, tokens)\n- `--events` - Reset only events schema (EventStore) - EXTREME DANGER\n- `--projections` - Reset only projections (public schema)\n- `--all` - Reset everything (system, events, projections)\n- `--migrate` - Run db.migrate after reset (can be combined with other options)\n\nIf no option is provided, shows usage.\n\nAll resets require confirmation by typing 'DELETE' or 'DELETE ALL'.","ref":"Mix.Tasks.Db.Reset.html#module-options"},{"type":"task","title":"Examples - mix db.reset","doc":"$ mix db.reset --system\n    $ mix db.reset --projections\n    $ mix db.reset --all\n    $ mix db.reset --projections --migrate\n    $ mix db.reset --system --migrate","ref":"Mix.Tasks.Db.Reset.html#module-examples"},{"type":"function","title":"Mix.Tasks.Db.Reset.run/1","doc":"Callback implementation for  Mix.Task.run/1 .","ref":"Mix.Tasks.Db.Reset.html#run/1"},{"type":"task","title":"mix ecto.confirm.drop","doc":"Safety wrapper that prevents direct use of ecto.drop.\n\nUse 'mix db.drop' instead for a safe database drop with confirmation.","ref":"Mix.Tasks.Ecto.Confirm.Drop.html"},{"type":"function","title":"Mix.Tasks.Ecto.Confirm.Drop.run/1","doc":"Callback implementation for  Mix.Task.run/1 .","ref":"Mix.Tasks.Ecto.Confirm.Drop.html#run/1"},{"type":"task","title":"mix ecto.disabled.create","doc":"","ref":"Mix.Tasks.Ecto.Disabled.Create.html"},{"type":"function","title":"Mix.Tasks.Ecto.Disabled.Create.run/1","doc":"Callback implementation for  Mix.Task.run/1 .","ref":"Mix.Tasks.Ecto.Disabled.Create.html#run/1"},{"type":"task","title":"mix ecto.disabled.drop","doc":"Safety wrapper that prevents direct use of ecto.drop.\n\nUse 'mix db.drop' instead for a safe database drop with confirmation.","ref":"Mix.Tasks.Ecto.Disabled.Drop.html"},{"type":"function","title":"Mix.Tasks.Ecto.Disabled.Drop.run/1","doc":"Callback implementation for  Mix.Task.run/1 .","ref":"Mix.Tasks.Ecto.Disabled.Drop.html#run/1"},{"type":"task","title":"mix ecto.disabled.migrate","doc":"","ref":"Mix.Tasks.Ecto.Disabled.Migrate.html"},{"type":"function","title":"Mix.Tasks.Ecto.Disabled.Migrate.run/1","doc":"Callback implementation for  Mix.Task.run/1 .","ref":"Mix.Tasks.Ecto.Disabled.Migrate.html#run/1"},{"type":"task","title":"mix ecto.disabled.reset","doc":"","ref":"Mix.Tasks.Ecto.Disabled.Reset.html"},{"type":"function","title":"Mix.Tasks.Ecto.Disabled.Reset.run/1","doc":"Callback implementation for  Mix.Task.run/1 .","ref":"Mix.Tasks.Ecto.Disabled.Reset.html#run/1"},{"type":"task","title":"mix ecto.reset_confirm","doc":"Wrapper for `mix ecto.reset` that requires explicit confirmation.\n\n⚠️  DANGER: This deletes EVERYTHING in the database!\n\nThis is a destructive operation that will delete:\n- All user accounts and passwords (system schema)\n- All app authorization tokens (system schema)\n- All projections (can be rebuilt from events)\n- All EventStore events (CANNOT be recovered!)","ref":"Mix.Tasks.Ecto.ResetConfirm.html"},{"type":"task","title":"Usage - mix ecto.reset_confirm","doc":"mix ecto.reset_confirm\n\nOr bypass confirmation (use with caution):\n\n    mix ecto.reset!","ref":"Mix.Tasks.Ecto.ResetConfirm.html#module-usage"},{"type":"task","title":"Safer alternatives - mix ecto.reset_confirm","doc":"- `mix reset_projections` - Only resets projections (SAFE)\n- `mix reset_system` - Only resets system tables (with confirmation)","ref":"Mix.Tasks.Ecto.ResetConfirm.html#module-safer-alternatives"},{"type":"task","title":"mix projections.migrate","doc":"Runs migrations for the projection schemas (users, public).","ref":"Mix.Tasks.Projections.Migrate.html"},{"type":"task","title":"Example - mix projections.migrate","doc":"$ mix projections.migrate","ref":"Mix.Tasks.Projections.Migrate.html#module-example"},{"type":"function","title":"Mix.Tasks.Projections.Migrate.run/1","doc":"Callback implementation for  Mix.Task.run/1 .","ref":"Mix.Tasks.Projections.Migrate.html#run/1"},{"type":"task","title":"mix reset_projections","doc":"Resets all projection tables by truncating them and resetting projector subscriptions.\n\nThis is SAFE to run as it:\n- Only truncates projection tables (users schema + public schema)\n- Preserves all system data (users, app_tokens, play_tokens)\n- Automatically rebuilds projections from EventStore","ref":"Mix.Tasks.ResetProjections.html"},{"type":"task","title":"Usage - mix reset_projections","doc":"mix reset_projections","ref":"Mix.Tasks.ResetProjections.html#module-usage"},{"type":"task","title":"What gets reset - mix reset_projections","doc":"","ref":"Mix.Tasks.ResetProjections.html#module-what-gets-reset"},{"type":"task","title":"Users Schema (Projections): - mix reset_projections","doc":"- subscriptions\n- play_statuses\n- playlists\n- playlist_items\n- user_privacy","ref":"Mix.Tasks.ResetProjections.html#module-users-schema-projections"},{"type":"task","title":"Public Schema (Projections): - mix reset_projections","doc":"- podcast_popularity\n- episode_popularity\n- public_events","ref":"Mix.Tasks.ResetProjections.html#module-public-schema-projections"},{"type":"task","title":"What is preserved: - mix reset_projections","doc":"- All system schema tables (users, app_tokens, play_tokens)\n- All events in EventStore","ref":"Mix.Tasks.ResetProjections.html#module-what-is-preserved"},{"type":"task","title":"mix reset_system","doc":"Resets all system tables (users, app_tokens, play_tokens).\n\n⚠️  DANGER: This deletes all user accounts and authorization tokens!\n\nThis task is intended for development/testing only.\nRequires explicit confirmation.","ref":"Mix.Tasks.ResetSystem.html"},{"type":"task","title":"Usage - mix reset_system","doc":"mix reset_system","ref":"Mix.Tasks.ResetSystem.html#module-usage"},{"type":"task","title":"What gets deleted - mix reset_system","doc":"","ref":"Mix.Tasks.ResetSystem.html#module-what-gets-deleted"},{"type":"task","title":"System Schema: - mix reset_system","doc":"- users (all user accounts and passwords)\n- app_tokens (all app authorizations)\n- play_tokens (all play gateway tokens)","ref":"Mix.Tasks.ResetSystem.html#module-system-schema"},{"type":"task","title":"What is preserved: - mix reset_system","doc":"- All projections (can be rebuilt from events)\n- EventStore (all events remain)\n\nNote: If you want to reset EVERYTHING including projections,\nuse `mix ecto.reset` instead.","ref":"Mix.Tasks.ResetSystem.html#module-what-is-preserved"},{"type":"task","title":"mix system.migrate","doc":"Runs migrations for the `system` schema (users, app_tokens, play_tokens).","ref":"Mix.Tasks.System.Migrate.html"},{"type":"task","title":"Example - mix system.migrate","doc":"$ mix system.migrate","ref":"Mix.Tasks.System.Migrate.html#module-example"},{"type":"function","title":"Mix.Tasks.System.Migrate.run/1","doc":"Callback implementation for  Mix.Task.run/1 .","ref":"Mix.Tasks.System.Migrate.html#run/1"},{"type":"task","title":"mix system_db.create","doc":"Creates the system database and initializes the `system` schema prefix.\n\nThis bypasses the ecto.create safety wrapper and calls Ecto directly.","ref":"Mix.Tasks.SystemDb.Create.html"},{"type":"task","title":"Example - mix system_db.create","doc":"$ mix system_db.create","ref":"Mix.Tasks.SystemDb.Create.html#module-example"},{"type":"function","title":"Mix.Tasks.SystemDb.Create.run/1","doc":"Callback implementation for  Mix.Task.run/1 .","ref":"Mix.Tasks.SystemDb.Create.html#run/1"},{"type":"task","title":"mix system_db.init_schema","doc":"Creates the `system` schema in the database if it doesn't exist.\n\nThis must be run before system_db.migrate to ensure the schema exists.","ref":"Mix.Tasks.SystemDb.InitSchema.html"},{"type":"task","title":"Example - mix system_db.init_schema","doc":"$ mix system_db.init_schema","ref":"Mix.Tasks.SystemDb.InitSchema.html#module-example"},{"type":"function","title":"Mix.Tasks.SystemDb.InitSchema.run/1","doc":"Callback implementation for  Mix.Task.run/1 .","ref":"Mix.Tasks.SystemDb.InitSchema.html#run/1"},{"type":"task","title":"mix system_db.migrate","doc":"Runs migrations for the `system` schema prefix.\n\nThis bypasses the ecto.migrate safety wrapper and calls Ecto directly.","ref":"Mix.Tasks.SystemDb.Migrate.html"},{"type":"task","title":"Example - mix system_db.migrate","doc":"$ mix system_db.migrate","ref":"Mix.Tasks.SystemDb.Migrate.html#module-example"},{"type":"function","title":"Mix.Tasks.SystemDb.Migrate.run/1","doc":"Callback implementation for  Mix.Task.run/1 .","ref":"Mix.Tasks.SystemDb.Migrate.html#run/1"},{"type":"module","title":"BaladosSyncWeb.AppAuthController","doc":"Controller for OAuth-style app authorization flow.\n\nThis controller handles the authorization flow for third-party applications\nthat want to access user data. Apps present a JWT containing their public key\nand metadata, which users can approve or deny.","ref":"BaladosSyncWeb.AppAuthController.html"},{"type":"module","title":"Authorization Flow - BaladosSyncWeb.AppAuthController","doc":"1. App creates a JWT with its public key and metadata\n2. App redirects user to `/authorize?token=...`\n3. User logs in (if not already authenticated)\n4. User sees authorization page with app details and requested scopes\n5. User approves, creating an AppToken record\n6. App can now make API requests using JWTs signed with its private key","ref":"BaladosSyncWeb.AppAuthController.html#module-authorization-flow"},{"type":"module","title":"Routes - BaladosSyncWeb.AppAuthController","doc":"- `GET /authorize?token=...` - Show authorization page\n- `POST /authorize` - Create authorization after user approval\n- `GET /api/v1/apps` - List authorized apps (JWT authenticated)\n- `DELETE /api/v1/apps/:jti` - Revoke app authorization (JWT authenticated)","ref":"BaladosSyncWeb.AppAuthController.html#module-routes"},{"type":"function","title":"BaladosSyncWeb.AppAuthController.authorize/2","doc":"Shows the authorization page for a third-party app.","ref":"BaladosSyncWeb.AppAuthController.html#authorize/2"},{"type":"function","title":"Parameters - BaladosSyncWeb.AppAuthController.authorize/2","doc":"- `token` - JWT containing app metadata and public key","ref":"BaladosSyncWeb.AppAuthController.html#authorize/2-parameters"},{"type":"function","title":"Responses - BaladosSyncWeb.AppAuthController.authorize/2","doc":"- Renders authorization page if user is authenticated\n- Redirects to login if user is not authenticated\n- Redirects with error if token is invalid","ref":"BaladosSyncWeb.AppAuthController.html#authorize/2-responses"},{"type":"function","title":"Example Request - BaladosSyncWeb.AppAuthController.authorize/2","doc":"GET /authorize?token=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...","ref":"BaladosSyncWeb.AppAuthController.html#authorize/2-example-request"},{"type":"function","title":"BaladosSyncWeb.AppAuthController.create_authorization/2","doc":"Creates the authorization after user confirms.\n\nThis endpoint is called when the user clicks \"Authorize\" on the authorization page.\nIt decodes the token again, validates it, and creates an AppToken record.","ref":"BaladosSyncWeb.AppAuthController.html#create_authorization/2"},{"type":"function","title":"Parameters - BaladosSyncWeb.AppAuthController.create_authorization/2","doc":"- `token` - The same JWT from the authorization page","ref":"BaladosSyncWeb.AppAuthController.html#create_authorization/2-parameters"},{"type":"function","title":"Responses - BaladosSyncWeb.AppAuthController.create_authorization/2","doc":"- Redirects to dashboard with success message on approval\n- Redirects with error if token is invalid or authorization fails\n- Returns 401 if user is not authenticated","ref":"BaladosSyncWeb.AppAuthController.html#create_authorization/2-responses"},{"type":"function","title":"Example Request - BaladosSyncWeb.AppAuthController.create_authorization/2","doc":"POST /authorize\n    Content-Type: application/x-www-form-urlencoded\n\n    token=eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...","ref":"BaladosSyncWeb.AppAuthController.html#create_authorization/2-example-request"},{"type":"function","title":"BaladosSyncWeb.AppAuthController.delete/2","doc":"Revokes an app authorization.\n\nRemoves access for a specific app by marking its authorization as revoked.\nThe app will no longer be able to make authenticated requests on behalf of the user.","ref":"BaladosSyncWeb.AppAuthController.html#delete/2"},{"type":"function","title":"Parameters - BaladosSyncWeb.AppAuthController.delete/2","doc":"- `app_id` - The unique app identifier (from JWT iss field)","ref":"BaladosSyncWeb.AppAuthController.html#delete/2-parameters"},{"type":"function","title":"Authentication - BaladosSyncWeb.AppAuthController.delete/2","doc":"Requires a valid JWT token in the Authorization header.","ref":"BaladosSyncWeb.AppAuthController.html#delete/2-authentication"},{"type":"function","title":"Example Request - BaladosSyncWeb.AppAuthController.delete/2","doc":"DELETE /api/v1/apps/com.example.podcast-player\n    Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...","ref":"BaladosSyncWeb.AppAuthController.html#delete/2-example-request"},{"type":"function","title":"Example Response (Success) - BaladosSyncWeb.AppAuthController.delete/2","doc":"{\n      \"status\": \"success\",\n      \"message\": \"App authorization revoked\"\n    }","ref":"BaladosSyncWeb.AppAuthController.html#delete/2-example-response-success"},{"type":"function","title":"Example Response (Not Found) - BaladosSyncWeb.AppAuthController.delete/2","doc":"{\n      \"error\": \"App not found or already revoked\"\n    }","ref":"BaladosSyncWeb.AppAuthController.html#delete/2-example-response-not-found"},{"type":"function","title":"BaladosSyncWeb.AppAuthController.index/2","doc":"Lists all authorized apps for the current user.\n\nReturns a list of all non-revoked app authorizations for the authenticated user.\nRequires JWT authentication via the API.","ref":"BaladosSyncWeb.AppAuthController.html#index/2"},{"type":"function","title":"Authentication - BaladosSyncWeb.AppAuthController.index/2","doc":"Requires a valid JWT token in the Authorization header.","ref":"BaladosSyncWeb.AppAuthController.html#index/2-authentication"},{"type":"function","title":"Example Request - BaladosSyncWeb.AppAuthController.index/2","doc":"GET /api/v1/apps\n    Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...","ref":"BaladosSyncWeb.AppAuthController.html#index/2-example-request"},{"type":"function","title":"Example Response - BaladosSyncWeb.AppAuthController.index/2","doc":"{\n      \"apps\": [\n        {\n          \"id\": \"uuid\",\n          \"app_id\": \"com.example.podcast-player\",\n          \"app_name\": \"Podcast Player Pro\",\n          \"app_url\": \"https://podcastplayer.com\",\n          \"app_image\": \"https://podcastplayer.com/icon.png\",\n          \"scopes\": [\"user.subscriptions.read\", \"user.plays.write\"],\n          \"last_used_at\": \"2024-01-15T10:30:00Z\",\n          \"inserted_at\": \"2024-01-01T08:00:00Z\",\n          \"updated_at\": \"2024-01-15T10:30:00Z\"\n        }\n      ]\n    }","ref":"BaladosSyncWeb.AppAuthController.html#index/2-example-response"},{"type":"function","title":"BaladosSyncWeb.AppAuthController.manage_apps/2","doc":"Shows the HTML page for managing authorized apps.\n\nThis page displays all apps the user has authorized, with options to revoke access.\nImages are shown only if 10% of users have authorized the app.","ref":"BaladosSyncWeb.AppAuthController.html#manage_apps/2"},{"type":"module","title":"BaladosSyncWeb.DashboardController","doc":"","ref":"BaladosSyncWeb.DashboardController.html"},{"type":"function","title":"BaladosSyncWeb.DashboardController.index/2","doc":"","ref":"BaladosSyncWeb.DashboardController.html#index/2"},{"type":"module","title":"BaladosSyncWeb.EpisodeController","doc":"","ref":"BaladosSyncWeb.EpisodeController.html"},{"type":"function","title":"BaladosSyncWeb.EpisodeController.save/2","doc":"","ref":"BaladosSyncWeb.EpisodeController.html#save/2"},{"type":"function","title":"BaladosSyncWeb.EpisodeController.share/2","doc":"","ref":"BaladosSyncWeb.EpisodeController.html#share/2"},{"type":"module","title":"BaladosSyncWeb.PlayController","doc":"Controller for managing episode play status and playback position.\n\nThis controller handles recording play events and updating playback positions for\npodcast episodes. All operations use CQRS commands to ensure proper event sourcing.","ref":"BaladosSyncWeb.PlayController.html"},{"type":"module","title":"Routes - BaladosSyncWeb.PlayController","doc":"- `POST /api/v1/plays` - Record a play event with position and played status\n- `PATCH /api/v1/plays/:item` - Update playback position for an episode\n- `GET /api/v1/plays` - List play statuses with filtering and pagination","ref":"BaladosSyncWeb.PlayController.html#module-routes"},{"type":"module","title":"Authentication - BaladosSyncWeb.PlayController","doc":"All endpoints require JWT authentication.","ref":"BaladosSyncWeb.PlayController.html#module-authentication"},{"type":"module","title":"Data Encoding - BaladosSyncWeb.PlayController","doc":"Episode identifiers (`rss_source_item`) are base64-encoded strings in the format:\n`\"#{guid},#{enclosure_url}\"` where guid and enclosure_url are from the RSS feed.","ref":"BaladosSyncWeb.PlayController.html#module-data-encoding"},{"type":"function","title":"BaladosSyncWeb.PlayController.index/2","doc":"Lists play statuses for the authenticated user.\n\nReturns play statuses from the read model with optional filtering and pagination.","ref":"BaladosSyncWeb.PlayController.html#index/2"},{"type":"function","title":"Query Parameters - BaladosSyncWeb.PlayController.index/2","doc":"- `played` - Filter by played status: \"true\" or \"false\" (optional)\n- `feed` - Filter by base64-encoded feed URL (optional)\n- `limit` - Number of results per page (default: 50, max: 100)\n- `offset` - Number of results to skip (default: 0)","ref":"BaladosSyncWeb.PlayController.html#index/2-query-parameters"},{"type":"function","title":"Example Request - BaladosSyncWeb.PlayController.index/2","doc":"GET /api/v1/plays?played=false&limit=20&offset=0\n    Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...","ref":"BaladosSyncWeb.PlayController.html#index/2-example-request"},{"type":"function","title":"Example Response - BaladosSyncWeb.PlayController.index/2","doc":"{\n      \"play_statuses\": [\n        {\n          \"id\": 1,\n          \"user_id\": \"user-123\",\n          \"rss_source_feed\": \"aHR0cHM6Ly9mZWVkcy5leGFtcGxlLmNvbS9wb2RjYXN0\",\n          \"rss_source_item\": \"Z3VpZC0xMjMsaHR0cHM6Ly9leGFtcGxlLmNvbS9lcGlzb2RlLm1wMw==\",\n          \"position\": 1234,\n          \"played\": false,\n          \"updated_at\": \"2024-01-15T10:30:00Z\"\n        }\n      ],\n      \"pagination\": {\n        \"limit\": 20,\n        \"offset\": 0,\n        \"total\": 45\n      }\n    }","ref":"BaladosSyncWeb.PlayController.html#index/2-example-response"},{"type":"function","title":"BaladosSyncWeb.PlayController.record/2","doc":"Records a play event for an episode.\n\nDispatches a `RecordPlay` command that creates a `PlayRecorded` event. This updates\nboth the playback position and the played (completed) status.","ref":"BaladosSyncWeb.PlayController.html#record/2"},{"type":"function","title":"Parameters - BaladosSyncWeb.PlayController.record/2","doc":"- `rss_source_feed` - Base64-encoded RSS feed URL\n- `rss_source_item` - Base64-encoded episode identifier\n- `position` - Current playback position in seconds (integer)\n- `played` - Whether the episode has been completed (boolean)","ref":"BaladosSyncWeb.PlayController.html#record/2-parameters"},{"type":"function","title":"Example Request - BaladosSyncWeb.PlayController.record/2","doc":"POST /api/v1/plays\n    Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...\n    Content-Type: application/json\n\n    {\n      \"rss_source_feed\": \"aHR0cHM6Ly9mZWVkcy5leGFtcGxlLmNvbS9wb2RjYXN0\",\n      \"rss_source_item\": \"Z3VpZC0xMjMsaHR0cHM6Ly9leGFtcGxlLmNvbS9lcGlzb2RlLm1wMw==\",\n      \"position\": 1234,\n      \"played\": false\n    }","ref":"BaladosSyncWeb.PlayController.html#record/2-example-request"},{"type":"function","title":"Example Response - BaladosSyncWeb.PlayController.record/2","doc":"{\n      \"status\": \"success\"\n    }","ref":"BaladosSyncWeb.PlayController.html#record/2-example-response"},{"type":"function","title":"BaladosSyncWeb.PlayController.update_position/2","doc":"Updates only the playback position for an episode.\n\nDispatches an `UpdatePosition` command that creates a `PositionUpdated` event.\nThis is useful for periodic position saves without marking the episode as played.","ref":"BaladosSyncWeb.PlayController.html#update_position/2"},{"type":"function","title":"Parameters - BaladosSyncWeb.PlayController.update_position/2","doc":"- `item` - Base64-encoded episode identifier (from URL path)\n- `position` - Current playback position in seconds (integer)","ref":"BaladosSyncWeb.PlayController.html#update_position/2-parameters"},{"type":"function","title":"Example Request - BaladosSyncWeb.PlayController.update_position/2","doc":"PATCH /api/v1/plays/Z3VpZC0xMjMsaHR0cHM6Ly9leGFtcGxlLmNvbS9lcGlzb2RlLm1wMw==\n    Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...\n    Content-Type: application/json\n\n    {\n      \"position\": 1567\n    }","ref":"BaladosSyncWeb.PlayController.html#update_position/2-example-request"},{"type":"function","title":"Example Response - BaladosSyncWeb.PlayController.update_position/2","doc":"{\n      \"status\": \"success\"\n    }","ref":"BaladosSyncWeb.PlayController.html#update_position/2-example-response"},{"type":"module","title":"BaladosSyncWeb.PlayGatewayController","doc":"","ref":"BaladosSyncWeb.PlayGatewayController.html"},{"type":"function","title":"BaladosSyncWeb.PlayGatewayController.play/2","doc":"","ref":"BaladosSyncWeb.PlayGatewayController.html#play/2"},{"type":"module","title":"BaladosSyncWeb.PrivacyController","doc":"","ref":"BaladosSyncWeb.PrivacyController.html"},{"type":"function","title":"BaladosSyncWeb.PrivacyController.show/2","doc":"","ref":"BaladosSyncWeb.PrivacyController.html#show/2"},{"type":"function","title":"BaladosSyncWeb.PrivacyController.update/2","doc":"","ref":"BaladosSyncWeb.PrivacyController.html#update/2"},{"type":"module","title":"BaladosSyncWeb.PublicController","doc":"","ref":"BaladosSyncWeb.PublicController.html"},{"type":"function","title":"BaladosSyncWeb.PublicController.episode_page/2","doc":"Display a single episode page with details and popularity stats.","ref":"BaladosSyncWeb.PublicController.html#episode_page/2"},{"type":"function","title":"BaladosSyncWeb.PublicController.episode_popularity/2","doc":"","ref":"BaladosSyncWeb.PublicController.html#episode_popularity/2"},{"type":"function","title":"BaladosSyncWeb.PublicController.feed_page/2","doc":"Display a single podcast feed page with recent episodes.\nShows conditional subscribe/unsubscribe buttons based on authentication status.\n\nSupports both slug-based URLs (/podcasts/my-show) and base64-encoded URLs.","ref":"BaladosSyncWeb.PublicController.html#feed_page/2"},{"type":"function","title":"BaladosSyncWeb.PublicController.feed_popularity/2","doc":"","ref":"BaladosSyncWeb.PublicController.html#feed_popularity/2"},{"type":"function","title":"BaladosSyncWeb.PublicController.subscribe_to_feed/2","doc":"Quick subscribe from public feed page.\nRequires authentication.","ref":"BaladosSyncWeb.PublicController.html#subscribe_to_feed/2"},{"type":"function","title":"BaladosSyncWeb.PublicController.timeline/2","doc":"","ref":"BaladosSyncWeb.PublicController.html#timeline/2"},{"type":"function","title":"BaladosSyncWeb.PublicController.timeline_html/2","doc":"Display public timeline of podcast activity in HTML.\nShows subscriptions and plays from all users (respecting privacy settings).","ref":"BaladosSyncWeb.PublicController.html#timeline_html/2"},{"type":"function","title":"BaladosSyncWeb.PublicController.trending_episodes/2","doc":"","ref":"BaladosSyncWeb.PublicController.html#trending_episodes/2"},{"type":"function","title":"BaladosSyncWeb.PublicController.trending_episodes_html/2","doc":"Display top 10 trending episodes in HTML.","ref":"BaladosSyncWeb.PublicController.html#trending_episodes_html/2"},{"type":"function","title":"BaladosSyncWeb.PublicController.trending_podcasts/2","doc":"","ref":"BaladosSyncWeb.PublicController.html#trending_podcasts/2"},{"type":"function","title":"BaladosSyncWeb.PublicController.trending_podcasts_html/2","doc":"Display top 10 trending podcasts in HTML.","ref":"BaladosSyncWeb.PublicController.html#trending_podcasts_html/2"},{"type":"function","title":"BaladosSyncWeb.PublicController.unsubscribe_from_feed/2","doc":"Quick unsubscribe from public feed page.\nRequires authentication and existing subscription.","ref":"BaladosSyncWeb.PublicController.html#unsubscribe_from_feed/2"},{"type":"module","title":"BaladosSyncWeb.RssAggregateController","doc":"","ref":"BaladosSyncWeb.RssAggregateController.html"},{"type":"function","title":"BaladosSyncWeb.RssAggregateController.collection/2","doc":"","ref":"BaladosSyncWeb.RssAggregateController.html#collection/2"},{"type":"function","title":"BaladosSyncWeb.RssAggregateController.playlist/2","doc":"","ref":"BaladosSyncWeb.RssAggregateController.html#playlist/2"},{"type":"function","title":"BaladosSyncWeb.RssAggregateController.subscriptions/2","doc":"","ref":"BaladosSyncWeb.RssAggregateController.html#subscriptions/2"},{"type":"module","title":"BaladosSyncWeb.RssProxyController","doc":"","ref":"BaladosSyncWeb.RssProxyController.html"},{"type":"function","title":"BaladosSyncWeb.RssProxyController.proxy/2","doc":"","ref":"BaladosSyncWeb.RssProxyController.html#proxy/2"},{"type":"function","title":"BaladosSyncWeb.RssProxyController.proxy_episode/2","doc":"","ref":"BaladosSyncWeb.RssProxyController.html#proxy_episode/2"},{"type":"module","title":"BaladosSyncWeb.SubscriptionController","doc":"Controller for managing podcast subscriptions.\n\nThis controller handles subscribing, unsubscribing, and listing podcast subscriptions\nfor authenticated users. All operations use CQRS commands dispatched through the\nCommanded dispatcher, ensuring events are properly recorded in the event store.","ref":"BaladosSyncWeb.SubscriptionController.html"},{"type":"module","title":"Routes - BaladosSyncWeb.SubscriptionController","doc":"- `POST /api/v1/subscriptions` - Subscribe to a podcast\n- `DELETE /api/v1/subscriptions/:feed` - Unsubscribe from a podcast\n- `GET /api/v1/subscriptions` - List all active subscriptions","ref":"BaladosSyncWeb.SubscriptionController.html#module-routes"},{"type":"module","title":"Authentication - BaladosSyncWeb.SubscriptionController","doc":"All endpoints require JWT authentication. The JWT must contain:\n- `sub` (user_id)\n- `device_id`\n- `device_name`","ref":"BaladosSyncWeb.SubscriptionController.html#module-authentication"},{"type":"module","title":"Data Encoding - BaladosSyncWeb.SubscriptionController","doc":"RSS feed URLs are base64-encoded as `rss_source_feed` for safe URL transmission.","ref":"BaladosSyncWeb.SubscriptionController.html#module-data-encoding"},{"type":"function","title":"BaladosSyncWeb.SubscriptionController.create/2","doc":"Subscribes to a podcast feed.\n\nDispatches a `Subscribe` command that creates a `UserSubscribed` event in the event store.\nThe event is then projected to the subscriptions read model.","ref":"BaladosSyncWeb.SubscriptionController.html#create/2"},{"type":"function","title":"Parameters - BaladosSyncWeb.SubscriptionController.create/2","doc":"- `rss_source_feed` - Base64-encoded RSS feed URL\n- `rss_source_id` - Unique identifier for the podcast","ref":"BaladosSyncWeb.SubscriptionController.html#create/2-parameters"},{"type":"function","title":"Example Request - BaladosSyncWeb.SubscriptionController.create/2","doc":"POST /api/v1/subscriptions\n    Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...\n    Content-Type: application/json\n\n    {\n      \"rss_source_feed\": \"aHR0cHM6Ly9mZWVkcy5leGFtcGxlLmNvbS9wb2RjYXN0\",\n      \"rss_source_id\": \"podcast-123\"\n    }","ref":"BaladosSyncWeb.SubscriptionController.html#create/2-example-request"},{"type":"function","title":"Example Response (Success) - BaladosSyncWeb.SubscriptionController.create/2","doc":"{\n      \"status\": \"success\"\n    }","ref":"BaladosSyncWeb.SubscriptionController.html#create/2-example-response-success"},{"type":"function","title":"Example Response (Error) - BaladosSyncWeb.SubscriptionController.create/2","doc":"{\n      \"error\": \"invalid_command\"\n    }","ref":"BaladosSyncWeb.SubscriptionController.html#create/2-example-response-error"},{"type":"function","title":"BaladosSyncWeb.SubscriptionController.delete/2","doc":"Unsubscribes from a podcast feed.\n\nDispatches an `Unsubscribe` command that creates a `UserUnsubscribed` event.\nThe subscription remains in the database but is marked as unsubscribed.","ref":"BaladosSyncWeb.SubscriptionController.html#delete/2"},{"type":"function","title":"Parameters - BaladosSyncWeb.SubscriptionController.delete/2","doc":"- `feed` - Base64-encoded RSS feed URL (from URL path)","ref":"BaladosSyncWeb.SubscriptionController.html#delete/2-parameters"},{"type":"function","title":"Example Request - BaladosSyncWeb.SubscriptionController.delete/2","doc":"DELETE /api/v1/subscriptions/aHR0cHM6Ly9mZWVkcy5leGFtcGxlLmNvbS9wb2RjYXN0\n    Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...","ref":"BaladosSyncWeb.SubscriptionController.html#delete/2-example-request"},{"type":"function","title":"Example Response (Success) - BaladosSyncWeb.SubscriptionController.delete/2","doc":"{\n      \"status\": \"success\"\n    }","ref":"BaladosSyncWeb.SubscriptionController.html#delete/2-example-response-success"},{"type":"function","title":"Example Response (Error) - BaladosSyncWeb.SubscriptionController.delete/2","doc":"{\n      \"error\": \"invalid_command\"\n    }","ref":"BaladosSyncWeb.SubscriptionController.html#delete/2-example-response-error"},{"type":"function","title":"BaladosSyncWeb.SubscriptionController.index/2","doc":"Lists all active subscriptions for the authenticated user.\n\nReturns subscriptions from the read model where the subscription is currently active\n(either never unsubscribed, or subscribed_at is more recent than unsubscribed_at).","ref":"BaladosSyncWeb.SubscriptionController.html#index/2"},{"type":"function","title":"Example Request - BaladosSyncWeb.SubscriptionController.index/2","doc":"GET /api/v1/subscriptions\n    Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...","ref":"BaladosSyncWeb.SubscriptionController.html#index/2-example-request"},{"type":"function","title":"Example Response - BaladosSyncWeb.SubscriptionController.index/2","doc":"{\n      \"subscriptions\": [\n        {\n          \"id\": 1,\n          \"user_id\": \"user-123\",\n          \"rss_source_feed\": \"aHR0cHM6Ly9mZWVkcy5leGFtcGxlLmNvbS9wb2RjYXN0\",\n          \"rss_source_id\": \"podcast-123\",\n          \"subscribed_at\": \"2024-01-15T10:30:00Z\",\n          \"unsubscribed_at\": null,\n          \"inserted_at\": \"2024-01-15T10:30:00Z\",\n          \"updated_at\": \"2024-01-15T10:30:00Z\"\n        }\n      ]\n    }","ref":"BaladosSyncWeb.SubscriptionController.html#index/2-example-response"},{"type":"function","title":"BaladosSyncWeb.SubscriptionController.metadata/2","doc":"Fetches fresh metadata for a podcast feed via AJAX.\n\nReturns parsed feed metadata (title, description, author, cover, etc.) from the RSS cache.\nUsed by the web interface to progressively load metadata for subscriptions.","ref":"BaladosSyncWeb.SubscriptionController.html#metadata/2"},{"type":"function","title":"Parameters - BaladosSyncWeb.SubscriptionController.metadata/2","doc":"- `feed` - Base64-encoded RSS feed URL (from URL path)","ref":"BaladosSyncWeb.SubscriptionController.html#metadata/2-parameters"},{"type":"function","title":"Example Request - BaladosSyncWeb.SubscriptionController.metadata/2","doc":"GET /api/v1/subscriptions/aHR0cHM6Ly9mZWVkcy5leGFtcGxlLmNvbS9wb2RjYXN0/metadata\n    Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...","ref":"BaladosSyncWeb.SubscriptionController.html#metadata/2-example-request"},{"type":"function","title":"Example Response (Success) - BaladosSyncWeb.SubscriptionController.metadata/2","doc":"{\n      \"metadata\": {\n        \"title\": \"Example Podcast\",\n        \"description\": \"A great podcast about...\",\n        \"author\": \"John Doe\",\n        \"cover\": {\n          \"src\": \"https://example.com/cover.jpg\",\n          \"srcset\": null\n        },\n        \"language\": \"en\",\n        \"episodes_count\": 42\n      }\n    }","ref":"BaladosSyncWeb.SubscriptionController.html#metadata/2-example-response-success"},{"type":"function","title":"Example Response (Error) - BaladosSyncWeb.SubscriptionController.metadata/2","doc":"{\n      \"error\": \"Invalid feed encoding\"\n    }","ref":"BaladosSyncWeb.SubscriptionController.html#metadata/2-example-response-error"},{"type":"module","title":"BaladosSyncWeb.SyncController","doc":"","ref":"BaladosSyncWeb.SyncController.html"},{"type":"function","title":"BaladosSyncWeb.SyncController.sync/2","doc":"","ref":"BaladosSyncWeb.SyncController.html#sync/2"},{"type":"module","title":"BaladosSyncWeb.UserRegistrationController","doc":"","ref":"BaladosSyncWeb.UserRegistrationController.html"},{"type":"function","title":"BaladosSyncWeb.UserRegistrationController.create/2","doc":"","ref":"BaladosSyncWeb.UserRegistrationController.html#create/2"},{"type":"function","title":"BaladosSyncWeb.UserRegistrationController.new/2","doc":"","ref":"BaladosSyncWeb.UserRegistrationController.html#new/2"},{"type":"module","title":"BaladosSyncWeb.UserSessionController","doc":"","ref":"BaladosSyncWeb.UserSessionController.html"},{"type":"function","title":"BaladosSyncWeb.UserSessionController.create/2","doc":"","ref":"BaladosSyncWeb.UserSessionController.html#create/2"},{"type":"function","title":"BaladosSyncWeb.UserSessionController.delete/2","doc":"","ref":"BaladosSyncWeb.UserSessionController.html#delete/2"},{"type":"function","title":"BaladosSyncWeb.UserSessionController.new/2","doc":"","ref":"BaladosSyncWeb.UserSessionController.html#new/2"},{"type":"module","title":"BaladosSyncWeb.AppAuth","doc":"Handles app authorization logic using JWT tokens.\n\nApps present a JWT containing their public key, app_id (in iss field), and metadata.\nUpon authorization, this information is stored in the app_tokens table.","ref":"BaladosSyncWeb.AppAuth.html"},{"type":"module","title":"JWT Structure - BaladosSyncWeb.AppAuth","doc":"Apps must create JWTs with:\n- `iss` - App ID (mandatory, unique identifier for the app)\n- `app` - App details (name, url, image, public_key)\n- `scopes` - Requested scopes (optional, defaults to [])","ref":"BaladosSyncWeb.AppAuth.html#module-jwt-structure"},{"type":"module","title":"Authentication Flow - BaladosSyncWeb.AppAuth","doc":"1. App creates authorization JWT with its metadata and public key\n2. User authorizes the app via web interface\n3. App creates request JWTs signed with its private key\n4. API verifies JWTs using the stored public key for that app_id","ref":"BaladosSyncWeb.AppAuth.html#module-authentication-flow"},{"type":"function","title":"BaladosSyncWeb.AppAuth.authorize_app/2","doc":"Authorizes an app by inserting or updating it in the app_tokens table.\n\nTakes:\n- user_id: The user authorizing the app\n- decoded_token_data: The verified JWT claims\n\nReturns {:ok, app_token} or {:error, changeset}\n\nIf the same app (user_id + app_id combination) is already authorized,\nthis updates the scopes and app metadata.","ref":"BaladosSyncWeb.AppAuth.html#authorize_app/2"},{"type":"function","title":"BaladosSyncWeb.AppAuth.decode_app_token/1","doc":"Decodes a JWT and verifies it using the public_key inside the JWT claims.\n\nExpected claims in the token:\n- \"iss\": App ID (mandatory)\n- \"app\": app details\n  - \"public_key\": PEM-encoded RSA public key\n  - \"name\": Application name\n  - \"url\": Application URL (optional)\n  - \"image\": Application image URL (optional)\n- \"scopes\": Array of requested scopes (optional)\n\nReturns {:ok, decoded_claims} or {:error, reason}","ref":"BaladosSyncWeb.AppAuth.html#decode_app_token/1"},{"type":"function","title":"BaladosSyncWeb.AppAuth.get_app_usage_stats/2","doc":"Calculates the usage percentage for an app across all users.\n\nUses app_id + public_key to identify unique apps.\nReturns a tuple {user_count, percentage, total_users}","ref":"BaladosSyncWeb.AppAuth.html#get_app_usage_stats/2"},{"type":"function","title":"BaladosSyncWeb.AppAuth.get_authorized_apps/1","doc":"Returns all non-revoked app_tokens for a user.","ref":"BaladosSyncWeb.AppAuth.html#get_authorized_apps/1"},{"type":"function","title":"BaladosSyncWeb.AppAuth.revoke_app/2","doc":"Revokes an app authorization by setting revoked_at.\n\nReturns {:ok, app_token} or {:error, :not_found}","ref":"BaladosSyncWeb.AppAuth.html#revoke_app/2"},{"type":"function","title":"BaladosSyncWeb.AppAuth.verify_app_request/1","doc":"Verifies a JWT from an authorized app.\n\nUses the app_id from the JWT's 'iss' claim to look up the stored public key,\nthen verifies the JWT signature.\n\nReturns {:ok, %{claims: claims, app_token: app_token}} or {:error, reason}","ref":"BaladosSyncWeb.AppAuth.html#verify_app_request/1"},{"type":"module","title":"BaladosSyncWeb.Plugs.JWTAuth","doc":"Plug for JWT-based authentication for third-party apps.\n\nThis plug verifies JWT tokens from authorized apps and optionally checks\nthat the app has the required scopes for the requested operation.","ref":"BaladosSyncWeb.Plugs.JWTAuth.html"},{"type":"module","title":"Usage - BaladosSyncWeb.Plugs.JWTAuth","doc":"# In your controller\n    plug JWTAuth when action in [:index, :show, :update]\n\n    # With required scopes\n    plug JWTAuth, scopes: [\"user.subscriptions.read\"]\n\n    # With multiple required scopes (all must be granted)\n    plug JWTAuth, scopes: [\"user.read\", \"user.subscriptions.read\"]\n\n    # With alternative scopes (any one must be granted)\n    plug JWTAuth, scopes_any: [\"user\", \"user.subscriptions.read\"]","ref":"BaladosSyncWeb.Plugs.JWTAuth.html#module-usage"},{"type":"module","title":"Assigns - BaladosSyncWeb.Plugs.JWTAuth","doc":"After successful authentication, the following assigns are available:\n- `:current_user_id` - The user ID from the JWT sub claim\n- `:app_token` - The AppToken record from the database\n- `:app_id` - The app ID from the JWT iss claim\n- `:jwt_claims` - All JWT claims","ref":"BaladosSyncWeb.Plugs.JWTAuth.html#module-assigns"},{"type":"function","title":"BaladosSyncWeb.Plugs.JWTAuth.call/2","doc":"","ref":"BaladosSyncWeb.Plugs.JWTAuth.html#call/2"},{"type":"function","title":"BaladosSyncWeb.Plugs.JWTAuth.init/1","doc":"","ref":"BaladosSyncWeb.Plugs.JWTAuth.html#init/1"},{"type":"module","title":"BaladosSyncWeb.Plugs.UserAuth","doc":"Plugs for handling user authentication via Phoenix sessions.","ref":"BaladosSyncWeb.Plugs.UserAuth.html"},{"type":"function","title":"BaladosSyncWeb.Plugs.UserAuth.fetch_current_user/2","doc":"Authenticates the user by looking into the session\nand remember me token.","ref":"BaladosSyncWeb.Plugs.UserAuth.html#fetch_current_user/2"},{"type":"function","title":"BaladosSyncWeb.Plugs.UserAuth.log_in_user/3","doc":"Logs the user in.\n\nIt renews the session ID and clears the whole session\nto avoid fixation attacks. See the renew_session\nfunction to customize this behaviour.\n\nIt also sets a `:live_socket_id` key in the session,\nso LiveView sessions are identified and automatically\ndisconnected on log out. The line can be safely removed\nif you are not using LiveView.","ref":"BaladosSyncWeb.Plugs.UserAuth.html#log_in_user/3"},{"type":"function","title":"BaladosSyncWeb.Plugs.UserAuth.log_out_user/1","doc":"Logs the user out.\n\nIt clears all session data for safety. See renew_session.","ref":"BaladosSyncWeb.Plugs.UserAuth.html#log_out_user/1"},{"type":"function","title":"BaladosSyncWeb.Plugs.UserAuth.on_mount/4","doc":"Handles mounting and authenticating the current_user in LiveViews.\n\n## `on_mount` arguments\n\n  * `:mount_current_user` - Assigns current_user\n    to socket assigns based on user_token, or nil if\n    there's no user_token or no matching user.\n\n  * `:ensure_authenticated` - Authenticates the user from the session,\n    and assigns the current_user to socket assigns based\n    on user_token.\n    Redirects to login page if there's no logged user.\n\n  * `:redirect_if_user_is_authenticated` - Authenticates the user from the session.\n    Redirects to signed_in_path if there's a logged user.","ref":"BaladosSyncWeb.Plugs.UserAuth.html#on_mount/4"},{"type":"function","title":"Examples - BaladosSyncWeb.Plugs.UserAuth.on_mount/4","doc":"Use the `on_mount` lifecycle macro in LiveViews to mount or authenticate\nthe current_user:\n\n    defmodule BaladosSyncWeb.PageLive do\n      use BaladosSyncWeb, :live_view\n\n      on_mount {BaladosSyncWeb.Plugs.UserAuth, :mount_current_user}\n      ...\n    end\n\nOr use the `live_session` of your router to invoke the on_mount callback:\n\n    live_session :authenticated, on_mount: [{BaladosSyncWeb.Plugs.UserAuth, :ensure_authenticated}] do\n      live \"/profile\", ProfileLive, :index\n    end","ref":"BaladosSyncWeb.Plugs.UserAuth.html#on_mount/4-examples"},{"type":"function","title":"BaladosSyncWeb.Plugs.UserAuth.redirect_if_user_is_authenticated/2","doc":"Used for routes that require the user to not be authenticated.","ref":"BaladosSyncWeb.Plugs.UserAuth.html#redirect_if_user_is_authenticated/2"},{"type":"function","title":"BaladosSyncWeb.Plugs.UserAuth.require_authenticated_user/2","doc":"Used for routes that require the user to be authenticated.\n\nIf you want to enforce the user email is confirmed before\nthey use the application at all, here would be a good place.","ref":"BaladosSyncWeb.Plugs.UserAuth.html#require_authenticated_user/2"},{"type":"module","title":"BaladosSyncWeb.Accounts","doc":"The Accounts context for user authentication and management.","ref":"BaladosSyncWeb.Accounts.html"},{"type":"function","title":"BaladosSyncWeb.Accounts.admin?/1","doc":"Checks if a user is an admin.","ref":"BaladosSyncWeb.Accounts.html#admin?/1"},{"type":"function","title":"BaladosSyncWeb.Accounts.any_users_exist?/0","doc":"Checks if any users exist in the system.","ref":"BaladosSyncWeb.Accounts.html#any_users_exist?/0"},{"type":"function","title":"BaladosSyncWeb.Accounts.change_user_registration/2","doc":"Returns an `%Ecto.Changeset{}` for tracking user changes.","ref":"BaladosSyncWeb.Accounts.html#change_user_registration/2"},{"type":"function","title":"Examples - BaladosSyncWeb.Accounts.change_user_registration/2","doc":"iex> change_user_registration(user)\n    %Ecto.Changeset{data: %User{}}","ref":"BaladosSyncWeb.Accounts.html#change_user_registration/2-examples"},{"type":"function","title":"BaladosSyncWeb.Accounts.confirm_user/1","doc":"Confirms a user account.","ref":"BaladosSyncWeb.Accounts.html#confirm_user/1"},{"type":"function","title":"BaladosSyncWeb.Accounts.count_users/0","doc":"Counts total number of users.","ref":"BaladosSyncWeb.Accounts.html#count_users/0"},{"type":"function","title":"BaladosSyncWeb.Accounts.get_user/1","doc":"Gets a single user by id.","ref":"BaladosSyncWeb.Accounts.html#get_user/1"},{"type":"function","title":"Examples - BaladosSyncWeb.Accounts.get_user/1","doc":"iex> get_user(\"123\")\n    %User{}\n\n    iex> get_user(\"456\")\n    nil","ref":"BaladosSyncWeb.Accounts.html#get_user/1-examples"},{"type":"function","title":"BaladosSyncWeb.Accounts.get_user_by_email/1","doc":"Gets a user by email.","ref":"BaladosSyncWeb.Accounts.html#get_user_by_email/1"},{"type":"function","title":"Examples - BaladosSyncWeb.Accounts.get_user_by_email/1","doc":"iex> get_user_by_email(\"user@example.com\")\n    %User{}\n\n    iex> get_user_by_email(\"unknown@example.com\")\n    nil","ref":"BaladosSyncWeb.Accounts.html#get_user_by_email/1-examples"},{"type":"function","title":"BaladosSyncWeb.Accounts.get_user_by_email_and_password/2","doc":"Gets a user by email and password.","ref":"BaladosSyncWeb.Accounts.html#get_user_by_email_and_password/2"},{"type":"function","title":"Examples - BaladosSyncWeb.Accounts.get_user_by_email_and_password/2","doc":"iex> get_user_by_email_and_password(\"user@example.com\", \"correct_password\")\n    {:ok, %User{}}\n\n    iex> get_user_by_email_and_password(\"user@example.com\", \"wrong_password\")\n    {:error, :invalid_credentials}\n\n    iex> get_user_by_email_and_password(\"user@example.com\", \"password_when_locked\")\n    {:error, :locked}","ref":"BaladosSyncWeb.Accounts.html#get_user_by_email_and_password/2-examples"},{"type":"function","title":"BaladosSyncWeb.Accounts.get_user_by_username/1","doc":"Gets a user by username.","ref":"BaladosSyncWeb.Accounts.html#get_user_by_username/1"},{"type":"function","title":"BaladosSyncWeb.Accounts.get_user_by_username_and_password/2","doc":"Gets a user by username and password.","ref":"BaladosSyncWeb.Accounts.html#get_user_by_username_and_password/2"},{"type":"function","title":"Examples - BaladosSyncWeb.Accounts.get_user_by_username_and_password/2","doc":"iex> get_user_by_username_and_password(\"username\", \"correct_password\")\n    {:ok, %User{}}\n\n    iex> get_user_by_username_and_password(\"username\", \"wrong_password\")\n    {:error, :invalid_credentials}","ref":"BaladosSyncWeb.Accounts.html#get_user_by_username_and_password/2-examples"},{"type":"function","title":"BaladosSyncWeb.Accounts.lock_user/1","doc":"Locks a user account.","ref":"BaladosSyncWeb.Accounts.html#lock_user/1"},{"type":"function","title":"BaladosSyncWeb.Accounts.register_admin_user/1","doc":"Registers the first admin user during initial setup.","ref":"BaladosSyncWeb.Accounts.html#register_admin_user/1"},{"type":"function","title":"BaladosSyncWeb.Accounts.register_user/1","doc":"Registers a new user.","ref":"BaladosSyncWeb.Accounts.html#register_user/1"},{"type":"function","title":"Examples - BaladosSyncWeb.Accounts.register_user/1","doc":"iex> register_user(%{email: \"user@example.com\", username: \"user\", password: \"ValidPassword123!\"})\n    {:ok, %User{}}\n\n    iex> register_user(%{email: \"invalid\"})\n    {:error, %Ecto.Changeset{}}","ref":"BaladosSyncWeb.Accounts.html#register_user/1-examples"},{"type":"function","title":"BaladosSyncWeb.Accounts.unlock_user/1","doc":"Unlocks a user account.","ref":"BaladosSyncWeb.Accounts.html#unlock_user/1"},{"type":"module","title":"BaladosSyncWeb.Endpoint","doc":"","ref":"BaladosSyncWeb.Endpoint.html"},{"type":"function","title":"BaladosSyncWeb.Endpoint.broadcast/3","doc":"Callback implementation for  Phoenix.Endpoint.broadcast/3 .","ref":"BaladosSyncWeb.Endpoint.html#broadcast/3"},{"type":"function","title":"BaladosSyncWeb.Endpoint.broadcast!/3","doc":"Callback implementation for  Phoenix.Endpoint.broadcast!/3 .","ref":"BaladosSyncWeb.Endpoint.html#broadcast!/3"},{"type":"function","title":"BaladosSyncWeb.Endpoint.broadcast_from/4","doc":"Callback implementation for  Phoenix.Endpoint.broadcast_from/4 .","ref":"BaladosSyncWeb.Endpoint.html#broadcast_from/4"},{"type":"function","title":"BaladosSyncWeb.Endpoint.broadcast_from!/4","doc":"Callback implementation for  Phoenix.Endpoint.broadcast_from!/4 .","ref":"BaladosSyncWeb.Endpoint.html#broadcast_from!/4"},{"type":"function","title":"BaladosSyncWeb.Endpoint.call/2","doc":"Callback implementation for  Plug.call/2 .","ref":"BaladosSyncWeb.Endpoint.html#call/2"},{"type":"function","title":"BaladosSyncWeb.Endpoint.child_spec/1","doc":"Returns the child specification to start the endpoint\nunder a supervision tree.","ref":"BaladosSyncWeb.Endpoint.html#child_spec/1"},{"type":"function","title":"BaladosSyncWeb.Endpoint.config/2","doc":"Returns the endpoint configuration for `key`\n\nReturns `default` if the key does not exist.","ref":"BaladosSyncWeb.Endpoint.html#config/2"},{"type":"function","title":"BaladosSyncWeb.Endpoint.config_change/2","doc":"Reloads the configuration given the application environment changes.","ref":"BaladosSyncWeb.Endpoint.html#config_change/2"},{"type":"function","title":"BaladosSyncWeb.Endpoint.host/0","doc":"Returns the host for the given endpoint.","ref":"BaladosSyncWeb.Endpoint.html#host/0"},{"type":"function","title":"BaladosSyncWeb.Endpoint.init/1","doc":"Callback implementation for  Plug.init/1 .","ref":"BaladosSyncWeb.Endpoint.html#init/1"},{"type":"function","title":"BaladosSyncWeb.Endpoint.local_broadcast/3","doc":"Callback implementation for  Phoenix.Endpoint.local_broadcast/3 .","ref":"BaladosSyncWeb.Endpoint.html#local_broadcast/3"},{"type":"function","title":"BaladosSyncWeb.Endpoint.local_broadcast_from/4","doc":"Callback implementation for  Phoenix.Endpoint.local_broadcast_from/4 .","ref":"BaladosSyncWeb.Endpoint.html#local_broadcast_from/4"},{"type":"function","title":"BaladosSyncWeb.Endpoint.path/1","doc":"Generates the path information when routing to this endpoint.","ref":"BaladosSyncWeb.Endpoint.html#path/1"},{"type":"function","title":"BaladosSyncWeb.Endpoint.script_name/0","doc":"Generates the script name.","ref":"BaladosSyncWeb.Endpoint.html#script_name/0"},{"type":"function","title":"BaladosSyncWeb.Endpoint.server_info/1","doc":"Returns the address and port that the server is running on","ref":"BaladosSyncWeb.Endpoint.html#server_info/1"},{"type":"function","title":"BaladosSyncWeb.Endpoint.start_link/1","doc":"Starts the endpoint supervision tree.\n\nAll other options are merged into the endpoint configuration.","ref":"BaladosSyncWeb.Endpoint.html#start_link/1"},{"type":"function","title":"BaladosSyncWeb.Endpoint.static_integrity/1","doc":"Generates a base64-encoded cryptographic hash (sha512) to a static file\nin `priv/static`. Meant to be used for Subresource Integrity with CDNs.","ref":"BaladosSyncWeb.Endpoint.html#static_integrity/1"},{"type":"function","title":"BaladosSyncWeb.Endpoint.static_lookup/1","doc":"Returns a two item tuple with the first item being the `static_path`\nand the second item being the `static_integrity`.","ref":"BaladosSyncWeb.Endpoint.html#static_lookup/1"},{"type":"function","title":"BaladosSyncWeb.Endpoint.static_path/1","doc":"Generates a route to a static file in `priv/static`.","ref":"BaladosSyncWeb.Endpoint.html#static_path/1"},{"type":"function","title":"BaladosSyncWeb.Endpoint.static_url/0","doc":"Generates the static URL without any path information.\n\nIt uses the configuration under `:static_url` to generate\nsuch. It falls back to `:url` if `:static_url` is not set.","ref":"BaladosSyncWeb.Endpoint.html#static_url/0"},{"type":"function","title":"BaladosSyncWeb.Endpoint.struct_url/0","doc":"Generates the endpoint base URL but as a `URI` struct.\n\nIt uses the configuration under `:url` to generate such.\nUseful for manipulating the URL data and passing it to\nURL helpers.","ref":"BaladosSyncWeb.Endpoint.html#struct_url/0"},{"type":"function","title":"BaladosSyncWeb.Endpoint.subscribe/2","doc":"Callback implementation for  Phoenix.Endpoint.subscribe/2 .","ref":"BaladosSyncWeb.Endpoint.html#subscribe/2"},{"type":"function","title":"BaladosSyncWeb.Endpoint.unsubscribe/1","doc":"Callback implementation for  Phoenix.Endpoint.unsubscribe/1 .","ref":"BaladosSyncWeb.Endpoint.html#unsubscribe/1"},{"type":"function","title":"BaladosSyncWeb.Endpoint.url/0","doc":"Generates the endpoint base URL without any path information.\n\nIt uses the configuration under `:url` to generate such.","ref":"BaladosSyncWeb.Endpoint.html#url/0"},{"type":"module","title":"BaladosSyncWeb.Queries","doc":"","ref":"BaladosSyncWeb.Queries.html"},{"type":"function","title":"BaladosSyncWeb.Queries.get_user_play_statuses/1","doc":"","ref":"BaladosSyncWeb.Queries.html#get_user_play_statuses/1"},{"type":"function","title":"BaladosSyncWeb.Queries.get_user_playlists/1","doc":"","ref":"BaladosSyncWeb.Queries.html#get_user_playlists/1"},{"type":"function","title":"BaladosSyncWeb.Queries.get_user_subscription/2","doc":"Get subscription details for a user and feed.\nReturns the subscription record or nil if not subscribed.","ref":"BaladosSyncWeb.Queries.html#get_user_subscription/2"},{"type":"function","title":"BaladosSyncWeb.Queries.get_user_subscriptions/1","doc":"","ref":"BaladosSyncWeb.Queries.html#get_user_subscriptions/1"},{"type":"function","title":"BaladosSyncWeb.Queries.is_user_subscribed?/2","doc":"Check if a user is subscribed to a specific feed.\nReturns true if subscribed, false otherwise.","ref":"BaladosSyncWeb.Queries.html#is_user_subscribed?/2"},{"type":"module","title":"BaladosSyncWeb.Router","doc":"","ref":"BaladosSyncWeb.Router.html"},{"type":"function","title":"BaladosSyncWeb.Router.api/2","doc":"","ref":"BaladosSyncWeb.Router.html#api/2"},{"type":"function","title":"BaladosSyncWeb.Router.api_json/2","doc":"","ref":"BaladosSyncWeb.Router.html#api_json/2"},{"type":"function","title":"BaladosSyncWeb.Router.browser/2","doc":"","ref":"BaladosSyncWeb.Router.html#browser/2"},{"type":"function","title":"BaladosSyncWeb.Router.call/2","doc":"Callback invoked by Plug on every request.","ref":"BaladosSyncWeb.Router.html#call/2"},{"type":"function","title":"BaladosSyncWeb.Router.init/1","doc":"Callback required by Plug that initializes the router\nfor serving web requests.","ref":"BaladosSyncWeb.Router.html#init/1"},{"type":"function","title":"BaladosSyncWeb.Router.play_gateway/2","doc":"","ref":"BaladosSyncWeb.Router.html#play_gateway/2"},{"type":"function","title":"BaladosSyncWeb.Router.public_api/2","doc":"","ref":"BaladosSyncWeb.Router.html#public_api/2"},{"type":"function","title":"BaladosSyncWeb.Router.redirect_if_user_is_authenticated/2","doc":"","ref":"BaladosSyncWeb.Router.html#redirect_if_user_is_authenticated/2"},{"type":"function","title":"BaladosSyncWeb.Router.require_authenticated_user/2","doc":"","ref":"BaladosSyncWeb.Router.html#require_authenticated_user/2"},{"type":"function","title":"BaladosSyncWeb.Router.rss_api/2","doc":"","ref":"BaladosSyncWeb.Router.html#rss_api/2"},{"type":"function","title":"BaladosSyncWeb.Router.rss_xml/2","doc":"","ref":"BaladosSyncWeb.Router.html#rss_xml/2"},{"type":"module","title":"BaladosSyncWeb.RssCache","doc":"Module de cache LRU pour les flux RSS avec TTL de 5 minutes","ref":"BaladosSyncWeb.RssCache.html"},{"type":"function","title":"BaladosSyncWeb.RssCache.fetch_and_parse_feed/1","doc":"Fetch et parse un flux RSS, retournant à la fois le XML brut et les métadonnées parsées.\n\nUtilise le cache à deux niveaux: XML et métadonnées parsées.","ref":"BaladosSyncWeb.RssCache.html#fetch_and_parse_feed/1"},{"type":"function","title":"BaladosSyncWeb.RssCache.fetch_feed/1","doc":"Récupère un flux RSS, depuis le cache ou en le fetchant","ref":"BaladosSyncWeb.RssCache.html#fetch_feed/1"},{"type":"function","title":"BaladosSyncWeb.RssCache.get/1","doc":"Récupère depuis le cache","ref":"BaladosSyncWeb.RssCache.html#get/1"},{"type":"function","title":"BaladosSyncWeb.RssCache.get_feed_metadata/1","doc":"Récupère les métadonnées parsées d'un flux RSS depuis le cache ou en fetchant.\n\nLes métadonnées sont cachées séparément du XML brut pour un accès rapide.","ref":"BaladosSyncWeb.RssCache.html#get_feed_metadata/1"},{"type":"function","title":"BaladosSyncWeb.RssCache.put/2","doc":"Met en cache avec TTL","ref":"BaladosSyncWeb.RssCache.html#put/2"},{"type":"module","title":"BaladosSyncCore.Aggregates.User","doc":"User aggregate for the CQRS/Event Sourcing system.\n\nThis aggregate is the core of the Balados Sync domain model. It encapsulates all\nbusiness logic for managing user subscriptions, play statuses, playlists, and privacy\nsettings. The aggregate follows the CQRS/ES pattern with two key functions:","ref":"BaladosSyncCore.Aggregates.User.html"},{"type":"module","title":"CQRS/ES Pattern - BaladosSyncCore.Aggregates.User","doc":"- `execute/2` - Validates commands and returns events (command → event)\n- `apply/2` - Updates aggregate state based on events (event → state)","ref":"BaladosSyncCore.Aggregates.User.html#module-cqrs-es-pattern"},{"type":"module","title":"State Management - BaladosSyncCore.Aggregates.User","doc":"The aggregate state is rebuilt by replaying all events for a user from the event store.\nState is never persisted directly - it's always derived from the event stream.","ref":"BaladosSyncCore.Aggregates.User.html#module-state-management"},{"type":"module","title":"Aggregate State Structure - BaladosSyncCore.Aggregates.User","doc":"- `user_id` - Unique identifier for the user\n- `privacy` - Privacy level: `:public`, `:anonymous`, or `:private`\n- `subscriptions` - Map of `%{feed => %{subscribed_at, unsubscribed_at, rss_source_id}}`\n- `play_statuses` - Map of `%{item => %{position, played, updated_at, rss_source_feed}}`\n- `playlists` - Map of `%{playlist_id => %{name, description, items, is_public}}`","ref":"BaladosSyncCore.Aggregates.User.html#module-aggregate-state-structure"},{"type":"module","title":"Command Flow - BaladosSyncCore.Aggregates.User","doc":"1. Command arrives via Dispatcher (e.g., `Subscribe`)\n2. Dispatcher loads aggregate by rebuilding state from events\n3. `execute/2` validates command and returns event(s)\n4. EventStore persists events immutably\n5. `apply/2` updates aggregate state (for in-memory state)\n6. Projectors listen to events and update read models","ref":"BaladosSyncCore.Aggregates.User.html#module-command-flow"},{"type":"module","title":"Event Sourcing Benefits - BaladosSyncCore.Aggregates.User","doc":"- Complete audit trail of all user actions\n- Time travel: rebuild state at any point in history\n- Event replay for bug fixes or new projections\n- Natural support for sync conflicts (timestamp-based resolution)","ref":"BaladosSyncCore.Aggregates.User.html#module-event-sourcing-benefits"},{"type":"module","title":"Aggregate Lifecycle - BaladosSyncCore.Aggregates.User","doc":"The aggregate is stateless between command dispatches. Each command:\n1. Loads current state by replaying events\n2. Executes command logic\n3. Returns events to be persisted\n4. State updates happen via `apply/2` during replay","ref":"BaladosSyncCore.Aggregates.User.html#module-aggregate-lifecycle"},{"type":"module","title":"Examples - BaladosSyncCore.Aggregates.User","doc":"# Dispatch a command (through Dispatcher)\n    Dispatcher.dispatch(%Subscribe{\n      user_id: \"user-123\",\n      rss_source_feed: \"base64-feed\",\n      rss_source_id: \"podcast-id\"\n    })\n\n    # This internally:\n    # 1. Loads User aggregate for \"user-123\"\n    # 2. Calls execute(%User{}, %Subscribe{})\n    # 3. Returns %UserSubscribed{} event\n    # 4. Persists event to EventStore\n    # 5. Calls apply(%User{}, %UserSubscribed{})\n    # 6. Projectors update read models","ref":"BaladosSyncCore.Aggregates.User.html#module-examples"},{"type":"function","title":"BaladosSyncCore.Aggregates.User.apply/2","doc":"","ref":"BaladosSyncCore.Aggregates.User.html#apply/2"},{"type":"function","title":"BaladosSyncCore.Aggregates.User.execute/2","doc":"","ref":"BaladosSyncCore.Aggregates.User.html#execute/2"},{"type":"module","title":"BaladosSyncCore.Commands.ChangePrivacy","doc":"","ref":"BaladosSyncCore.Commands.ChangePrivacy.html"},{"type":"module","title":"BaladosSyncCore.Commands.RecordPlay","doc":"Command to record a play event for an episode.\n\nThis command records both the playback position and the played (completed) status\nfor an episode. It's typically dispatched when the user plays an episode or marks\nit as completed. Results in a `PlayRecorded` event.","ref":"BaladosSyncCore.Commands.RecordPlay.html"},{"type":"module","title":"Fields - BaladosSyncCore.Commands.RecordPlay","doc":"- `user_id` - Unique identifier for the user\n- `rss_source_feed` - Base64-encoded RSS feed URL\n- `rss_source_item` - Base64-encoded episode identifier (format: \"guid,enclosure_url\")\n- `position` - Current playback position in seconds (integer)\n- `played` - Whether the episode has been completed (boolean)\n- `event_infos` - Map containing device_id and device_name for audit trail","ref":"BaladosSyncCore.Commands.RecordPlay.html#module-fields"},{"type":"module","title":"Example - BaladosSyncCore.Commands.RecordPlay","doc":"%RecordPlay{\n      user_id: \"user-123\",\n      rss_source_feed: \"aHR0cHM6Ly9mZWVkcy5leGFtcGxlLmNvbS9wb2RjYXN0\",\n      rss_source_item: \"Z3VpZC0xMjMsaHR0cHM6Ly9leGFtcGxlLmNvbS9lcGlzb2RlLm1wMw==\",\n      position: 1234,\n      played: false,\n      event_infos: %{device_id: \"device-456\", device_name: \"iPhone\"}\n    }","ref":"BaladosSyncCore.Commands.RecordPlay.html#module-example"},{"type":"type","title":"BaladosSyncCore.Commands.RecordPlay.t/0","doc":"","ref":"BaladosSyncCore.Commands.RecordPlay.html#t:t/0"},{"type":"module","title":"BaladosSyncCore.Commands.RemoveEvents","doc":"","ref":"BaladosSyncCore.Commands.RemoveEvents.html"},{"type":"module","title":"BaladosSyncCore.Commands.SaveEpisode","doc":"Command to save an episode to a playlist.\n\nThis command is dispatched when a user wants to save an episode to a playlist.\nIf the playlist doesn't exist, it will be created implicitly with the provided name.\nIt results in an `EpisodeSaved` event being persisted to the event store.","ref":"BaladosSyncCore.Commands.SaveEpisode.html"},{"type":"module","title":"Fields - BaladosSyncCore.Commands.SaveEpisode","doc":"- `user_id` - Unique identifier for the user\n- `playlist_name` - Name of the playlist (slug generated from this: \"My Favorites\" -> \"my-favorites\")\n- `rss_source_feed` - Base64-encoded RSS feed URL\n- `rss_source_item` - Unique identifier for the episode\n- `item_title` - Title of the episode\n- `feed_title` - Title of the podcast feed\n- `event_infos` - Map containing device_id and device_name for audit trail","ref":"BaladosSyncCore.Commands.SaveEpisode.html#module-fields"},{"type":"module","title":"Example - BaladosSyncCore.Commands.SaveEpisode","doc":"%SaveEpisode{\n      user_id: \"user-123\",\n      playlist_name: \"My Favorite Episodes\",\n      rss_source_feed: \"aHR0cHM6Ly9mZWVkcy5leGFtcGxlLmNvbS9wb2RjYXN0\",\n      rss_source_item: \"episode-789\",\n      item_title: \"Episode 42: The Answer\",\n      feed_title: \"My Podcast\",\n      event_infos: %{device_id: \"device-000\", device_name: \"iPhone\"}\n    }","ref":"BaladosSyncCore.Commands.SaveEpisode.html#module-example"},{"type":"type","title":"BaladosSyncCore.Commands.SaveEpisode.t/0","doc":"","ref":"BaladosSyncCore.Commands.SaveEpisode.html#t:t/0"},{"type":"module","title":"BaladosSyncCore.Commands.ShareEpisode","doc":"","ref":"BaladosSyncCore.Commands.ShareEpisode.html"},{"type":"module","title":"BaladosSyncCore.Commands.Snapshot","doc":"","ref":"BaladosSyncCore.Commands.Snapshot.html"},{"type":"module","title":"BaladosSyncCore.Commands.Subscribe","doc":"Command to subscribe a user to a podcast feed.\n\nThis command is dispatched when a user wants to add a podcast to their subscriptions.\nIt results in a `UserSubscribed` event being persisted to the event store.","ref":"BaladosSyncCore.Commands.Subscribe.html"},{"type":"module","title":"Fields - BaladosSyncCore.Commands.Subscribe","doc":"- `user_id` - Unique identifier for the user\n- `rss_source_feed` - Base64-encoded RSS feed URL\n- `rss_source_id` - Unique identifier for the podcast (from feed metadata)\n- `subscribed_at` - DateTime when subscription occurred (defaults to now if not provided)\n- `event_infos` - Map containing device_id and device_name for audit trail","ref":"BaladosSyncCore.Commands.Subscribe.html#module-fields"},{"type":"module","title":"Example - BaladosSyncCore.Commands.Subscribe","doc":"%Subscribe{\n      user_id: \"user-123\",\n      rss_source_feed: \"aHR0cHM6Ly9mZWVkcy5leGFtcGxlLmNvbS9wb2RjYXN0\",\n      rss_source_id: \"podcast-abc\",\n      subscribed_at: ~U[2024-01-15 10:30:00Z],\n      event_infos: %{device_id: \"device-456\", device_name: \"iPhone\"}\n    }","ref":"BaladosSyncCore.Commands.Subscribe.html#module-example"},{"type":"type","title":"BaladosSyncCore.Commands.Subscribe.t/0","doc":"","ref":"BaladosSyncCore.Commands.Subscribe.html#t:t/0"},{"type":"module","title":"BaladosSyncCore.Commands.SyncUserData","doc":"","ref":"BaladosSyncCore.Commands.SyncUserData.html"},{"type":"module","title":"BaladosSyncCore.Commands.Unsubscribe","doc":"Command to unsubscribe a user from a podcast feed.\n\nThis command is dispatched when a user wants to remove a podcast from their subscriptions.\nIt results in a `UserUnsubscribed` event being persisted to the event store.\n\nNote: The subscription is not deleted, only marked as unsubscribed. This preserves\nthe subscription history in the event stream.","ref":"BaladosSyncCore.Commands.Unsubscribe.html"},{"type":"module","title":"Fields - BaladosSyncCore.Commands.Unsubscribe","doc":"- `user_id` - Unique identifier for the user\n- `rss_source_feed` - Base64-encoded RSS feed URL\n- `rss_source_id` - Unique identifier for the podcast (optional, looked up if not provided)\n- `unsubscribed_at` - DateTime when unsubscription occurred (defaults to now if not provided)\n- `event_infos` - Map containing device_id and device_name for audit trail","ref":"BaladosSyncCore.Commands.Unsubscribe.html#module-fields"},{"type":"module","title":"Example - BaladosSyncCore.Commands.Unsubscribe","doc":"%Unsubscribe{\n      user_id: \"user-123\",\n      rss_source_feed: \"aHR0cHM6Ly9mZWVkcy5leGFtcGxlLmNvbS9wb2RjYXN0\",\n      rss_source_id: \"podcast-abc\",\n      unsubscribed_at: ~U[2024-01-20 14:00:00Z],\n      event_infos: %{device_id: \"device-456\", device_name: \"iPhone\"}\n    }","ref":"BaladosSyncCore.Commands.Unsubscribe.html#module-example"},{"type":"type","title":"BaladosSyncCore.Commands.Unsubscribe.t/0","doc":"","ref":"BaladosSyncCore.Commands.Unsubscribe.html#t:t/0"},{"type":"module","title":"BaladosSyncCore.Commands.UpdatePosition","doc":"Command to update only the playback position for an episode.\n\nThis command updates the playback position without changing the played status.\nIt's useful for periodic position saves during playback. Results in a\n`PositionUpdated` event.","ref":"BaladosSyncCore.Commands.UpdatePosition.html"},{"type":"module","title":"Fields - BaladosSyncCore.Commands.UpdatePosition","doc":"- `user_id` - Unique identifier for the user\n- `rss_source_feed` - Base64-encoded RSS feed URL (optional, looked up if not provided)\n- `rss_source_item` - Base64-encoded episode identifier (format: \"guid,enclosure_url\")\n- `position` - Current playback position in seconds (integer)\n- `event_infos` - Map containing device_id and device_name for audit trail","ref":"BaladosSyncCore.Commands.UpdatePosition.html#module-fields"},{"type":"module","title":"Example - BaladosSyncCore.Commands.UpdatePosition","doc":"%UpdatePosition{\n      user_id: \"user-123\",\n      rss_source_feed: \"aHR0cHM6Ly9mZWVkcy5leGFtcGxlLmNvbS9wb2RjYXN0\",\n      rss_source_item: \"Z3VpZC0xMjMsaHR0cHM6Ly9leGFtcGxlLmNvbS9lcGlzb2RlLm1wMw==\",\n      position: 1567,\n      event_infos: %{device_id: \"device-456\", device_name: \"iPhone\"}\n    }","ref":"BaladosSyncCore.Commands.UpdatePosition.html#module-example"},{"type":"type","title":"BaladosSyncCore.Commands.UpdatePosition.t/0","doc":"","ref":"BaladosSyncCore.Commands.UpdatePosition.html#t:t/0"},{"type":"module","title":"BaladosSyncCore.Events.EpisodeSaved","doc":"","ref":"BaladosSyncCore.Events.EpisodeSaved.html"},{"type":"module","title":"BaladosSyncCore.Events.EpisodeShared","doc":"","ref":"BaladosSyncCore.Events.EpisodeShared.html"},{"type":"module","title":"BaladosSyncCore.Events.EventsRemoved","doc":"","ref":"BaladosSyncCore.Events.EventsRemoved.html"},{"type":"module","title":"BaladosSyncCore.Events.PlayRecorded","doc":"","ref":"BaladosSyncCore.Events.PlayRecorded.html"},{"type":"module","title":"BaladosSyncCore.Events.PopularityRecalculated","doc":"","ref":"BaladosSyncCore.Events.PopularityRecalculated.html"},{"type":"module","title":"BaladosSyncCore.Events.PositionUpdated","doc":"","ref":"BaladosSyncCore.Events.PositionUpdated.html"},{"type":"module","title":"BaladosSyncCore.Events.PrivacyChanged","doc":"","ref":"BaladosSyncCore.Events.PrivacyChanged.html"},{"type":"module","title":"BaladosSyncCore.Events.UserCheckpoint","doc":"","ref":"BaladosSyncCore.Events.UserCheckpoint.html"},{"type":"module","title":"BaladosSyncCore.Events.UserSubscribed","doc":"","ref":"BaladosSyncCore.Events.UserSubscribed.html"},{"type":"module","title":"BaladosSyncCore.Events.UserUnsubscribed","doc":"","ref":"BaladosSyncCore.Events.UserUnsubscribed.html"},{"type":"module","title":"BaladosSyncCore.Dispatcher","doc":"Main Commanded application for dispatching commands.\n\nThe event store adapter is configured via application config:\n- Dev/Prod: Uses PostgreSQL EventStore adapter\n- Test: Uses In-Memory adapter for isolation","ref":"BaladosSyncCore.Dispatcher.html"},{"type":"function","title":"BaladosSyncCore.Dispatcher.aggregate_state/3","doc":"Retrieve aggregate state of an aggregate.\n\nRetrieving aggregate state is done by calling to the opened aggregate,\nor querying the event store for an optional state snapshot\nand then replaying the aggregate's event stream.","ref":"BaladosSyncCore.Dispatcher.html#aggregate_state/3"},{"type":"function","title":"BaladosSyncCore.Dispatcher.child_spec/1","doc":"","ref":"BaladosSyncCore.Dispatcher.html#child_spec/1"},{"type":"function","title":"BaladosSyncCore.Dispatcher.config/0","doc":"Callback implementation for  Commanded.Application.config/0 .","ref":"BaladosSyncCore.Dispatcher.html#config/0"},{"type":"function","title":"BaladosSyncCore.Dispatcher.dispatch/2","doc":"Dispatch a registered command.","ref":"BaladosSyncCore.Dispatcher.html#dispatch/2"},{"type":"function","title":"BaladosSyncCore.Dispatcher.start_link/1","doc":"Callback implementation for  Commanded.Application.start_link/1 .","ref":"BaladosSyncCore.Dispatcher.html#start_link/1"},{"type":"function","title":"BaladosSyncCore.Dispatcher.stop/2","doc":"Callback implementation for  Commanded.Application.stop/2 .","ref":"BaladosSyncCore.Dispatcher.html#stop/2"},{"type":"module","title":"BaladosSyncCore.Dispatcher.Router","doc":"","ref":"BaladosSyncCore.Dispatcher.Router.html"},{"type":"module","title":"BaladosSyncCore.EventStore","doc":"","ref":"BaladosSyncCore.EventStore.html"},{"type":"function","title":"BaladosSyncCore.EventStore.ack/2","doc":"Callback implementation for  EventStore.ack/2 .","ref":"BaladosSyncCore.EventStore.html#ack/2"},{"type":"function","title":"BaladosSyncCore.EventStore.append_to_stream/4","doc":"Callback implementation for  EventStore.append_to_stream/4 .","ref":"BaladosSyncCore.EventStore.html#append_to_stream/4"},{"type":"function","title":"BaladosSyncCore.EventStore.child_spec/1","doc":"","ref":"BaladosSyncCore.EventStore.html#child_spec/1"},{"type":"function","title":"BaladosSyncCore.EventStore.config/1","doc":"","ref":"BaladosSyncCore.EventStore.html#config/1"},{"type":"function","title":"BaladosSyncCore.EventStore.delete_all_streams_subscription/2","doc":"Callback implementation for  EventStore.delete_all_streams_subscription/2 .","ref":"BaladosSyncCore.EventStore.html#delete_all_streams_subscription/2"},{"type":"function","title":"BaladosSyncCore.EventStore.delete_snapshot/2","doc":"Callback implementation for  EventStore.delete_snapshot/2 .","ref":"BaladosSyncCore.EventStore.html#delete_snapshot/2"},{"type":"function","title":"BaladosSyncCore.EventStore.delete_stream/4","doc":"Callback implementation for  EventStore.delete_stream/4 .","ref":"BaladosSyncCore.EventStore.html#delete_stream/4"},{"type":"function","title":"BaladosSyncCore.EventStore.delete_subscription/3","doc":"Callback implementation for  EventStore.delete_subscription/3 .","ref":"BaladosSyncCore.EventStore.html#delete_subscription/3"},{"type":"function","title":"BaladosSyncCore.EventStore.init/1","doc":"Callback implementation for  EventStore.init/1 .","ref":"BaladosSyncCore.EventStore.html#init/1"},{"type":"function","title":"BaladosSyncCore.EventStore.link_to_stream/4","doc":"Callback implementation for  EventStore.link_to_stream/4 .","ref":"BaladosSyncCore.EventStore.html#link_to_stream/4"},{"type":"function","title":"BaladosSyncCore.EventStore.paginate_streams/1","doc":"Callback implementation for  EventStore.paginate_streams/1 .","ref":"BaladosSyncCore.EventStore.html#paginate_streams/1"},{"type":"function","title":"BaladosSyncCore.EventStore.read_all_streams_backward/3","doc":"Callback implementation for  EventStore.read_all_streams_backward/3 .","ref":"BaladosSyncCore.EventStore.html#read_all_streams_backward/3"},{"type":"function","title":"BaladosSyncCore.EventStore.read_all_streams_forward/3","doc":"Callback implementation for  EventStore.read_all_streams_forward/3 .","ref":"BaladosSyncCore.EventStore.html#read_all_streams_forward/3"},{"type":"function","title":"BaladosSyncCore.EventStore.read_snapshot/2","doc":"Callback implementation for  EventStore.read_snapshot/2 .","ref":"BaladosSyncCore.EventStore.html#read_snapshot/2"},{"type":"function","title":"BaladosSyncCore.EventStore.read_stream_backward/4","doc":"Callback implementation for  EventStore.read_stream_backward/4 .","ref":"BaladosSyncCore.EventStore.html#read_stream_backward/4"},{"type":"function","title":"BaladosSyncCore.EventStore.read_stream_forward/4","doc":"Callback implementation for  EventStore.read_stream_forward/4 .","ref":"BaladosSyncCore.EventStore.html#read_stream_forward/4"},{"type":"function","title":"BaladosSyncCore.EventStore.record_snapshot/2","doc":"Callback implementation for  EventStore.record_snapshot/2 .","ref":"BaladosSyncCore.EventStore.html#record_snapshot/2"},{"type":"function","title":"BaladosSyncCore.EventStore.start_link/1","doc":"Callback implementation for  EventStore.start_link/1 .","ref":"BaladosSyncCore.EventStore.html#start_link/1"},{"type":"function","title":"BaladosSyncCore.EventStore.stop/2","doc":"Callback implementation for  EventStore.stop/2 .","ref":"BaladosSyncCore.EventStore.html#stop/2"},{"type":"function","title":"BaladosSyncCore.EventStore.stream_all_backward/2","doc":"Callback implementation for  EventStore.stream_all_backward/2 .","ref":"BaladosSyncCore.EventStore.html#stream_all_backward/2"},{"type":"function","title":"BaladosSyncCore.EventStore.stream_all_forward/2","doc":"Callback implementation for  EventStore.stream_all_forward/2 .","ref":"BaladosSyncCore.EventStore.html#stream_all_forward/2"},{"type":"function","title":"BaladosSyncCore.EventStore.stream_backward/3","doc":"Callback implementation for  EventStore.stream_backward/3 .","ref":"BaladosSyncCore.EventStore.html#stream_backward/3"},{"type":"function","title":"BaladosSyncCore.EventStore.stream_forward/3","doc":"Callback implementation for  EventStore.stream_forward/3 .","ref":"BaladosSyncCore.EventStore.html#stream_forward/3"},{"type":"function","title":"BaladosSyncCore.EventStore.stream_info/2","doc":"Callback implementation for  EventStore.stream_info/2 .","ref":"BaladosSyncCore.EventStore.html#stream_info/2"},{"type":"function","title":"BaladosSyncCore.EventStore.subscribe/2","doc":"Callback implementation for  EventStore.subscribe/2 .","ref":"BaladosSyncCore.EventStore.html#subscribe/2"},{"type":"function","title":"BaladosSyncCore.EventStore.subscribe_to_all_streams/3","doc":"Callback implementation for  EventStore.subscribe_to_all_streams/3 .","ref":"BaladosSyncCore.EventStore.html#subscribe_to_all_streams/3"},{"type":"function","title":"BaladosSyncCore.EventStore.subscribe_to_stream/4","doc":"Callback implementation for  EventStore.subscribe_to_stream/4 .","ref":"BaladosSyncCore.EventStore.html#subscribe_to_stream/4"},{"type":"function","title":"BaladosSyncCore.EventStore.unsubscribe_from_all_streams/2","doc":"Callback implementation for  EventStore.unsubscribe_from_all_streams/2 .","ref":"BaladosSyncCore.EventStore.html#unsubscribe_from_all_streams/2"},{"type":"function","title":"BaladosSyncCore.EventStore.unsubscribe_from_stream/3","doc":"Callback implementation for  EventStore.unsubscribe_from_stream/3 .","ref":"BaladosSyncCore.EventStore.html#unsubscribe_from_stream/3"},{"type":"module","title":"BaladosSyncProjections.Schemas.EpisodePopularity","doc":"","ref":"BaladosSyncProjections.Schemas.EpisodePopularity.html"},{"type":"function","title":"BaladosSyncProjections.Schemas.EpisodePopularity.changeset/2","doc":"","ref":"BaladosSyncProjections.Schemas.EpisodePopularity.html#changeset/2"},{"type":"module","title":"BaladosSyncProjections.Schemas.PlayStatus","doc":"","ref":"BaladosSyncProjections.Schemas.PlayStatus.html"},{"type":"function","title":"BaladosSyncProjections.Schemas.PlayStatus.changeset/2","doc":"","ref":"BaladosSyncProjections.Schemas.PlayStatus.html#changeset/2"},{"type":"module","title":"BaladosSyncProjections.Schemas.Playlist","doc":"","ref":"BaladosSyncProjections.Schemas.Playlist.html"},{"type":"function","title":"BaladosSyncProjections.Schemas.Playlist.changeset/2","doc":"","ref":"BaladosSyncProjections.Schemas.Playlist.html#changeset/2"},{"type":"module","title":"BaladosSyncProjections.Schemas.PlaylistItem","doc":"","ref":"BaladosSyncProjections.Schemas.PlaylistItem.html"},{"type":"function","title":"BaladosSyncProjections.Schemas.PlaylistItem.changeset/2","doc":"","ref":"BaladosSyncProjections.Schemas.PlaylistItem.html#changeset/2"},{"type":"module","title":"BaladosSyncProjections.Schemas.PodcastPopularity","doc":"","ref":"BaladosSyncProjections.Schemas.PodcastPopularity.html"},{"type":"function","title":"BaladosSyncProjections.Schemas.PodcastPopularity.changeset/2","doc":"","ref":"BaladosSyncProjections.Schemas.PodcastPopularity.html#changeset/2"},{"type":"module","title":"BaladosSyncProjections.Schemas.PublicEvent","doc":"","ref":"BaladosSyncProjections.Schemas.PublicEvent.html"},{"type":"function","title":"BaladosSyncProjections.Schemas.PublicEvent.changeset/2","doc":"","ref":"BaladosSyncProjections.Schemas.PublicEvent.html#changeset/2"},{"type":"module","title":"BaladosSyncProjections.Schemas.Subscription","doc":"","ref":"BaladosSyncProjections.Schemas.Subscription.html"},{"type":"function","title":"BaladosSyncProjections.Schemas.Subscription.changeset/2","doc":"","ref":"BaladosSyncProjections.Schemas.Subscription.html#changeset/2"},{"type":"module","title":"BaladosSyncProjections.Schemas.User","doc":"User schema with Argon2id password hashing.\n\nPasswords are hashed with Argon2id (OWASP 2025 recommended) which provides\nmemory-hard protection against GPU-based attacks.","ref":"BaladosSyncProjections.Schemas.User.html"},{"type":"function","title":"BaladosSyncProjections.Schemas.User.avatar_changeset/2","doc":"A user changeset for updating the avatar URL.","ref":"BaladosSyncProjections.Schemas.User.html#avatar_changeset/2"},{"type":"function","title":"BaladosSyncProjections.Schemas.User.confirm_changeset/1","doc":"Confirms the account by setting `confirmed_at`.","ref":"BaladosSyncProjections.Schemas.User.html#confirm_changeset/1"},{"type":"function","title":"BaladosSyncProjections.Schemas.User.email_changeset/3","doc":"A user changeset for changing the email.\n\nIt requires the email to change otherwise an error is added.","ref":"BaladosSyncProjections.Schemas.User.html#email_changeset/3"},{"type":"function","title":"BaladosSyncProjections.Schemas.User.increment_failed_attempts_changeset/1","doc":"Increments failed login attempts.","ref":"BaladosSyncProjections.Schemas.User.html#increment_failed_attempts_changeset/1"},{"type":"function","title":"BaladosSyncProjections.Schemas.User.lock_changeset/1","doc":"Locks the account by setting `locked_at`.","ref":"BaladosSyncProjections.Schemas.User.html#lock_changeset/1"},{"type":"function","title":"BaladosSyncProjections.Schemas.User.make_admin_changeset/1","doc":"Makes a user an admin.","ref":"BaladosSyncProjections.Schemas.User.html#make_admin_changeset/1"},{"type":"function","title":"BaladosSyncProjections.Schemas.User.password_changeset/3","doc":"A user changeset for changing the password.","ref":"BaladosSyncProjections.Schemas.User.html#password_changeset/3"},{"type":"function","title":"Options - BaladosSyncProjections.Schemas.User.password_changeset/3","doc":"* `:hash_password` - Hashes the password so it can be stored securely\n    in the database and ensures the password field is cleared to prevent\n    leaks in the logs. If password hashing is not needed and clearing the\n    password field is not desired (like when using this changeset for\n    validations on a LiveView form), this option can be set to `false`.\n    Defaults to `true`.","ref":"BaladosSyncProjections.Schemas.User.html#password_changeset/3-options"},{"type":"function","title":"BaladosSyncProjections.Schemas.User.profile_changeset/2","doc":"A user changeset for updating profile settings.\n\nAllows updating public_name, bio, and public_profile_enabled.\nAvatar URL is handled separately via avatar upload.","ref":"BaladosSyncProjections.Schemas.User.html#profile_changeset/2"},{"type":"function","title":"BaladosSyncProjections.Schemas.User.registration_changeset/3","doc":"A user changeset for registration.\n\nIt is important to validate the length of both email and password.\nOtherwise databases may truncate the email without warnings, which\ncould lead to unpredictable or insecure behaviour. Long passwords may\nalso be very expensive to hash for certain algorithms.","ref":"BaladosSyncProjections.Schemas.User.html#registration_changeset/3"},{"type":"function","title":"Security considerations - BaladosSyncProjections.Schemas.User.registration_changeset/3","doc":"- Password must be at least 12 characters\n- Password is hashed using Argon2id (OWASP 2025 recommended)\n- Email is downcased and trimmed\n- Username is trimmed and validated for format","ref":"BaladosSyncProjections.Schemas.User.html#registration_changeset/3-security-considerations"},{"type":"function","title":"BaladosSyncProjections.Schemas.User.reset_failed_attempts_changeset/1","doc":"Resets failed login attempts after successful login.","ref":"BaladosSyncProjections.Schemas.User.html#reset_failed_attempts_changeset/1"},{"type":"function","title":"BaladosSyncProjections.Schemas.User.unlock_changeset/1","doc":"Unlocks the account by clearing `locked_at`.","ref":"BaladosSyncProjections.Schemas.User.html#unlock_changeset/1"},{"type":"function","title":"BaladosSyncProjections.Schemas.User.valid_password?/2","doc":"Verifies the password.\n\nIf there is no user or the user doesn't have a password, we call\n`Argon2.no_user_verify/0` to avoid timing attacks.","ref":"BaladosSyncProjections.Schemas.User.html#valid_password?/2"},{"type":"function","title":"BaladosSyncProjections.Schemas.User.validate_current_password/2","doc":"Validates the current password otherwise adds an error to the changeset.","ref":"BaladosSyncProjections.Schemas.User.html#validate_current_password/2"},{"type":"module","title":"BaladosSyncProjections.Schemas.UserPrivacy","doc":"","ref":"BaladosSyncProjections.Schemas.UserPrivacy.html"},{"type":"function","title":"BaladosSyncProjections.Schemas.UserPrivacy.changeset/2","doc":"","ref":"BaladosSyncProjections.Schemas.UserPrivacy.html#changeset/2"},{"type":"module","title":"BaladosSyncProjections.Projectors.PlayStatusesProjector","doc":"","ref":"BaladosSyncProjections.Projectors.PlayStatusesProjector.html"},{"type":"function","title":"BaladosSyncProjections.Projectors.PlayStatusesProjector.child_spec/1","doc":"Provides a child specification to allow the event handler to be easily\nsupervised.\n\nSupports the same options as `start_link/3`.\n\nThe default options supported by `GenServer.start_link/3` are also\nsupported, including the `:hibernate_after` option which allows the\nprocess to go into hibernation after a period of inactivity.","ref":"BaladosSyncProjections.Projectors.PlayStatusesProjector.html#child_spec/1"},{"type":"function","title":"Example - BaladosSyncProjections.Projectors.PlayStatusesProjector.child_spec/1","doc":"Supervisor.start_link([\n      {ExampleHandler, []}\n    ], strategy: :one_for_one)","ref":"BaladosSyncProjections.Projectors.PlayStatusesProjector.html#child_spec/1-example"},{"type":"function","title":"BaladosSyncProjections.Projectors.PlayStatusesProjector.schema_prefix/1","doc":"Callback implementation for  Commanded.Projections.Ecto.schema_prefix/1 .","ref":"BaladosSyncProjections.Projectors.PlayStatusesProjector.html#schema_prefix/1"},{"type":"function","title":"BaladosSyncProjections.Projectors.PlayStatusesProjector.schema_prefix/2","doc":"Callback implementation for  Commanded.Projections.Ecto.schema_prefix/2 .","ref":"BaladosSyncProjections.Projectors.PlayStatusesProjector.html#schema_prefix/2"},{"type":"function","title":"BaladosSyncProjections.Projectors.PlayStatusesProjector.start_link/1","doc":"Start an event handler `GenServer` process linked to the current process.","ref":"BaladosSyncProjections.Projectors.PlayStatusesProjector.html#start_link/1"},{"type":"function","title":"Options - BaladosSyncProjections.Projectors.PlayStatusesProjector.start_link/1","doc":"- `:application` - the Commanded application.\n\n  - `:name` - name of the event handler used to determine its unique event\n    store subscription.\n\n  - `:concurrency` - determines how many processes are started to\n    concurrently process events. The default is one process.\n\n  - `:consistency` - one of either `:eventual` (default) or `:strong`.\n\n  - `:start_from` - where to start the event store subscription from when\n    first created (default: `:origin`).\n\n  - :subscribe_to - which stream to subscribe to can be either `:all` to\n    subscribe to all events or a named stream (default: `:all`).\n\n  - :batch_size - the size of batches to deliver to `handle_batch` in batched\n    mode.\n\nThe default options supported by `GenServer.start_link/3` are supported,\nincluding the `:hibernate_after` option which allows the process to go\ninto hibernation after a period of inactivity.","ref":"BaladosSyncProjections.Projectors.PlayStatusesProjector.html#start_link/1-options"},{"type":"function","title":"BaladosSyncProjections.Projectors.PlayStatusesProjector.update_projection/3","doc":"","ref":"BaladosSyncProjections.Projectors.PlayStatusesProjector.html#update_projection/3"},{"type":"module","title":"BaladosSyncProjections.Projectors.PopularityProjector","doc":"","ref":"BaladosSyncProjections.Projectors.PopularityProjector.html"},{"type":"function","title":"BaladosSyncProjections.Projectors.PopularityProjector.child_spec/1","doc":"Provides a child specification to allow the event handler to be easily\nsupervised.\n\nSupports the same options as `start_link/3`.\n\nThe default options supported by `GenServer.start_link/3` are also\nsupported, including the `:hibernate_after` option which allows the\nprocess to go into hibernation after a period of inactivity.","ref":"BaladosSyncProjections.Projectors.PopularityProjector.html#child_spec/1"},{"type":"function","title":"Example - BaladosSyncProjections.Projectors.PopularityProjector.child_spec/1","doc":"Supervisor.start_link([\n      {ExampleHandler, []}\n    ], strategy: :one_for_one)","ref":"BaladosSyncProjections.Projectors.PopularityProjector.html#child_spec/1-example"},{"type":"function","title":"BaladosSyncProjections.Projectors.PopularityProjector.schema_prefix/1","doc":"Callback implementation for  Commanded.Projections.Ecto.schema_prefix/1 .","ref":"BaladosSyncProjections.Projectors.PopularityProjector.html#schema_prefix/1"},{"type":"function","title":"BaladosSyncProjections.Projectors.PopularityProjector.schema_prefix/2","doc":"Callback implementation for  Commanded.Projections.Ecto.schema_prefix/2 .","ref":"BaladosSyncProjections.Projectors.PopularityProjector.html#schema_prefix/2"},{"type":"function","title":"BaladosSyncProjections.Projectors.PopularityProjector.start_link/1","doc":"Start an event handler `GenServer` process linked to the current process.","ref":"BaladosSyncProjections.Projectors.PopularityProjector.html#start_link/1"},{"type":"function","title":"Options - BaladosSyncProjections.Projectors.PopularityProjector.start_link/1","doc":"- `:application` - the Commanded application.\n\n  - `:name` - name of the event handler used to determine its unique event\n    store subscription.\n\n  - `:concurrency` - determines how many processes are started to\n    concurrently process events. The default is one process.\n\n  - `:consistency` - one of either `:eventual` (default) or `:strong`.\n\n  - `:start_from` - where to start the event store subscription from when\n    first created (default: `:origin`).\n\n  - :subscribe_to - which stream to subscribe to can be either `:all` to\n    subscribe to all events or a named stream (default: `:all`).\n\n  - :batch_size - the size of batches to deliver to `handle_batch` in batched\n    mode.\n\nThe default options supported by `GenServer.start_link/3` are supported,\nincluding the `:hibernate_after` option which allows the process to go\ninto hibernation after a period of inactivity.","ref":"BaladosSyncProjections.Projectors.PopularityProjector.html#start_link/1-options"},{"type":"function","title":"BaladosSyncProjections.Projectors.PopularityProjector.update_projection/3","doc":"","ref":"BaladosSyncProjections.Projectors.PopularityProjector.html#update_projection/3"},{"type":"module","title":"BaladosSyncProjections.Projectors.PublicEventsProjector","doc":"","ref":"BaladosSyncProjections.Projectors.PublicEventsProjector.html"},{"type":"function","title":"BaladosSyncProjections.Projectors.PublicEventsProjector.child_spec/1","doc":"Provides a child specification to allow the event handler to be easily\nsupervised.\n\nSupports the same options as `start_link/3`.\n\nThe default options supported by `GenServer.start_link/3` are also\nsupported, including the `:hibernate_after` option which allows the\nprocess to go into hibernation after a period of inactivity.","ref":"BaladosSyncProjections.Projectors.PublicEventsProjector.html#child_spec/1"},{"type":"function","title":"Example - BaladosSyncProjections.Projectors.PublicEventsProjector.child_spec/1","doc":"Supervisor.start_link([\n      {ExampleHandler, []}\n    ], strategy: :one_for_one)","ref":"BaladosSyncProjections.Projectors.PublicEventsProjector.html#child_spec/1-example"},{"type":"function","title":"BaladosSyncProjections.Projectors.PublicEventsProjector.schema_prefix/1","doc":"Callback implementation for  Commanded.Projections.Ecto.schema_prefix/1 .","ref":"BaladosSyncProjections.Projectors.PublicEventsProjector.html#schema_prefix/1"},{"type":"function","title":"BaladosSyncProjections.Projectors.PublicEventsProjector.schema_prefix/2","doc":"Callback implementation for  Commanded.Projections.Ecto.schema_prefix/2 .","ref":"BaladosSyncProjections.Projectors.PublicEventsProjector.html#schema_prefix/2"},{"type":"function","title":"BaladosSyncProjections.Projectors.PublicEventsProjector.start_link/1","doc":"Start an event handler `GenServer` process linked to the current process.","ref":"BaladosSyncProjections.Projectors.PublicEventsProjector.html#start_link/1"},{"type":"function","title":"Options - BaladosSyncProjections.Projectors.PublicEventsProjector.start_link/1","doc":"- `:application` - the Commanded application.\n\n  - `:name` - name of the event handler used to determine its unique event\n    store subscription.\n\n  - `:concurrency` - determines how many processes are started to\n    concurrently process events. The default is one process.\n\n  - `:consistency` - one of either `:eventual` (default) or `:strong`.\n\n  - `:start_from` - where to start the event store subscription from when\n    first created (default: `:origin`).\n\n  - :subscribe_to - which stream to subscribe to can be either `:all` to\n    subscribe to all events or a named stream (default: `:all`).\n\n  - :batch_size - the size of batches to deliver to `handle_batch` in batched\n    mode.\n\nThe default options supported by `GenServer.start_link/3` are supported,\nincluding the `:hibernate_after` option which allows the process to go\ninto hibernation after a period of inactivity.","ref":"BaladosSyncProjections.Projectors.PublicEventsProjector.html#start_link/1-options"},{"type":"function","title":"BaladosSyncProjections.Projectors.PublicEventsProjector.update_projection/3","doc":"","ref":"BaladosSyncProjections.Projectors.PublicEventsProjector.html#update_projection/3"},{"type":"module","title":"BaladosSyncProjections.Projectors.SubscriptionsProjector","doc":"","ref":"BaladosSyncProjections.Projectors.SubscriptionsProjector.html"},{"type":"function","title":"BaladosSyncProjections.Projectors.SubscriptionsProjector.child_spec/1","doc":"Provides a child specification to allow the event handler to be easily\nsupervised.\n\nSupports the same options as `start_link/3`.\n\nThe default options supported by `GenServer.start_link/3` are also\nsupported, including the `:hibernate_after` option which allows the\nprocess to go into hibernation after a period of inactivity.","ref":"BaladosSyncProjections.Projectors.SubscriptionsProjector.html#child_spec/1"},{"type":"function","title":"Example - BaladosSyncProjections.Projectors.SubscriptionsProjector.child_spec/1","doc":"Supervisor.start_link([\n      {ExampleHandler, []}\n    ], strategy: :one_for_one)","ref":"BaladosSyncProjections.Projectors.SubscriptionsProjector.html#child_spec/1-example"},{"type":"function","title":"BaladosSyncProjections.Projectors.SubscriptionsProjector.schema_prefix/1","doc":"Callback implementation for  Commanded.Projections.Ecto.schema_prefix/1 .","ref":"BaladosSyncProjections.Projectors.SubscriptionsProjector.html#schema_prefix/1"},{"type":"function","title":"BaladosSyncProjections.Projectors.SubscriptionsProjector.schema_prefix/2","doc":"Callback implementation for  Commanded.Projections.Ecto.schema_prefix/2 .","ref":"BaladosSyncProjections.Projectors.SubscriptionsProjector.html#schema_prefix/2"},{"type":"function","title":"BaladosSyncProjections.Projectors.SubscriptionsProjector.start_link/1","doc":"Start an event handler `GenServer` process linked to the current process.","ref":"BaladosSyncProjections.Projectors.SubscriptionsProjector.html#start_link/1"},{"type":"function","title":"Options - BaladosSyncProjections.Projectors.SubscriptionsProjector.start_link/1","doc":"- `:application` - the Commanded application.\n\n  - `:name` - name of the event handler used to determine its unique event\n    store subscription.\n\n  - `:concurrency` - determines how many processes are started to\n    concurrently process events. The default is one process.\n\n  - `:consistency` - one of either `:eventual` (default) or `:strong`.\n\n  - `:start_from` - where to start the event store subscription from when\n    first created (default: `:origin`).\n\n  - :subscribe_to - which stream to subscribe to can be either `:all` to\n    subscribe to all events or a named stream (default: `:all`).\n\n  - :batch_size - the size of batches to deliver to `handle_batch` in batched\n    mode.\n\nThe default options supported by `GenServer.start_link/3` are supported,\nincluding the `:hibernate_after` option which allows the process to go\ninto hibernation after a period of inactivity.","ref":"BaladosSyncProjections.Projectors.SubscriptionsProjector.html#start_link/1-options"},{"type":"function","title":"BaladosSyncProjections.Projectors.SubscriptionsProjector.update_projection/3","doc":"","ref":"BaladosSyncProjections.Projectors.SubscriptionsProjector.html#update_projection/3"},{"type":"module","title":"BaladosSyncProjections.Application","doc":"","ref":"BaladosSyncProjections.Application.html"},{"type":"function","title":"BaladosSyncProjections.Application.start/2","doc":"Callback implementation for  Application.start/2 .","ref":"BaladosSyncProjections.Application.html#start/2"},{"type":"module","title":"BaladosSyncJobs.Scheduler","doc":"Defines a quantum Scheduler.\n\nWhen used, the quantum scheduler expects the `:otp_app` as option.\nThe `:otp_app` should point to an OTP application that has\nthe quantum runner configuration. For example, the quantum scheduler:\n\n    defmodule BaladosSyncJobs.Scheduler do\n      use Quantum, otp_app: :balados_sync_jobs\n    end\n\nCould be configured with:\n\n    config :balados_sync_jobs, BaladosSyncJobs.Scheduler,\n      jobs: [\n        {\"@daily\", {Backup, :backup, []}},\n      ]","ref":"BaladosSyncJobs.Scheduler.html"},{"type":"module","title":"Configuration: - BaladosSyncJobs.Scheduler","doc":"* `:clock_broadcaster_name` - GenServer name of clock broadcaster \\\n    *(unstable, may break without major release until declared stable)*\n\n  * `:execution_broadcaster_name` - GenServer name of execution broadcaster \\\n    *(unstable, may break without major release until declared stable)*\n\n  * `:executor_supervisor_name` - GenServer name of execution supervisor \\\n    *(unstable, may break without major release until declared stable)*\n\n  * `:debug_logging` - Turn on debug logging\n\n  * `:jobs` - list of cron jobs to execute\n\n  * `:job_broadcaster_name` - GenServer name of job broadcaster \\\n    *(unstable, may break without major release until declared stable)*\n\n  * `:name` - GenServer name of scheduler \\\n    *(unstable, may break without major release until declared stable)*\n\n  * `:node_selector_broadcaster_name` - GenServer name of node selector broadcaster \\\n    *(unstable, may break without major release until declared stable)*\n\n  * `:overlap` - Default overlap of new Job\n\n  * `:otp_app` - Application where scheduler runs\n\n  * `:run_strategy` - Default Run Strategy of new Job\n\n  * `:schedule` - Default schedule of new Job\n\n  * `:storage` - Storage to use for persistence\n\n  * `:storage_name` - GenServer name of storage \\\n    *(unstable, may break without major release until declared stable)*\n\n  * `:supervisor_module` - Module to supervise scheduler \\\n    Can be overwritten to supervise processes differently (for example for clustering) \\\n    *(unstable, may break without major release until declared stable)*\n\n  * `:task_registry_name` - GenServer name of task registry \\\n    *(unstable, may break without major release until declared stable)*\n\n  * `:task_supervisor_name` - GenServer name of task supervisor \\\n    *(unstable, may break without major release until declared stable)*\n\n  * `:timeout` - Sometimes, you may come across GenServer timeout errors\n    esp. when you have too many jobs or high load. The default `GenServer.call/3`\n    timeout is `5_000`.\n\n  * `:timezone` - Default timezone of new Job","ref":"BaladosSyncJobs.Scheduler.html#module-configuration"},{"type":"module","title":"Telemetry - BaladosSyncJobs.Scheduler","doc":"* `[:quantum, :job, :add]`\n  * Description: dispatched when a job is added\n  * Measurements: `%{}`\n  * Metadata: `%{job: Quantum.Job.t(), scheduler: atom()}`\n\n* `[:quantum, :job, :update]`\n  * Description: dispatched when a job is updated\n  * Measurements: `%{}`\n  * Metadata: `%{job: Quantum.Job.t(), scheduler: atom()}`\n\n* `[:quantum, :job, :delete]`\n  * Description: dispatched when a job is deleted\n  * Measurements: `%{}`\n  * Metadata: `%{job: Quantum.Job.t(), scheduler: atom()}`\n\n* `[:quantum, :job, :start]`\n  * Description: dispatched on job execution start\n  * Measurements: `%{system_time: integer()}`\n  * Metadata: `%{telemetry_span_context: term(), job: Quantum.Job.t(), node: Node.t(), scheduler: atom()}`\n\n* `[:quantum, :job, :stop]`\n  * Description: dispatched on job execution end\n  * Measurements: `%{duration: integer()}`\n  * Metadata: `%{telemetry_span_context: term(), job: Quantum.Job.t(), node: Node.t(), scheduler: atom(), result: term()}`\n\n* `[:quantum, :job, :exception]`\n  * Description: dispatched on job execution fail\n  * Measurements: `%{duration: integer()}`\n  * Metadata: `%{telemetry_span_context: term(), job: Quantum.Job.t(), node: Node.t(), scheduler: atom(), kind: :throw | :error | :exit, reason: term(), stacktrace: list()}`","ref":"BaladosSyncJobs.Scheduler.html#module-telemetry"},{"type":"module","title":"Examples - BaladosSyncJobs.Scheduler","doc":"iex(1)> :telemetry_registry.discover_all(:quantum)\n    :ok\n    iex(2)> :telemetry_registry.spannable_events()\n    [{[:quantum, :job], [:start, :stop, :exception]}]\n    iex(3)> :telemetry_registry.list_events\n    [\n      {[:quantum, :job, :add], Quantum,\n       %{\n         description: \"dispatched when a job is added\",\n         measurements: \"%{}\",\n         metadata: \"%{job: Quantum.Job.t(), scheduler: atom()}\"\n       }},\n      {[:quantum, :job, :delete], Quantum,\n       %{\n         description: \"dispatched when a job is deleted\",\n         measurements: \"%{}\",\n         metadata: \"%{job: Quantum.Job.t(), scheduler: atom()}\"\n       }},\n      {[:quantum, :job, :exception], Quantum,\n       %{\n         description: \"dispatched on job execution fail\",\n         measurements: \"%{duration: integer()}\",\n         metadata: \"%{telemetry_span_context: term(), job: Quantum.Job.t(), node: Node.t(), scheduler: atom(), kind: :throw | :error | :exit, reason: term(), stacktrace: list()}\"\n       }},\n      {[:quantum, :job, :start], Quantum,\n       %{\n         description: \"dispatched on job execution start\",\n         measurements: \"%{system_time: integer()}\",\n         metadata: \"%{telemetry_span_context: term(), job: Quantum.Job.t(), node: Node.t(), scheduler: atom()}\"\n       }},\n      {[:quantum, :job, :stop], Quantum,\n       %{\n         description: \"dispatched on job execution end\",\n         measurements: \"%{duration: integer()}\",\n         metadata: \"%{telemetry_span_context: term(), job: Quantum.Job.t(), node: Node.t(), scheduler: atom(), result: term()}\"\n       }},\n      {[:quantum, :job, :update], Quantum,\n       %{\n         description: \"dispatched when a job is updated\",\n         measurements: \"%{}\",\n         metadata: \"%{job: Quantum.Job.t(), scheduler: atom()}\"\n       }}\n    ]","ref":"BaladosSyncJobs.Scheduler.html#module-examples"},{"type":"function","title":"BaladosSyncJobs.Scheduler.child_spec/1","doc":"","ref":"BaladosSyncJobs.Scheduler.html#child_spec/1"},{"type":"module","title":"BaladosSyncJobs.SnapshotWorker","doc":"","ref":"BaladosSyncJobs.SnapshotWorker.html"},{"type":"function","title":"BaladosSyncJobs.SnapshotWorker.perform/0","doc":"","ref":"BaladosSyncJobs.SnapshotWorker.html#perform/0"},{"type":"extras","title":"Developer Guide","doc":"# CLAUDE.md - Balados Sync\n\nCe fichier fournit des instructions à Claude Code pour travailler sur ce repository.","ref":"claude.html"},{"type":"extras","title":"📖 Vue d'Ensemble du Projet - Developer Guide","doc":"**Balados Sync** est une plateforme ouverte de synchronisation de podcasts utilisant **CQRS/Event Sourcing** avec Elixir.","ref":"claude.html#vue-d-ensemble-du-projet"},{"type":"extras","title":"Objectif Principal - Developer Guide","doc":"Créer une plateforme ouverte pour synchroniser les écoutes de podcasts entre applications et appareils, avec découverte communautaire et support self-hosted.\n\n**👉 Voir** : [docs/GOALS.md](docs/GOALS.md)","ref":"claude.html#objectif-principal"},{"type":"extras","title":"Architecture - Developer Guide","doc":"Application **Elixir umbrella** avec 4 apps :\n- **balados_sync_core** : Domain, CQRS, Event Sourcing (Commanded)\n- **balados_sync_projections** : Read Models, Projectors (Ecto)\n- **balados_sync_web** : REST API, Controllers (Phoenix)\n- **balados_sync_jobs** : Background Workers\n\n**👉 Détails** : [docs/technical/ARCHITECTURE.md](docs/technical/ARCHITECTURE.md)\n\n---","ref":"claude.html#architecture"},{"type":"extras","title":"🚀 Quick Start - Developer Guide","doc":"","ref":"claude.html#quick-start"},{"type":"extras","title":"Installation & Setup - Developer Guide","doc":"```bash\nmix deps.get\nmix db.create\nmix db.init\nmix phx.server    # http://localhost:4000\n```\n\n**👉 Guide complet** : [docs/technical/DEVELOPMENT.md](docs/technical/DEVELOPMENT.md)\n\n---","ref":"claude.html#installation-setup"},{"type":"extras","title":"📚 Documentation - Developer Guide","doc":"| Document | Contenu |\n|----------|---------|\n| [**docs/GOALS.md**](docs/GOALS.md) | Objectifs et vision |\n| [**docs/FEATURES.md**](docs/FEATURES.md) | Fonctionnalités implémentées |\n| [**docs/ARCHITECTURAL_AUDIT.md**](docs/ARCHITECTURAL_AUDIT.md) | Audit architectural (2025-12-21) |\n| [**IDEAS.md**](IDEAS.md) | Idées et roadmap futures |\n| [**docs/technical/ARCHITECTURE.md**](docs/technical/ARCHITECTURE.md) | Architecture système |\n| [**docs/technical/DEVELOPMENT.md**](docs/technical/DEVELOPMENT.md) | Workflow et commandes |\n| [**docs/technical/AUTH_SYSTEM.md**](docs/technical/AUTH_SYSTEM.md) | Autorisation JWT |\n| [**docs/technical/CQRS_PATTERNS.md**](docs/technical/CQRS_PATTERNS.md) | Patterns CQRS/ES |\n| [**docs/technical/DATABASE_SCHEMA.md**](docs/technical/DATABASE_SCHEMA.md) | Architecture BD |\n| [**docs/technical/POST_MERGE_FOLLOWUPS.md**](docs/technical/POST_MERGE_FOLLOWUPS.md) | Issues de suivi post-merge |\n\n---","ref":"claude.html#documentation"},{"type":"extras","title":"🎯 Principes Clés - Developer Guide","doc":"","ref":"claude.html#principes-clés"},{"type":"extras","title":"CQRS/Event Sourcing - Developer Guide","doc":"**Flux** : Command → Aggregate → Event → EventStore → Projectors → Projections\n\n- **Commands** : Intentions (Subscribe, RecordPlay, ...)\n- **Events** : Faits immuables (UserSubscribed, PlayRecorded, ...)\n- **Aggregates** : Logique métier (User aggregate)\n- **Projections** : Read models dénormalisés\n\n**👉 Patterns** : [docs/technical/CQRS_PATTERNS.md](docs/technical/CQRS_PATTERNS.md)","ref":"claude.html#cqrs-event-sourcing"},{"type":"extras","title":"Event Store = Source de Vérité - Developer Guide","doc":"- ❌ **NE JAMAIS** modifier manuellement la DB `events`\n- ✅ Events sont **immuables** (émettre nouvel event pour \"supprimer\")\n- ⚠️ **Exception** : Les deletion events supprimaient l'historique (disparaissent après 45j)","ref":"claude.html#event-store-source-de-vérité"},{"type":"extras","title":"Projections = Eventual Consistency - Developer Guide","doc":"- Délai normal : quelques millisecondes\n- Pour reset : `mix db.reset --projections` (SAFE, replay automatique)\n\n---","ref":"claude.html#projections-eventual-consistency"},{"type":"extras","title":"🔐 Autorisation - Developer Guide","doc":"OAuth-style JWT flow avec scopes hiérarchiques :\n\n```\n*                         (full access)\n├── *.read / *.write\n└── user\n    ├── user.subscriptions.{read,write}\n    ├── user.plays.{read,write}\n    ├── user.playlists.{read,write}\n    ├── user.privacy.{read,write}\n    └── user.sync\n```\n\n**👉 Détails** : [docs/technical/AUTH_SYSTEM.md](docs/technical/AUTH_SYSTEM.md)\n\n---","ref":"claude.html#autorisation"},{"type":"extras","title":"🗄️ Base de Données - Developer Guide","doc":"","ref":"claude.html#base-de-données"},{"type":"extras","title":"Trois Repos Ecto - Developer Guide","doc":"| Repo | Schema | Type | Commande |\n|------|--------|------|----------|\n| **SystemRepo** | `system` | Permanent (users, tokens) | `mix system.migrate` |\n| **ProjectionsRepo** | `public` | Event-sourcées (read models) | `mix projections.migrate` |\n| **EventStore** | `events` | Immuable (source de vérité) | Automatique (Commanded) |","ref":"claude.html#trois-repos-ecto"},{"type":"extras","title":"Commandes - Developer Guide","doc":"```bash\nmix db.migrate              # Tous les repos\nmix system.migrate          # Seulement system\nmix projections.migrate     # Seulement projections\nmix db.reset --projections  # ✅ SAFE - reset projections\nmix db.reset --all          # ☢️  DANGER - tout détruit\n```\n\n**⚠️** Ne pas utiliser `mix ecto.*` directement\n\n**👉 Détails** : [docs/technical/DATABASE_SCHEMA.md](docs/technical/DATABASE_SCHEMA.md)\n\n---","ref":"claude.html#commandes"},{"type":"extras","title":"🧪 Tests - Developer Guide","doc":"```bash\nmix test                    # Tous les tests\nmix test --cover           # Avec couverture\ncd apps/balados_sync_core && mix test  # App spécifique\n```\n\n---","ref":"claude.html#tests"},{"type":"extras","title":"🔄 Background Workers & Cleanup Tasks - Developer Guide","doc":"","ref":"claude.html#background-workers-cleanup-tasks"},{"type":"extras","title":"PlayToken Expiration Cleanup - Developer Guide","doc":"PlayTokens are automatically expired based on configuration (default: 365 days). Expired tokens are periodically cleaned up to maintain database performance.\n\n**Manual Cleanup** (if needed in production):\n```bash\n# Execute cleanup worker manually\nmix run -e \"BaladosSyncJobs.PlayTokenCleanupWorker.perform()\"\n\n# Or from iex\niex> BaladosSyncJobs.PlayTokenCleanupWorker.perform()\n```\n\n**Configuration**:\n```elixir\n# config/config.exs\nconfig :balados_sync_projections,\n  play_token_expiration_days: 365  # Default: 1 year\n\nconfig :balados_sync_jobs,\n  play_token_cleanup_batch_size: 1000  # Optional: batch deletion size\n```\n\n**Monitoring**:\n- Monitor token accumulation: Check `system.play_tokens` table for expired tokens\n- Set up alerts if expired tokens are not being cleaned up\n- Backup database before first cleanup run in production\n\n**Important Notes**:\n- Cleanup is safe: only removes expired and revoked tokens\n- Partial index on `expires_at` optimizes cleanup queries\n- Cleanup respects transaction boundaries (atomic deletions)\n\n---","ref":"claude.html#playtoken-expiration-cleanup"},{"type":"extras","title":"📝 Notes pour Claude Code - Developer Guide","doc":"","ref":"claude.html#notes-pour-claude-code"},{"type":"extras","title":"Prérequis - Developer Guide","doc":"- Tu ne peux pas démarrer/arrêter le serveur Phoenix\n- Mets à jour docs/ après chaque commit\n- Consulte les docs thématiques plutôt que de tout garder dans CLAUDE.md","ref":"claude.html#prérequis"},{"type":"extras","title":"Workflow de Développement - Developer Guide","doc":"**⚠️ IMPORTANT**: Le workflow de développement complet est défini dans [.claude/agents/development-workflow.md](.claude/agents/development-workflow.md). Ce fichier doit être suivi à la lettre pour toute tâche de développement.","ref":"claude.html#workflow-de-développement"},{"type":"extras","title":"Task Queue (TODOS.md) - Developer Guide","doc":"Le fichier [TODOS.md](TODOS.md) sert de file d'attente pour les tâches :\n- **TODO** : Tâches ajoutées par les humains\n- **In Progress** : Tâches avec issue/PR associée (maintenu par Claude)\n- **Done** : Tâches terminées\n\nLors du workflow, toujours vérifier TODOS.md pour :\n1. Synchroniser les tâches avec GitHub (issues/PRs)\n2. Créer des issues pour les nouvelles tâches\n3. Mettre à jour les statuts","ref":"claude.html#task-queue-todos-md"},{"type":"extras","title":"Résumé du Workflow (Issue → PR) - Developer Guide","doc":"#### Phase 1: Analyser l'Issue\n```bash\n# Récupérer issues ouvertes\ngh issue list --state open --json number,title,labels,createdAt\n\n# Afficher détails d'une issue\ngh issue view  \n\n# Prioriser par: labels (phase-N, priority), age, réactions\n```\n\n#### Phase 2: Créer une Branche Feature\n```bash\ngit checkout main\ngit pull origin main\ngit checkout -b feature/issue- - \n\n# Exemple: feature/issue-9-add-playtoken-expiration\n```\n\n#### Phase 3: Implémenter avec Tests\n- Respecter CQRS/ES : [docs/technical/CQRS_PATTERNS.md](docs/technical/CQRS_PATTERNS.md)\n- Events immuables : toujours émettre nouveaux events\n- Ajouter tests pour nouveaux commands/events/projectors\n- Mettre à jour docs/ si changements d'architecture\n- Tester localement: `mix test`\n- Appliquer migrations: `mix db.migrate`\n\n#### Phase 4: Committer\n```bash\n# Vérifier changements\ngit diff main\ngit status\n\n# Committer avec auteur Claude\ngit add -A\ngit commit --author=\"Claude  \" -m \"feat: description\n\n- Changement 1\n- Changement 2\n\nCloses # \"\n```\n\n#### Phase 5: Créer la PR\n```bash\n# Pousser branche\ngit push -u origin feature/issue- - \n\n# Créer PR\ngh pr create --title \"feat: description (Closes # )\" \\\n  --body \"","ref":"claude.html#résumé-du-workflow-issue-pr"},{"type":"extras","title":"Summary - Developer Guide","doc":"Brief description","ref":"claude.html#summary"},{"type":"extras","title":"Test Plan - Developer Guide","doc":"- Test 1\n- Test 2\"\n```\n\n#### Phase 6: Post-Merge Follow-up (si PR mergee avec comments)\n```bash\n# Verifier si la PR a des follow-ups necessaires\ngh pr view   --comments\n\n# Criteres pour creer des issues de suivi:\n# - MUST-FIX: tests manquants, logging absent, docs non a jour\n# - SHOULD-FIX: error handling incomplet, TODOs dans le code\n# - NICE-TO-HAVE: optimisations, refactoring suggere\n\n# Creer les issues de suivi\ngh issue create \\\n  --title \"[Follow-up # ]  \" \\\n  --label \"follow-up,from-pr- , \" \\\n  --body \"","ref":"claude.html#test-plan"},{"type":"extras","title":"Context - Developer Guide","doc":"Follow-up from PR # :","ref":"claude.html#context"},{"type":"extras","title":"Original Finding - Developer Guide","doc":">","ref":"claude.html#original-finding"},{"type":"extras","title":"Acceptance Criteria - Developer Guide","doc":"- [ ] Critere 1\n- [ ] Critere 2\n- [ ] Tests ajoutes\"\n```\n\n#### Phase 7: Boucler sur Main\n```bash\n# Retourner a main\ngit checkout main\ngit pull origin main\n\n# Boucler: revenir a Phase 1 (issues/PRs)\n```","ref":"claude.html#acceptance-criteria"},{"type":"extras","title":"Post-Merge Follow-up Issues - Developer Guide","doc":"**Quand creer des issues de suivi:**\n| Categorie | Labels | Exemples |\n|-----------|--------|----------|\n| **must-fix** | `priority-critical` | Tests manquants, logging absent, security |\n| **should-fix** | `priority-high` | Error handling, validation, TODOs |\n| **nice-to-have** | `enhancement` | Optimisations, refactoring, UX |\n\n**Labels obligatoires:** `follow-up`, `from-pr- `\n\n**Triggers automatiques:**\n- Commentaires avec \"TODO\", \"FIXME\", \"later\", \"follow-up\"\n- Tests coverage < 80% sur nouveau code\n- Threads non resolus dans la review\n- PR mergee avec \"approved with comments\"\n\n**Format titre:** `[Follow-up # ]  :  `\n\n**⚠️ RÈGLE IMPORTANTE: Pas de follow-up de follow-up !**\n- Si tu travailles sur une issue de suivi (follow-up), tu dois la résoudre complètement\n- Ne jamais créer une issue de suivi pour une issue qui est déjà un follow-up\n- Si le problème est trop complexe, demander de l'aide ou simplifier l'approche\n- Les issues de suivi doivent être terminées, pas reportées","ref":"claude.html#post-merge-follow-up-issues"},{"type":"extras","title":"Points Importants - Developer Guide","doc":"**Git & Commits:**\n- Auteur: `--author=\"Claude  \"`\n- Messages: commits atomiques, clairs, format conventionnel\n- Branches: `feature/issue- - ` (pas de long noms)\n- PR: créer toujours une PR (validation + traçabilité)\n- **⚠️ MERGE OBLIGATOIRE: `gh pr merge --merge --delete-branch` (JAMAIS --squash)**\n- **🚫 RÈGLE INVIOLABLE: JAMAIS de `git push --force` sans autorisation explicite de l'utilisateur**\n\n**Tests & Database:**\n- Migrations en test: `MIX_ENV=test mix db.migrate`\n- Reset test DB: `echo \"DELETE ALL DATA\" | MIX_ENV=test mix db.reset --all`\n- Tous les tests doivent passer avant PR\n- DataCase pour tests avec DB (créer si inexistant)\n\n**Code Quality:**\n- Pas de modifications \"proactives\" au-delà de la tâche\n- CQRS/ES obligatoire pour les commands/events\n- Logging pour audit trail (ex: token expiration)\n- Backward compatibility si possible (champs optionnels)\n\n---","ref":"claude.html#points-importants"},{"type":"extras","title":"🎙️ Fonctionnalités Implémentées - Developer Guide","doc":"**👉 Détails complets** : [docs/FEATURES.md](docs/FEATURES.md)\n\n- Web Subscription Interface (v1.0)\n- Play Gateway avec Auto-token (v1.1+)\n- Live WebSocket Gateway (v1.2)\n- Subscription Pages Refactoring (v1.3)\n- Privacy Choice Modal (v1.4)\n- Privacy Manager Page (v1.5)\n- PlayToken Expiration & Auto-cleanup (v1.6) ✅ [#30](https://github.com/podCloud/balados.sync/pull/30)\n- Public Timeline Page with Activity Feed (v1.7) ✅ [#40](https://github.com/podCloud/balados.sync/pull/40)\n- Collections & Organization (v1.8) ✅ [#45](https://github.com/podCloud/balados.sync/pull/45)\n- RSS Aggregate Feeds (v1.9) ✅ [#64](https://github.com/podCloud/balados.sync/issues/64)\n- Playlists CRUD Web UI (v2.0) ✅ [#28](https://github.com/podCloud/balados.sync/issues/28)\n- Enriched Podcasts (v2.1) ✅ [#65](https://github.com/podCloud/balados.sync/issues/65)\n- Public User Profiles (v2.2) ✅ [#66](https://github.com/podCloud/balados.sync/issues/66)\n- Public Visibility for Playlists/Collections (v2.3) ✅ [#67](https://github.com/podCloud/balados.sync/issues/67)\n- Podcast Ownership & Verification (v2.4) ✅ [#68](https://github.com/podCloud/balados.sync/issues/68)\n- Email Verification for Ownership (v2.5) ✅ [#69](https://github.com/podCloud/balados.sync/issues/69)\n\n---","ref":"claude.html#fonctionnalités-implémentées"},{"type":"extras","title":"📖 Ressources - Developer Guide","doc":"- [Elixir](https://elixir-lang.org/docs.html)\n- [Phoenix](https://hexdocs.pm/phoenix/)\n- [Commanded](https://hexdocs.pm/commanded/)\n- [EventStore](https://hexdocs.pm/eventstore/)","ref":"claude.html#ressources"},{"type":"extras","title":"API Overview","doc":"# Balados Sync API\n\nBalados Sync provides a REST API for podcast synchronization across devices and applications.","ref":"api-overview.html"},{"type":"extras","title":"Base URL - API Overview","doc":"```\nhttps://sync.balados.cloud/api/v1\n```","ref":"api-overview.html#base-url"},{"type":"extras","title":"Authentication - API Overview","doc":"All API endpoints (except public endpoints) require JWT authentication.","ref":"api-overview.html#authentication"},{"type":"extras","title":"Obtaining a Token - API Overview","doc":"1. Register your application at `/app-creator`\n2. Redirect users to `/authorize?client_id=YOUR_APP_ID&scopes=user.subscriptions.read,user.plays.write`\n3. After authorization, receive a JWT token\n4. Include the token in all requests: `Authorization: Bearer  `","ref":"api-overview.html#obtaining-a-token"},{"type":"extras","title":"Token Scopes - API Overview","doc":"| Scope | Description |\n|-------|-------------|\n| `*` | Full access |\n| `*.read` | Read-only access to all resources |\n| `*.write` | Write access to all resources |\n| `user.subscriptions.read` | Read user's podcast subscriptions |\n| `user.subscriptions.write` | Manage subscriptions |\n| `user.plays.read` | Read playback history |\n| `user.plays.write` | Record playback events |\n| `user.playlists.read` | Read playlists |\n| `user.playlists.write` | Manage playlists |\n| `user.privacy.read` | Read privacy settings |\n| `user.privacy.write` | Update privacy settings |\n| `user.sync` | Full sync access |","ref":"api-overview.html#token-scopes"},{"type":"extras","title":"Error Handling - API Overview","doc":"All errors return a consistent JSON format:\n\n```json\n{\n  \"error\": {\n    \"code\": \"INVALID_FEED\",\n    \"message\": \"The RSS feed URL is malformed\"\n  }\n}\n```","ref":"api-overview.html#error-handling"},{"type":"extras","title":"Common Error Codes - API Overview","doc":"| Code | HTTP Status | Description |\n|------|-------------|-------------|\n| `UNAUTHORIZED` | 401 | Missing or invalid authentication |\n| `FORBIDDEN` | 403 | Insufficient permissions |\n| `NOT_FOUND` | 404 | Resource not found |\n| `INVALID_INPUT` | 422 | Validation error |\n| `INVALID_FEED` | 422 | Malformed RSS feed URL |\n| `RATE_LIMITED` | 429 | Too many requests |\n| `SERVER_ERROR` | 500 | Internal server error |","ref":"api-overview.html#common-error-codes"},{"type":"extras","title":"Rate Limiting - API Overview","doc":"- **Default**: 100 requests per minute per IP\n- **Authenticated**: 1000 requests per minute per user\n- Headers: `X-RateLimit-Limit`, `X-RateLimit-Remaining`, `X-RateLimit-Reset`","ref":"api-overview.html#rate-limiting"},{"type":"extras","title":"Data Encoding - API Overview","doc":"RSS feed URLs and episode identifiers are **Base64-encoded** in API requests and responses.\n\n```elixir\n# Encode\nfeed_id = Base.encode64(\"https://example.com/feed.xml\")\n# => \"aHR0cHM6Ly9leGFtcGxlLmNvbS9mZWVkLnhtbA==\"\n\n# Decode\nBase.decode64!(\"aHR0cHM6Ly9leGFtcGxlLmNvbS9mZWVkLnhtbA==\")\n# => \"https://example.com/feed.xml\"\n```","ref":"api-overview.html#data-encoding"},{"type":"extras","title":"Next Steps - API Overview","doc":"- [Subscriptions API](subscriptions.md) - Manage podcast subscriptions\n- [Playback API](playback.md) - Record and sync playback progress\n- [Collections API](collections.md) - Organize podcasts into collections\n- [Sync API](sync.md) - Full state synchronization\n- [Public API](public.md) - Trending and discovery endpoints","ref":"api-overview.html#next-steps"},{"type":"extras","title":"Subscriptions API","doc":"# Subscriptions API\n\nManage podcast subscriptions for the authenticated user.","ref":"api-subscriptions.html"},{"type":"extras","title":"Endpoints - Subscriptions API","doc":"| Method | Path | Description |\n|--------|------|-------------|\n| `GET` | `/api/v1/subscriptions` | List all subscriptions |\n| `POST` | `/api/v1/subscriptions` | Subscribe to a podcast |\n| `DELETE` | `/api/v1/subscriptions/:feed` | Unsubscribe from a podcast |\n| `GET` | `/api/v1/subscriptions/:feed/metadata` | Get podcast metadata |","ref":"api-subscriptions.html#endpoints"},{"type":"extras","title":"List Subscriptions - Subscriptions API","doc":"```http\nGET /api/v1/subscriptions\nAuthorization: Bearer  \n```","ref":"api-subscriptions.html#list-subscriptions"},{"type":"extras","title":"Response - Subscriptions API","doc":"```json\n{\n  \"subscriptions\": [\n    {\n      \"id\": \"sub-123\",\n      \"rss_source_feed\": \"aHR0cHM6Ly9mZWVkcy5leGFtcGxlLmNvbS9wb2RjYXN0\",\n      \"rss_source_id\": \"podcast-abc\",\n      \"subscribed_at\": \"2024-01-15T10:30:00Z\",\n      \"metadata\": {\n        \"title\": \"Example Podcast\",\n        \"description\": \"A great podcast about examples\",\n        \"image_url\": \"https://example.com/cover.jpg\"\n      }\n    }\n  ]\n}\n```","ref":"api-subscriptions.html#response"},{"type":"extras","title":"Subscribe to a Podcast - Subscriptions API","doc":"```http\nPOST /api/v1/subscriptions\nAuthorization: Bearer  \nContent-Type: application/json\n\n{\n  \"feed\": \"aHR0cHM6Ly9mZWVkcy5leGFtcGxlLmNvbS9wb2RjYXN0\"\n}\n```","ref":"api-subscriptions.html#subscribe-to-a-podcast"},{"type":"extras","title":"Request Body - Subscriptions API","doc":"| Field | Type | Required | Description |\n|-------|------|----------|-------------|\n| `feed` | string | Yes | Base64-encoded RSS feed URL |","ref":"api-subscriptions.html#request-body"},{"type":"extras","title":"Response (201 Created) - Subscriptions API","doc":"```json\n{\n  \"subscription\": {\n    \"id\": \"sub-456\",\n    \"rss_source_feed\": \"aHR0cHM6Ly9mZWVkcy5leGFtcGxlLmNvbS9wb2RjYXN0\",\n    \"rss_source_id\": \"podcast-xyz\",\n    \"subscribed_at\": \"2024-01-20T14:00:00Z\"\n  }\n}\n```","ref":"api-subscriptions.html#response-201-created"},{"type":"extras","title":"Errors - Subscriptions API","doc":"| Code | Description |\n|------|-------------|\n| `INVALID_FEED` | The feed URL is malformed or not a valid RSS feed |\n| `ALREADY_SUBSCRIBED` | User is already subscribed to this feed |","ref":"api-subscriptions.html#errors"},{"type":"extras","title":"Unsubscribe from a Podcast - Subscriptions API","doc":"```http\nDELETE /api/v1/subscriptions/:feed\nAuthorization: Bearer  \n```","ref":"api-subscriptions.html#unsubscribe-from-a-podcast"},{"type":"extras","title":"Path Parameters - Subscriptions API","doc":"| Parameter | Description |\n|-----------|-------------|\n| `feed` | Base64-encoded RSS feed URL |","ref":"api-subscriptions.html#path-parameters"},{"type":"extras","title":"Response (200 OK) - Subscriptions API","doc":"```json\n{\n  \"message\": \"Unsubscribed successfully\"\n}\n```","ref":"api-subscriptions.html#response-200-ok"},{"type":"extras","title":"Get Podcast Metadata - Subscriptions API","doc":"Fetch metadata for a subscribed podcast (title, description, episodes).\n\n```http\nGET /api/v1/subscriptions/:feed/metadata\nAuthorization: Bearer  \n```","ref":"api-subscriptions.html#get-podcast-metadata"},{"type":"extras","title":"Response - Subscriptions API","doc":"```json\n{\n  \"metadata\": {\n    \"title\": \"Example Podcast\",\n    \"description\": \"A great podcast about examples\",\n    \"author\": \"John Doe\",\n    \"image_url\": \"https://example.com/cover.jpg\",\n    \"link\": \"https://example.com\",\n    \"language\": \"en\",\n    \"episode_count\": 42\n  }\n}\n```","ref":"api-subscriptions.html#response-1"},{"type":"extras","title":"Example: Subscribe with curl - Subscriptions API","doc":"```bash\n# Encode the feed URL\nFEED=$(echo -n \"https://feeds.example.com/podcast.xml\" | base64)\n\n# Subscribe\ncurl -X POST \"https://sync.balados.cloud/api/v1/subscriptions\" \\\n  -H \"Authorization: Bearer $TOKEN\" \\\n  -H \"Content-Type: application/json\" \\\n  -d \"{\\\"feed\\\": \\\"$FEED\\\"}\"\n```","ref":"api-subscriptions.html#example-subscribe-with-curl"},{"type":"extras","title":"Playback API","doc":"# Playback API\n\nRecord and synchronize podcast playback progress across devices.","ref":"api-playback.html"},{"type":"extras","title":"Endpoints - Playback API","doc":"| Method | Path | Description |\n|--------|------|-------------|\n| `GET` | `/api/v1/play` | Get playback status for all episodes |\n| `POST` | `/api/v1/play` | Record a play event |\n| `PUT` | `/api/v1/play/:item/position` | Update playback position |","ref":"api-playback.html#endpoints"},{"type":"extras","title":"Get Playback Status - Playback API","doc":"Retrieve the playback status for all episodes the user has listened to.\n\n```http\nGET /api/v1/play\nAuthorization: Bearer  \n```","ref":"api-playback.html#get-playback-status"},{"type":"extras","title":"Query Parameters - Playback API","doc":"| Parameter | Type | Description |\n|-----------|------|-------------|\n| `feed` | string | (Optional) Filter by Base64-encoded feed URL |\n| `since` | string | (Optional) ISO 8601 timestamp to get updates since |","ref":"api-playback.html#query-parameters"},{"type":"extras","title":"Response - Playback API","doc":"```json\n{\n  \"plays\": [\n    {\n      \"rss_source_feed\": \"aHR0cHM6Ly9mZWVkcy5leGFtcGxlLmNvbS9wb2RjYXN0\",\n      \"rss_source_item\": \"Z3VpZC0xMjMsaHR0cHM6Ly9leGFtcGxlLmNvbS9lcGlzb2RlLm1wMw==\",\n      \"position\": 1234,\n      \"played\": false,\n      \"updated_at\": \"2024-01-20T15:30:00Z\"\n    },\n    {\n      \"rss_source_feed\": \"aHR0cHM6Ly9mZWVkcy5leGFtcGxlLmNvbS9wb2RjYXN0\",\n      \"rss_source_item\": \"Z3VpZC00NTYsaHR0cHM6Ly9leGFtcGxlLmNvbS9lcGlzb2RlMi5tcDM=\",\n      \"position\": 3600,\n      \"played\": true,\n      \"updated_at\": \"2024-01-19T10:00:00Z\"\n    }\n  ]\n}\n```","ref":"api-playback.html#response"},{"type":"extras","title":"Record a Play Event - Playback API","doc":"Record that the user played an episode, with optional position and completion status.\n\n```http\nPOST /api/v1/play\nAuthorization: Bearer  \nContent-Type: application/json\n\n{\n  \"feed\": \"aHR0cHM6Ly9mZWVkcy5leGFtcGxlLmNvbS9wb2RjYXN0\",\n  \"item\": \"Z3VpZC0xMjMsaHR0cHM6Ly9leGFtcGxlLmNvbS9lcGlzb2RlLm1wMw==\",\n  \"position\": 1234,\n  \"played\": false\n}\n```","ref":"api-playback.html#record-a-play-event"},{"type":"extras","title":"Request Body - Playback API","doc":"| Field | Type | Required | Description |\n|-------|------|----------|-------------|\n| `feed` | string | Yes | Base64-encoded RSS feed URL |\n| `item` | string | Yes | Base64-encoded episode identifier (`guid,enclosure_url`) |\n| `position` | integer | No | Playback position in seconds (default: 0) |\n| `played` | boolean | No | Whether episode is completed (default: false) |","ref":"api-playback.html#request-body"},{"type":"extras","title":"Response (201 Created) - Playback API","doc":"```json\n{\n  \"play\": {\n    \"rss_source_feed\": \"aHR0cHM6Ly9mZWVkcy5leGFtcGxlLmNvbS9wb2RjYXN0\",\n    \"rss_source_item\": \"Z3VpZC0xMjMsaHR0cHM6Ly9leGFtcGxlLmNvbS9lcGlzb2RlLm1wMw==\",\n    \"position\": 1234,\n    \"played\": false,\n    \"recorded_at\": \"2024-01-20T15:30:00Z\"\n  }\n}\n```","ref":"api-playback.html#response-201-created"},{"type":"extras","title":"Update Playback Position - Playback API","doc":"Update just the playback position for an episode (lighter than full record).\n\n```http\nPUT /api/v1/play/:item/position\nAuthorization: Bearer  \nContent-Type: application/json\n\n{\n  \"position\": 2500\n}\n```","ref":"api-playback.html#update-playback-position"},{"type":"extras","title":"Path Parameters - Playback API","doc":"| Parameter | Description |\n|-----------|-------------|\n| `item` | Base64-encoded episode identifier |","ref":"api-playback.html#path-parameters"},{"type":"extras","title":"Request Body - Playback API","doc":"| Field | Type | Required | Description |\n|-------|------|----------|-------------|\n| `position` | integer | Yes | New playback position in seconds |","ref":"api-playback.html#request-body-1"},{"type":"extras","title":"Response (200 OK) - Playback API","doc":"```json\n{\n  \"position\": 2500,\n  \"updated_at\": \"2024-01-20T15:35:00Z\"\n}\n```","ref":"api-playback.html#response-200-ok"},{"type":"extras","title":"Episode Identifier Format - Playback API","doc":"Episode identifiers are Base64-encoded strings containing the episode GUID and enclosure URL:\n\n```\nguid,enclosure_url\n```\n\nExample:\n```elixir\n# Original\n\"episode-123,https://example.com/episode.mp3\"\n\n# Base64 encoded\n\"ZXBpc29kZS0xMjMsaHR0cHM6Ly9leGFtcGxlLmNvbS9lcGlzb2RlLm1wMw==\"\n```","ref":"api-playback.html#episode-identifier-format"},{"type":"extras","title":"Example: Sync Playback with curl - Playback API","doc":"```bash\n# Encode feed and episode\nFEED=$(echo -n \"https://feeds.example.com/podcast.xml\" | base64)\nITEM=$(echo -n \"ep-123,https://example.com/ep123.mp3\" | base64)\n\n# Record play at position 5 minutes\ncurl -X POST \"https://sync.balados.cloud/api/v1/play\" \\\n  -H \"Authorization: Bearer $TOKEN\" \\\n  -H \"Content-Type: application/json\" \\\n  -d \"{\\\"feed\\\": \\\"$FEED\\\", \\\"item\\\": \\\"$ITEM\\\", \\\"position\\\": 300}\"\n```","ref":"api-playback.html#example-sync-playback-with-curl"},{"type":"extras","title":"Collections API","doc":"# Collections API\n\nOrganize podcasts into collections (folders/groups).","ref":"api-collections.html"},{"type":"extras","title":"Endpoints - Collections API","doc":"| Method | Path | Description |\n|--------|------|-------------|\n| `GET` | `/api/v1/collections` | List all collections |\n| `GET` | `/api/v1/collections/:id` | Get a collection |\n| `POST` | `/api/v1/collections` | Create a collection |\n| `PATCH` | `/api/v1/collections/:id` | Update a collection |\n| `DELETE` | `/api/v1/collections/:id` | Delete a collection |\n| `POST` | `/api/v1/collections/:id/feeds` | Add a feed to collection |\n| `DELETE` | `/api/v1/collections/:id/feeds/:feed_id` | Remove feed from collection |","ref":"api-collections.html#endpoints"},{"type":"extras","title":"List Collections - Collections API","doc":"```http\nGET /api/v1/collections\nAuthorization: Bearer  \n```","ref":"api-collections.html#list-collections"},{"type":"extras","title":"Response - Collections API","doc":"```json\n{\n  \"collections\": [\n    {\n      \"id\": \"col-123\",\n      \"name\": \"Tech Podcasts\",\n      \"description\": \"My favorite tech shows\",\n      \"is_public\": false,\n      \"feeds\": [\n        {\n          \"id\": \"feed-1\",\n          \"rss_source_feed\": \"aHR0cHM6Ly9mZWVkcy5leGFtcGxlLmNvbS90ZWNo\",\n          \"position\": 0\n        }\n      ],\n      \"created_at\": \"2024-01-10T09:00:00Z\",\n      \"updated_at\": \"2024-01-15T14:00:00Z\"\n    }\n  ]\n}\n```","ref":"api-collections.html#response"},{"type":"extras","title":"Get a Collection - Collections API","doc":"```http\nGET /api/v1/collections/:id\nAuthorization: Bearer  \n```","ref":"api-collections.html#get-a-collection"},{"type":"extras","title":"Response - Collections API","doc":"```json\n{\n  \"collection\": {\n    \"id\": \"col-123\",\n    \"name\": \"Tech Podcasts\",\n    \"description\": \"My favorite tech shows\",\n    \"is_public\": false,\n    \"feeds\": [\n      {\n        \"id\": \"feed-1\",\n        \"rss_source_feed\": \"aHR0cHM6Ly9mZWVkcy5leGFtcGxlLmNvbS90ZWNo\",\n        \"position\": 0,\n        \"metadata\": {\n          \"title\": \"Tech Talk\",\n          \"image_url\": \"https://example.com/tech.jpg\"\n        }\n      }\n    ],\n    \"created_at\": \"2024-01-10T09:00:00Z\"\n  }\n}\n```","ref":"api-collections.html#response-1"},{"type":"extras","title":"Create a Collection - Collections API","doc":"```http\nPOST /api/v1/collections\nAuthorization: Bearer  \nContent-Type: application/json\n\n{\n  \"name\": \"Comedy Shows\",\n  \"description\": \"Podcasts that make me laugh\",\n  \"is_public\": false\n}\n```","ref":"api-collections.html#create-a-collection"},{"type":"extras","title":"Request Body - Collections API","doc":"| Field | Type | Required | Description |\n|-------|------|----------|-------------|\n| `name` | string | Yes | Collection name (max 100 chars) |\n| `description` | string | No | Collection description (max 500 chars) |\n| `is_public` | boolean | No | Make collection publicly visible (default: false) |","ref":"api-collections.html#request-body"},{"type":"extras","title":"Response (201 Created) - Collections API","doc":"```json\n{\n  \"collection\": {\n    \"id\": \"col-456\",\n    \"name\": \"Comedy Shows\",\n    \"description\": \"Podcasts that make me laugh\",\n    \"is_public\": false,\n    \"feeds\": [],\n    \"created_at\": \"2024-01-20T10:00:00Z\"\n  }\n}\n```","ref":"api-collections.html#response-201-created"},{"type":"extras","title":"Update a Collection - Collections API","doc":"```http\nPATCH /api/v1/collections/:id\nAuthorization: Bearer  \nContent-Type: application/json\n\n{\n  \"name\": \"Comedy & Humor\",\n  \"is_public\": true\n}\n```","ref":"api-collections.html#update-a-collection"},{"type":"extras","title":"Request Body - Collections API","doc":"All fields are optional. Only provided fields will be updated.\n\n| Field | Type | Description |\n|-------|------|-------------|\n| `name` | string | New collection name |\n| `description` | string | New description |\n| `is_public` | boolean | Update visibility |","ref":"api-collections.html#request-body-1"},{"type":"extras","title":"Response (200 OK) - Collections API","doc":"```json\n{\n  \"collection\": {\n    \"id\": \"col-456\",\n    \"name\": \"Comedy & Humor\",\n    \"description\": \"Podcasts that make me laugh\",\n    \"is_public\": true,\n    \"updated_at\": \"2024-01-20T11:00:00Z\"\n  }\n}\n```","ref":"api-collections.html#response-200-ok"},{"type":"extras","title":"Delete a Collection - Collections API","doc":"```http\nDELETE /api/v1/collections/:id\nAuthorization: Bearer  \n```","ref":"api-collections.html#delete-a-collection"},{"type":"extras","title":"Response (200 OK) - Collections API","doc":"```json\n{\n  \"message\": \"Collection deleted\"\n}\n```","ref":"api-collections.html#response-200-ok-1"},{"type":"extras","title":"Add Feed to Collection - Collections API","doc":"```http\nPOST /api/v1/collections/:id/feeds\nAuthorization: Bearer  \nContent-Type: application/json\n\n{\n  \"feed\": \"aHR0cHM6Ly9mZWVkcy5leGFtcGxlLmNvbS9jb21lZHk=\"\n}\n```","ref":"api-collections.html#add-feed-to-collection"},{"type":"extras","title":"Request Body - Collections API","doc":"| Field | Type | Required | Description |\n|-------|------|----------|-------------|\n| `feed` | string | Yes | Base64-encoded RSS feed URL |","ref":"api-collections.html#request-body-2"},{"type":"extras","title":"Response (201 Created) - Collections API","doc":"```json\n{\n  \"feed\": {\n    \"id\": \"feed-789\",\n    \"rss_source_feed\": \"aHR0cHM6Ly9mZWVkcy5leGFtcGxlLmNvbS9jb21lZHk=\",\n    \"position\": 1\n  }\n}\n```","ref":"api-collections.html#response-201-created-1"},{"type":"extras","title":"Remove Feed from Collection - Collections API","doc":"```http\nDELETE /api/v1/collections/:id/feeds/:feed_id\nAuthorization: Bearer  \n```","ref":"api-collections.html#remove-feed-from-collection"},{"type":"extras","title":"Response (200 OK) - Collections API","doc":"```json\n{\n  \"message\": \"Feed removed from collection\"\n}\n```","ref":"api-collections.html#response-200-ok-2"},{"type":"extras","title":"RSS Feed for Collection - Collections API","doc":"Public collections have an RSS feed that aggregates all podcasts:\n\n```\nGET /rss/:user_token/collections/:collection_id\n```\n\nThis returns an RSS/XML feed with recent episodes from all podcasts in the collection.","ref":"api-collections.html#rss-feed-for-collection"},{"type":"extras","title":"Sync API","doc":"# Sync API\n\nFull state synchronization endpoint for podcast apps.","ref":"api-sync.html"},{"type":"extras","title":"Overview - Sync API","doc":"The sync endpoint allows apps to:\n1. Send local changes to the server\n2. Receive remote changes since last sync\n3. Resolve conflicts between devices","ref":"api-sync.html#overview"},{"type":"extras","title":"Endpoint - Sync API","doc":"```http\nPOST /api/v1/sync\nAuthorization: Bearer  \nContent-Type: application/json\n```","ref":"api-sync.html#endpoint"},{"type":"extras","title":"Request Format - Sync API","doc":"```json\n{\n  \"last_sync\": \"2024-01-19T10:00:00Z\",\n  \"changes\": {\n    \"subscriptions\": {\n      \"added\": [\n        {\n          \"feed\": \"aHR0cHM6Ly9mZWVkcy5leGFtcGxlLmNvbS9uZXc=\",\n          \"timestamp\": \"2024-01-20T08:00:00Z\"\n        }\n      ],\n      \"removed\": [\n        {\n          \"feed\": \"aHR0cHM6Ly9mZWVkcy5leGFtcGxlLmNvbS9vbGQ=\",\n          \"timestamp\": \"2024-01-20T09:00:00Z\"\n        }\n      ]\n    },\n    \"plays\": [\n      {\n        \"feed\": \"aHR0cHM6Ly9mZWVkcy5leGFtcGxlLmNvbS9wb2RjYXN0\",\n        \"item\": \"Z3VpZC0xMjMsaHR0cHM6Ly9leGFtcGxlLmNvbS9lcDEubXAz\",\n        \"position\": 1500,\n        \"played\": false,\n        \"timestamp\": \"2024-01-20T10:30:00Z\"\n      }\n    ],\n    \"playlists\": [\n      {\n        \"id\": \"playlist-local-123\",\n        \"name\": \"Road Trip\",\n        \"items\": [\"item1\", \"item2\"],\n        \"timestamp\": \"2024-01-20T07:00:00Z\"\n      }\n    ]\n  }\n}\n```","ref":"api-sync.html#request-format"},{"type":"extras","title":"Request Body - Sync API","doc":"| Field | Type | Required | Description |\n|-------|------|----------|-------------|\n| `last_sync` | string | No | ISO 8601 timestamp of last successful sync |\n| `changes` | object | Yes | Local changes to push |\n| `changes.subscriptions` | object | No | Subscription changes |\n| `changes.plays` | array | No | Playback updates |\n| `changes.playlists` | array | No | Playlist changes |","ref":"api-sync.html#request-body"},{"type":"extras","title":"Response Format - Sync API","doc":"```json\n{\n  \"sync_token\": \"2024-01-20T10:35:00Z\",\n  \"changes\": {\n    \"subscriptions\": {\n      \"added\": [\n        {\n          \"feed\": \"aHR0cHM6Ly9mZWVkcy5leGFtcGxlLmNvbS9mcm9tLW90aGVyLWRldmljZQ==\",\n          \"subscribed_at\": \"2024-01-19T15:00:00Z\"\n        }\n      ],\n      \"removed\": []\n    },\n    \"plays\": [\n      {\n        \"feed\": \"aHR0cHM6Ly9mZWVkcy5leGFtcGxlLmNvbS9wb2RjYXN0\",\n        \"item\": \"Z3VpZC00NTYsaHR0cHM6Ly9leGFtcGxlLmNvbS9lcDIubXAz\",\n        \"position\": 2400,\n        \"played\": true,\n        \"updated_at\": \"2024-01-19T20:00:00Z\"\n      }\n    ],\n    \"playlists\": []\n  },\n  \"conflicts\": []\n}\n```","ref":"api-sync.html#response-format"},{"type":"extras","title":"Response Fields - Sync API","doc":"| Field | Type | Description |\n|-------|------|-------------|\n| `sync_token` | string | Token for next sync (use as `last_sync`) |\n| `changes` | object | Remote changes since `last_sync` |\n| `conflicts` | array | Conflicts that need resolution |","ref":"api-sync.html#response-fields"},{"type":"extras","title":"Conflict Resolution - Sync API","doc":"When the same resource was modified on multiple devices, conflicts are reported:\n\n```json\n{\n  \"conflicts\": [\n    {\n      \"type\": \"play_position\",\n      \"feed\": \"aHR0cHM6Ly9mZWVkcy5leGFtcGxlLmNvbS9wb2RjYXN0\",\n      \"item\": \"Z3VpZC0xMjMsaHR0cHM6Ly9leGFtcGxlLmNvbS9lcDEubXAz\",\n      \"local\": {\n        \"position\": 1500,\n        \"timestamp\": \"2024-01-20T10:30:00Z\"\n      },\n      \"remote\": {\n        \"position\": 2000,\n        \"timestamp\": \"2024-01-20T10:25:00Z\"\n      },\n      \"resolution\": \"local_wins\"\n    }\n  ]\n}\n```","ref":"api-sync.html#conflict-resolution"},{"type":"extras","title":"Resolution Strategies - Sync API","doc":"| Strategy | Description |\n|----------|-------------|\n| `local_wins` | Local change was applied |\n| `remote_wins` | Remote change takes precedence |\n| `merged` | Changes were merged |\n\n**Default behavior**:\n- Subscriptions: Last-write-wins\n- Play positions: Highest-progress-wins (furthest position)\n- Playlists: Merge items, last-write-wins for metadata","ref":"api-sync.html#resolution-strategies"},{"type":"extras","title":"WebSocket Real-Time Sync - Sync API","doc":"For real-time synchronization, connect to the WebSocket endpoint:\n\n```\nwss://sync.balados.cloud/api/v1/live\n```","ref":"api-sync.html#websocket-real-time-sync"},{"type":"extras","title":"Connection - Sync API","doc":"```javascript\nconst ws = new WebSocket('wss://sync.balados.cloud/api/v1/live');\n\nws.onopen = () => {\n  // Authenticate\n  ws.send(JSON.stringify({\n    type: 'auth',\n    token: 'your-jwt-token'\n  }));\n};\n\nws.onmessage = (event) => {\n  const data = JSON.parse(event.data);\n  // Handle: auth_success, play_update, subscription_update, etc.\n};\n```","ref":"api-sync.html#connection"},{"type":"extras","title":"Message Types - Sync API","doc":"| Type | Direction | Description |\n|------|-----------|-------------|\n| `auth` | Client → Server | Authenticate connection |\n| `auth_success` | Server → Client | Authentication confirmed |\n| `record_play` | Client → Server | Record playback event |\n| `play_update` | Server → Client | Playback updated (from another device) |\n| `subscribe` | Client → Server | Subscribe to feed |\n| `subscription_update` | Server → Client | Subscription changed |","ref":"api-sync.html#message-types"},{"type":"extras","title":"Example: Full Sync Flow - Sync API","doc":"```bash\n# Initial sync (no last_sync, get everything)\ncurl -X POST \"https://sync.balados.cloud/api/v1/sync\" \\\n  -H \"Authorization: Bearer $TOKEN\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"changes\": {}}'\n\n# Response includes sync_token: \"2024-01-20T10:00:00Z\"\n\n# Subsequent sync with changes\ncurl -X POST \"https://sync.balados.cloud/api/v1/sync\" \\\n  -H \"Authorization: Bearer $TOKEN\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"last_sync\": \"2024-01-20T10:00:00Z\",\n    \"changes\": {\n      \"plays\": [{\n        \"feed\": \"...\",\n        \"item\": \"...\",\n        \"position\": 300\n      }]\n    }\n  }'\n```","ref":"api-sync.html#example-full-sync-flow"},{"type":"extras","title":"Public API","doc":"# Public API\n\nPublic endpoints for podcast discovery and trending content. No authentication required.","ref":"api-public.html"},{"type":"extras","title":"Base URL - Public API","doc":"```\nhttps://sync.balados.cloud/api/v1/public\n```","ref":"api-public.html#base-url"},{"type":"extras","title":"Endpoints - Public API","doc":"| Method | Path | Description |\n|--------|------|-------------|\n| `GET` | `/trending/podcasts` | Get trending podcasts |\n| `GET` | `/trending/episodes` | Get trending episodes |\n| `GET` | `/timeline` | Get public activity timeline |\n| `GET` | `/feed/:feed/popularity` | Get podcast popularity stats |\n| `GET` | `/episode/:item/popularity` | Get episode popularity stats |","ref":"api-public.html#endpoints"},{"type":"extras","title":"Trending Podcasts - Public API","doc":"Get the most popular podcasts based on subscriber count and recent activity.\n\n```http\nGET /api/v1/public/trending/podcasts\n```","ref":"api-public.html#trending-podcasts"},{"type":"extras","title":"Query Parameters - Public API","doc":"| Parameter | Type | Default | Description |\n|-----------|------|---------|-------------|\n| `limit` | integer | 20 | Number of results (max 100) |\n| `period` | string | `week` | Time period: `day`, `week`, `month` |","ref":"api-public.html#query-parameters"},{"type":"extras","title":"Response - Public API","doc":"```json\n{\n  \"podcasts\": [\n    {\n      \"rss_source_feed\": \"aHR0cHM6Ly9mZWVkcy5leGFtcGxlLmNvbS90b3A=\",\n      \"title\": \"Top Podcast\",\n      \"description\": \"The most popular show\",\n      \"image_url\": \"https://example.com/cover.jpg\",\n      \"subscriber_count\": 1234,\n      \"play_count\": 5678,\n      \"rank\": 1\n    }\n  ],\n  \"period\": \"week\",\n  \"generated_at\": \"2024-01-20T12:00:00Z\"\n}\n```","ref":"api-public.html#response"},{"type":"extras","title":"Trending Episodes - Public API","doc":"Get the most played episodes recently.\n\n```http\nGET /api/v1/public/trending/episodes\n```","ref":"api-public.html#trending-episodes"},{"type":"extras","title":"Query Parameters - Public API","doc":"| Parameter | Type | Default | Description |\n|-----------|------|---------|-------------|\n| `limit` | integer | 20 | Number of results (max 100) |\n| `period` | string | `week` | Time period: `day`, `week`, `month` |","ref":"api-public.html#query-parameters-1"},{"type":"extras","title":"Response - Public API","doc":"```json\n{\n  \"episodes\": [\n    {\n      \"rss_source_feed\": \"aHR0cHM6Ly9mZWVkcy5leGFtcGxlLmNvbS9wb2RjYXN0\",\n      \"rss_source_item\": \"Z3VpZC0xMjMsaHR0cHM6Ly9leGFtcGxlLmNvbS9lcDEubXAz\",\n      \"title\": \"Amazing Episode #42\",\n      \"podcast_title\": \"Great Podcast\",\n      \"image_url\": \"https://example.com/ep42.jpg\",\n      \"play_count\": 890,\n      \"completion_rate\": 0.75,\n      \"rank\": 1\n    }\n  ]\n}\n```","ref":"api-public.html#response-1"},{"type":"extras","title":"Public Timeline - Public API","doc":"Get a feed of public activity (plays, subscriptions) from users who opted in.\n\n```http\nGET /api/v1/public/timeline\n```","ref":"api-public.html#public-timeline"},{"type":"extras","title":"Query Parameters - Public API","doc":"| Parameter | Type | Default | Description |\n|-----------|------|---------|-------------|\n| `limit` | integer | 50 | Number of events (max 100) |\n| `before` | string | - | Cursor for pagination (event ID) |\n| `type` | string | - | Filter by event type: `play`, `subscribe` |","ref":"api-public.html#query-parameters-2"},{"type":"extras","title":"Response - Public API","doc":"```json\n{\n  \"events\": [\n    {\n      \"id\": \"evt-123\",\n      \"type\": \"play\",\n      \"user\": {\n        \"username\": \"podcast_lover\",\n        \"avatar_url\": \"https://example.com/avatar.jpg\"\n      },\n      \"podcast\": {\n        \"title\": \"Great Podcast\",\n        \"image_url\": \"https://example.com/cover.jpg\"\n      },\n      \"episode\": {\n        \"title\": \"Episode 42\"\n      },\n      \"timestamp\": \"2024-01-20T11:30:00Z\"\n    },\n    {\n      \"id\": \"evt-122\",\n      \"type\": \"subscribe\",\n      \"user\": {\n        \"username\": \"new_listener\"\n      },\n      \"podcast\": {\n        \"title\": \"Another Podcast\"\n      },\n      \"timestamp\": \"2024-01-20T11:25:00Z\"\n    }\n  ],\n  \"next_cursor\": \"evt-100\"\n}\n```","ref":"api-public.html#response-2"},{"type":"extras","title":"Podcast Popularity - Public API","doc":"Get detailed popularity statistics for a specific podcast.\n\n```http\nGET /api/v1/public/feed/:feed/popularity\n```","ref":"api-public.html#podcast-popularity"},{"type":"extras","title":"Path Parameters - Public API","doc":"| Parameter | Description |\n|-----------|-------------|\n| `feed` | Base64-encoded RSS feed URL |","ref":"api-public.html#path-parameters"},{"type":"extras","title":"Response - Public API","doc":"```json\n{\n  \"rss_source_feed\": \"aHR0cHM6Ly9mZWVkcy5leGFtcGxlLmNvbS9wb2RjYXN0\",\n  \"subscriber_count\": 1234,\n  \"total_plays\": 56789,\n  \"avg_completion_rate\": 0.72,\n  \"trending_rank\": 5,\n  \"stats_by_period\": {\n    \"day\": {\"plays\": 150, \"new_subscribers\": 10},\n    \"week\": {\"plays\": 890, \"new_subscribers\": 45},\n    \"month\": {\"plays\": 3200, \"new_subscribers\": 180}\n  }\n}\n```","ref":"api-public.html#response-3"},{"type":"extras","title":"Episode Popularity - Public API","doc":"Get popularity statistics for a specific episode.\n\n```http\nGET /api/v1/public/episode/:item/popularity\n```","ref":"api-public.html#episode-popularity"},{"type":"extras","title":"Path Parameters - Public API","doc":"| Parameter | Description |\n|-----------|-------------|\n| `item` | Base64-encoded episode identifier |","ref":"api-public.html#path-parameters-1"},{"type":"extras","title":"Response - Public API","doc":"```json\n{\n  \"rss_source_item\": \"Z3VpZC0xMjMsaHR0cHM6Ly9leGFtcGxlLmNvbS9lcDEubXAz\",\n  \"play_count\": 890,\n  \"unique_listeners\": 654,\n  \"completion_rate\": 0.75,\n  \"avg_position\": 2400,\n  \"shares\": 23\n}\n```","ref":"api-public.html#response-4"},{"type":"extras","title":"Example: Fetch Trending for App Homepage - Public API","doc":"```bash\n# Get top 10 podcasts this week\ncurl \"https://sync.balados.cloud/api/v1/public/trending/podcasts?limit=10&period=week\"\n\n# Get recent public activity\ncurl \"https://sync.balados.cloud/api/v1/public/timeline?limit=20\"\n```","ref":"api-public.html#example-fetch-trending-for-app-homepage"},{"type":"extras","title":"Privacy Note - Public API","doc":"Only activity from users who have set their privacy to `public` appears in the public API. Users can control their visibility in their privacy settings.","ref":"api-public.html#privacy-note"},{"type":"extras","title":"Balados Sync","doc":"# Balados Sync\n\nSystème CQRS/Event Sourcing pour la synchronisation d'écoutes de podcasts, d'abonnements et de playlists.","ref":"readme.html"},{"type":"extras","title":"Origine - Balados Sync","doc":"Le système a été codé par Claude.AI en suivant les instructions d'une note présente dans [docs/guides/ORIGINAL_NOTE.md](docs/guides/ORIGINAL_NOTE.md)","ref":"readme.html#origine"},{"type":"extras","title":"Documentation - Balados Sync","doc":"- [**CLAUDE.md**](CLAUDE.md) - Guide pour Claude Code (architecture, patterns, workflows)\n- [**docs/GOALS.md**](docs/GOALS.md) - Objectifs du projet, vision, roadmap\n- [**docs/technical/ARCHITECTURE.md**](docs/technical/ARCHITECTURE.md) - Architecture complète du système\n- [**docs/technical/DEVELOPMENT.md**](docs/technical/DEVELOPMENT.md) - Guide de développement\n- [**docs/technical/AUTH_SYSTEM.md**](docs/technical/AUTH_SYSTEM.md) - Système d'autorisation JWT\n- [**docs/technical/CQRS_PATTERNS.md**](docs/technical/CQRS_PATTERNS.md) - Patterns CQRS/Event Sourcing\n- [**docs/technical/TESTING_GUIDE.md**](docs/technical/TESTING_GUIDE.md) - Guide de tests\n- [**docs/api/**](docs/api/) - Documentation API (authentication, endpoints)","ref":"readme.html#documentation"},{"type":"extras","title":"Architecture - Balados Sync","doc":"```\nbalados_sync/\n├── apps/\n│   ├── balados_sync_core/        # Domain (CQRS/ES)\n│   │   ├── events/                # Events immuables\n│   │   ├── commands/              # Intentions\n│   │   ├── aggregates/            # Business logic\n│   │   └── router.ex              # Command routing\n│   ├── balados_sync_projections/  # Read models\n│   │   ├── schemas/               # Tables PostgreSQL\n│   │   └── projectors/            # Event handlers\n│   ├── balados_sync_web/          # API REST\n│   │   └── controllers/           # HTTP endpoints\n│   └── balados_sync_jobs/         # Workers\n│       └── snapshot_worker.ex     # Checkpoints & cleanup\n└── config/\n```","ref":"readme.html#architecture"},{"type":"extras","title":"Concepts clés - Balados Sync","doc":"","ref":"readme.html#concepts-clés"},{"type":"extras","title":"Event Sourcing - Balados Sync","doc":"- **Event Store** : Tous les événements sont stockés de façon immuable\n- **Checkpoints** : Snapshots créés tous les 5 minutes pour les events > 45 jours\n- **Cleanup** : Les events > 45 jours sont supprimés après checkpoint\n- ⚠️ **Exception** : Les deletion events suppriment l'historique concerné (disparaissent après 45j)","ref":"readme.html#event-sourcing"},{"type":"extras","title":"Privacy granulaire - Balados Sync","doc":"- **Public** : Données visibles avec user_id\n- **Anonymous** : Données visibles sans user_id\n- **Private** : Données cachées\n\nPrivacy configurable par :\n- Utilisateur (globale)\n- Podcast (feed)\n- Épisode (item)","ref":"readme.html#privacy-granulaire"},{"type":"extras","title":"Système de popularité - Balados Sync","doc":"Scores par action :\n- Subscribe : **10 points**\n- Play : **5 points**\n- Save/Like : **3 points**\n- Share : **2 points**\n\nRecalculé toutes les 5 minutes depuis l'event log.","ref":"readme.html#système-de-popularité"},{"type":"extras","title":"Installation - Balados Sync","doc":"","ref":"readme.html#installation"},{"type":"extras","title":"Prérequis - Balados Sync","doc":"- Elixir 1.17+\n- PostgreSQL 14+\n- Erlang 26+","ref":"readme.html#prérequis"},{"type":"extras","title":"Setup - Balados Sync","doc":"```bash\n# Cloner le projet\ngit clone  \ncd balados_sync\n\n# Installer les dépendances\nmix deps.get\n\n# Créer les bases de données (system schema + event store)\nmix db.create\n\n# Initialiser l'event store + migrer schéma system\nmix db.init\n\n# Lancer le projet\nmix phx.server\n```\n\nLe serveur démarre sur `http://localhost:4000`","ref":"readme.html#setup"},{"type":"extras","title":"Commandes de base de données - Balados Sync","doc":"**Installation initiale:**\n```bash\nmix db.create     # Crée BDD et event store\nmix db.init       # Initialise event store + migre system\n```\n\n**Pendant le développement:**\n```bash\nmix db.migrate        # Migrer le schéma system (après création migration)\nmix system_db.migrate # Idem (alias plus verbeux)\n\n# Resets SÉCURISÉS (demandent confirmation):\nmix db.reset --projections   # Reset projections uniquement (SAFE) ✅\nmix db.reset --system        # Reset system (users, tokens) ⚠️\nmix db.reset --events        # Reset event store (EXTREME!) ☢️\nmix db.reset --all           # Reset TOUT (EXTREME!) ☢️\n```\n\n**Note:** Le projet utilise 4 schémas PostgreSQL distincts :\n- **`system`** (permanent) : Users et tokens\n- **`events`** (permanent) : Event store (source de vérité)\n- **`public`** (transitoire) : Projections publiques (reconstruites depuis events)\n- Voir [Architecture de la Base de Données](#architecture-de-la-base-de-données) pour plus de détails\n\n⚠️ **Important:** Les commandes `mix ecto.reset`, `ecto.drop`, `ecto.migrate`, `ecto.create` sont **interdites**. Utilisez `mix db.*` à la place.","ref":"readme.html#commandes-de-base-de-données"},{"type":"extras","title":"Configuration - Balados Sync","doc":"","ref":"readme.html#configuration"},{"type":"extras","title":"Variables d'environnement - Balados Sync","doc":"```bash\n# Development\nexport DATABASE_URL=\"postgresql://postgres:postgres@localhost/balados_sync_dev\"\nexport EVENT_STORE_URL=\"postgresql://postgres:postgres@localhost/balados_sync_eventstore_dev\"\nexport SECRET_KEY_BASE=\"your-secret-key\"\n\n# Production\nexport PHX_HOST=\"api.example.com\"\nexport PORT=4000\n```","ref":"readme.html#variables-d-environnement"},{"type":"extras","title":"Génération de clés JWT (RS256) - Balados Sync","doc":"```bash\n# Générer une paire de clés\nopenssl genrsa -out private_key.pem 2048\nopenssl rsa -in private_key.pem -pubout -out public_key.pem\n```","ref":"readme.html#génération-de-clés-jwt-rs256"},{"type":"extras","title":"Dépendances supplémentaires - Balados Sync","doc":"Le projet nécessite les dépendances suivantes (déjà dans mix.exs) :\n\n```elixir\n# Core\n{:commanded, \"~> 1.4\"}\n{:eventstore, \"~> 1.4\"}\n{:ecto_sql, \"~> 3.12\"}\n{:postgrex, \"~> 0.19\"}\n\n# Web\n{:phoenix, \"~> 1.7\"}\n{:joken, \"~> 2.6\"}\n{:joken_jwks, \"~> 1.6\"}\n\n# RSS Proxy & Aggregation\n{:httpoison, \"~> 2.2\"}\n{:cachex, \"~> 3.6\"}\n{:sweet_xml, \"~> 0.7\"}\n{:timex, \"~> 3.7\"}\n\n# Jobs\n{:quantum, \"~> 3.5\"}\n```","ref":"readme.html#dépendances-supplémentaires"},{"type":"extras","title":"Configuration du subdomain play - Balados Sync","doc":"Pour tester en local, ajoutez à `/etc/hosts` :\n```\n127.0.0.1 balados.sync play.balados.sync\n```\n\nPuis dans `config/dev.exs` :\n```elixir\nconfig :balados_sync_web, BaladosSyncWeb.Endpoint,\n  url: [host: \"balados.sync\", port: 4000],\n  http: [ip: {127, 0, 0, 1}, port: 4000],\n  check_origin: false\n\nconfig :balados_sync_web,\n  play_domain: \"play.balados.sync\"\n```\n\nTestez :\n```bash\n# Devrait répondre normalement\ncurl http://balados.sync:4000/api/v1/public/trending/podcasts\n\n# Devrait utiliser le PlayGatewayController\ncurl -L http://play.balados.sync:4000/{token}/{feed}/{item}\n```","ref":"readme.html#configuration-du-subdomain-play"},{"type":"extras","title":"Utilisation de l'API - Balados Sync","doc":"","ref":"readme.html#utilisation-de-l-api"},{"type":"extras","title":"Authentification - Balados Sync","doc":"Toutes les requêtes authentifiées nécessitent un JWT dans le header :\n\n```bash\nAuthorization: Bearer  \n```\n\nLe JWT doit contenir :\n```json\n{\n  \"sub\": \"user_id\",\n  \"jti\": \"unique_token_id\",\n  \"device_id\": \"device_123\",\n  \"device_name\": \"iPhone de John\",\n  \"iat\": 1234567890,\n  \"exp\": 1234567890\n}\n```\n\nSigné avec RS256 et la clé privée correspondant à la public key enregistrée.","ref":"readme.html#authentification"},{"type":"extras","title":"Endpoints - Balados Sync","doc":"#### 1. Synchronisation complète\n\n```bash\nPOST /api/v1/sync\nContent-Type: application/json\nAuthorization: Bearer  \n\n{\n  \"subscriptions\": [\n    {\n      \"rss_source_feed\": \"aHR0cHM6Ly9leGFtcGxlLmNvbS9mZWVk\",\n      \"rss_source_id\": \"podcast_id\",\n      \"subscribed_at\": \"2024-01-15T10:30:00Z\",\n      \"unsubscribed_at\": null\n    }\n  ],\n  \"play_statuses\": [\n    {\n      \"rss_source_feed\": \"aHR0cHM6Ly9leGFtcGxlLmNvbS9mZWVk\",\n      \"rss_source_item\": \"ZXBpc29kZV8xMjM=\",\n      \"position\": 1250,\n      \"played\": false,\n      \"updated_at\": \"2024-01-15T11:00:00Z\"\n    }\n  ],\n  \"playlists\": []\n}\n```\n\n**Réponse :**\n```json\n{\n  \"status\": \"success\",\n  \"data\": {\n    \"subscriptions\": [...],\n    \"play_statuses\": [...],\n    \"playlists\": [...]\n  }\n}\n```\n\n#### 2. Abonnements\n\n```bash\n# S'abonner à un podcast\nPOST /api/v1/subscriptions\n{\n  \"rss_source_feed\": \"aHR0cHM6Ly9leGFtcGxlLmNvbS9mZWVk\",\n  \"rss_source_id\": \"podcast_id\"\n}\n\n# Se désabonner\nDELETE /api/v1/subscriptions/aHR0cHM6Ly9leGFtcGxlLmNvbS9mZWVk\n\n# Liste des abonnements actifs\nGET /api/v1/subscriptions\n```\n\n#### 3. Écoutes\n\n```bash\n# Enregistrer une écoute\nPOST /api/v1/play\n{\n  \"rss_source_feed\": \"aHR0cHM6Ly9leGFtcGxlLmNvbS9mZWVk\",\n  \"rss_source_item\": \"ZXBpc29kZV8xMjM=\",\n  \"position\": 1250,\n  \"played\": false\n}\n\n# Mettre à jour la position\nPUT /api/v1/play/ZXBpc29kZV8xMjM=/position\n{\n  \"position\": 2500\n}\n\n# Liste des statuts de lecture\nGET /api/v1/play?played=false&feed=aHR0cHM6Ly9leGFtcGxlLmNvbS9mZWVk&limit=50\n```\n\n#### 4. Épisodes\n\n```bash\n# Sauvegarder/liker un épisode\nPOST /api/v1/episodes/ZXBpc29kZV8xMjM=/save?feed=aHR0cHM6Ly9leGFtcGxlLmNvbS9mZWVk\n\n# Partager un épisode\nPOST /api/v1/episodes/ZXBpc29kZV8xMjM=/share?feed=aHR0cHM6Ly9leGFtcGxlLmNvbS9mZWVk\n```\n\n#### 5. Privacy\n\n```bash\n# Changer la privacy globale\nPUT /api/v1/privacy\n{\n  \"privacy\": \"anonymous\"\n}\n\n# Privacy pour un podcast spécifique\nPUT /api/v1/privacy\n{\n  \"privacy\": \"private\",\n  \"feed\": \"aHR0cHM6Ly9leGFtcGxlLmNvbS9mZWVk\"\n}\n\n# Privacy pour un épisode spécifique\nPUT /api/v1/privacy\n{\n  \"privacy\": \"public\",\n  \"feed\": \"aHR0cHM6Ly9leGFtcGxlLmNvbS9mZWVk\",\n  \"item\": \"ZXBpc29kZV8xMjM=\"\n}\n\n# Voir ses settings de privacy\nGET /api/v1/privacy\nGET /api/v1/privacy?feed=aHR0cHM6Ly9leGFtcGxlLmNvbS9mZWVk\n```\n\n#### 6. Données publiques (pas d'auth)\n\n```bash\n# Top podcasts trending\nGET /api/v1/public/trending/podcasts?limit=20\n\n# Top épisodes trending\nGET /api/v1/public/trending/episodes?limit=20&feed=aHR0cHM6Ly9leGFtcGxlLmNvbS9mZWVk\n\n# Popularité d'un podcast\nGET /api/v1/public/feed/aHR0cHM6Ly9leGFtcGxlLmNvbS9mZWVk/popularity\n\n# Popularité d'un épisode\nGET /api/v1/public/episode/ZXBpc29kZV8xMjM=/popularity\n\n# Timeline publique\nGET /api/v1/public/timeline?limit=50&offset=0&event_type=play&feed=aHR0cHM6Ly9leGFtcGxlLmNvbS9mZWVk\n```\n\n#### 7. RSS Proxy avec cache LRU (pas d'auth)\n\nProxy CORS pour accéder aux flux RSS depuis le navigateur avec cache de 5 minutes :\n\n```bash\n# Récupérer un flux RSS complet\nGET /api/v1/rss/proxy/aHR0cHM6Ly9leGFtcGxlLmNvbS9mZWVkLnhtbA==\nAccept: application/xml\n\n# Filtrer pour un seul épisode (par guid ET enclosure)\nGET /api/v1/rss/proxy/aHR0cHM6Ly9leGFtcGxlLmNvbS9mZWVkLnhtbA==/ZXBpc29kZV8xMjMsaHR0cHM6Ly9leGFtcGxlLmNvbS9lcC5tcDM=\nAccept: application/xml\n```\n\n**Headers de réponse :**\n- `Access-Control-Allow-Origin: *`\n- `Cache-Control: public, max-age=300`\n- `Content-Type: application/xml`\n\n**Cache LRU :**\n- 500 entrées max\n- TTL de 5 minutes\n- Eviction automatique LRU (Least Recently Used)\n\n#### 8. RSS Agrégé par utilisateur (avec user_token)\n\nFlux RSS personnalisés construits dynamiquement :\n\n```bash\n# Tous les épisodes de mes abonnements (100 derniers)\nGET /api/v1/rss/user/{user_token}/subscriptions\nAccept: application/xml\n\n# Épisodes d'une playlist\nGET /api/v1/rss/user/{user_token}/playlist/{playlist_id}\nAccept: application/xml\n```\n\n**Fonctionnalités :**\n- Fetch parallèle de tous les feeds via le proxy RSS\n- Merge des épisodes triés par date (desc)\n- Préfixe du nom du podcast : `[Tech Talks] Episode 42`\n- URLs enclosure remplacées par les passerelles play\n- Cache privé de 1 minute\n\n**Génération d'un user_token :**\n```bash\nPOST /api/v1/tokens\nAuthorization: Bearer  \n{\n  \"name\": \"My RSS Reader\"\n}\n\n# Réponse:\n{\n  \"token\": \"randomBase64Token\",\n  \"user_id\": \"user_123\"\n}\n```\n\n#### 9. Play Gateway (subdomain play.balados.sync)\n\nPasserelle qui enregistre une écoute et redirige vers l'enclosure :\n\n```bash\n# Format: https://play.balados.sync/{user_token}/{feed_id}/{item_id}\nGET https://play.balados.sync/randomToken123/aHR0cHM6Ly9leGFtcGxlLmNvbS9mZWVk/ZXBpc29kZV8xMjMsaHR0cHM6Ly9leGFtcGxlLmNvbS9lcC5tcDM=\n```\n\n**Workflow :**\n1. Vérifie le `user_token`\n2. Decode `feed_id` et `item_id` (base64)\n3. Dispatch une commande `RecordPlay` (async)\n4. Redirige 302 vers l'URL de l'enclosure réelle\n\n**Usage dans les flux agrégés :**\nTous les flux RSS personnalisés (`/user/:token/subscriptions` et `/playlist/:id`) utilisent automatiquement ces URLs comme enclosures, permettant de tracker les écoutes.\n\n**Exemple de réponse trending :**\n```json\n{\n  \"podcasts\": [\n    {\n      \"rss_source_feed\": \"aHR0cHM6Ly9leGFtcGxlLmNvbS9mZWVk\",\n      \"feed_title\": \"Tech Talks\",\n      \"feed_author\": \"John Doe\",\n      \"feed_cover\": {\n        \"src\": \"https://example.com/cover.jpg\",\n        \"srcset\": \"...\"\n      },\n      \"score\": 25420,\n      \"score_previous\": 20000,\n      \"plays\": 3420,\n      \"plays_previous\": 3000,\n      \"plays_people\": [\"user1\", \"user2\", \"user3\"],\n      \"likes\": 340,\n      \"likes_previous\": 300\n    }\n  ]\n}\n```","ref":"readme.html#endpoints"},{"type":"extras","title":"Architecture de la Base de Données - Balados Sync","doc":"La base de données PostgreSQL utilise **4 schémas distincts** gérés par **2 Ecto Repositories** :","ref":"readme.html#architecture-de-la-base-de-données"},{"type":"extras","title":"Architecture Multi-Repo - Balados Sync","doc":"#### SystemRepo (Données Permanentes)\n**Gestion**: `mix system.migrate`\n\nContient les données permanentes via la gestion de Ecto (CRUD direct) :\n- `users` : Utilisateurs enregistrés\n- `app_tokens` : Tokens JWT valides (App Auth)\n- `play_tokens` : Tokens de partage RSS\n\n**Caractéristiques**:\n- ❌ NOT event-sourced (JAMAIS)\n- ✅ Direct CRUD operations via Ecto\n- ⚠️  Données permanentes (non reconstruisibles)\n\n#### ProjectionsRepo (Projections Publiques)\n**Gestion**: `mix projections.migrate`\n\nContient les **projections reconstruites** depuis les events (read models) :\n- **Schéma `public`** : Données publiques\n  - `public_events` : Events publics/anonymes filtrés\n  - `podcast_popularity` : Stats de popularité par podcast\n  - `episode_popularity` : Stats de popularité par épisode\n  - `subscriptions` : Abonnements utilisateurs\n\n**Caractéristiques**:\n- ✅ Event-sourced (reconstruites depuis EventStore)\n- ✅ Peuvent être réinitialisées sans crainte (`mix db.reset --projections`)\n- 🔄 Automatiquement reconstruites via les projectors\n\n#### EventStore (Commanded)\n**Gestion**: `mix event_store.init -a balados_sync_core` (une seule fois)\n\nContient **tous les événements immuables** du système :\n- Chaque action (Subscribe, Play, etc.) crée un event\n- Les events sont immuables (pour \"supprimer\", émettre nouvel event)\n- Exception: Les deletion events suppriment l'historique concerné\n\n**Important**: ❌ **NE JAMAIS** modifier manuellement. Géré uniquement par Commanded.","ref":"readme.html#architecture-multi-repo"},{"type":"extras","title":"Configuration Flexible - Balados Sync","doc":"Ces deux repos **peuvent être dans la même BDD PostgreSQL avec schemas différents** (par défaut en dev) :\n```sql\n-- Une seule BDD avec 3 schemas\nCREATE SCHEMA system;    -- SystemRepo\nCREATE SCHEMA public;    -- ProjectionsRepo\nCREATE SCHEMA events;    -- EventStore\n```\n\nOu **séparés en différentes BDD** pour une meilleure isolation (recommandé en prod) :\n```\nbalados_sync_system      → SystemRepo (schema system)\nbalados_sync_projections → ProjectionsRepo (schema public)\nbalados_sync_events      → EventStore (schema events)\n```","ref":"readme.html#configuration-flexible"},{"type":"extras","title":"Commandes Référence - Balados Sync","doc":"| Commande | Cible | Contenu |\n|----------|-------|---------|\n| `mix db.create` | Tous | Crée BDD et schemas |\n| `mix db.init` | system + events | Initialise tout d'un coup |\n| `mix db.migrate` | system + projections | Migre les deux repos |\n| `mix system.migrate` | system | Migre SEULEMENT SystemRepo |\n| `mix projections.migrate` | public | Migre SEULEMENT ProjectionsRepo |","ref":"readme.html#commandes-référence"},{"type":"extras","title":"Reset Commands - Balados Sync","doc":"```bash\n# ✅ SAFE - Reset projections uniquement (preserve system + events)\nmix db.reset --projections\n\n# ⚠️  DANGER - Reset system schema (users, tokens)\nmix db.reset --system\n\n# ☢️ EXTREME - Reset event store\nmix db.reset --events\n\n# ☢️☢️ EXTREME - Reset TOUT\nmix db.reset --all\n```\n\n**Danger**:\n- ❌ `mix ecto.reset` = Réinitialise TOUT (events + system), **éviter**\n- ✅ `mix db.reset --projections` = Réinitialise projections seulement, **SAFE**","ref":"readme.html#reset-commands"},{"type":"extras","title":"Worker de maintenance - Balados Sync","doc":"Le `SnapshotWorker` s'exécute **toutes les 5 minutes** :\n\n1. **Checkpoint** : Crée des snapshots pour les users avec events > 45 jours\n2. **Recalcul** : Met à jour la popularité avec le système de points\n3. **Cleanup** : Supprime les events > 45 jours (après checkpoint)\n\nConfiguration dans `config/config.exs` :\n```elixir\nconfig :balados_sync_jobs, BaladosSyncJobs.Scheduler,\n  jobs: [\n    {\"*/5 * * * *\", {BaladosSyncJobs.SnapshotWorker, :perform, []}}\n  ]\n```","ref":"readme.html#worker-de-maintenance"},{"type":"extras","title":"Développement - Balados Sync","doc":"","ref":"readme.html#développement"},{"type":"extras","title":"Tests - Balados Sync","doc":"```bash\n# Lancer tous les tests\nmix test\n\n# Tests d'une app spécifique\ncd apps/balados_sync_core\nmix test\n\n# Avec coverage\nmix test --cover\n```","ref":"readme.html#tests"},{"type":"extras","title":"Console interactive - Balados Sync","doc":"```bash\n# Console avec toutes les apps chargées\niex -S mix\n\n# Dispatcher une command\nalias BaladosSyncCore.App\nalias BaladosSyncCore.Commands.Subscribe\n\nApp.dispatch(%Subscribe{\n  user_id: \"user_123\",\n  device_id: \"device_456\",\n  device_name: \"iPhone\",\n  rss_source_feed: \"base64_feed\",\n  rss_source_id: \"podcast_id\"\n})\n\n# Query les projections\nalias BaladosSyncProjections.Repo\nalias BaladosSyncProjections.Schemas.Subscription\nRepo.all(Subscription)\n```","ref":"readme.html#console-interactive"},{"type":"extras","title":"Replay d'events - Balados Sync","doc":"Si vous devez reconstruire les projections :\n\n```bash\n# Arrêter les projectors\n# Supprimer les données des projections (pas l'event store !)\nmix ecto.reset\n\n# Les projectors vont automatiquement rejouer tous les events\n```","ref":"readme.html#replay-d-events"},{"type":"extras","title":"Encodage RSS - Balados Sync","doc":"Les `rss_source_feed` et `rss_source_item` utilisent base64 :\n\n```elixir\n# Feed\nfeed_url = \"https://example.com/feed.xml\"\nrss_source_feed = Base.encode64(feed_url)\n\n# Item (guid + enclosure)\nguid = \"episode-123\"\nenclosure = \"https://example.com/episode.mp3\"\nrss_source_item = Base.encode64(\"#{guid},#{enclosure}\")\n```","ref":"readme.html#encodage-rss"},{"type":"extras","title":"Production - Balados Sync","doc":"","ref":"readme.html#production"},{"type":"extras","title":"Déploiement - Balados Sync","doc":"```bash\n# Build release\nMIX_ENV=prod mix release\n\n# Lancer\n_build/prod/rel/balados_sync/bin/balados_sync start\n```","ref":"readme.html#déploiement"},{"type":"extras","title":"Monitoring - Balados Sync","doc":"Le système expose des métriques via Phoenix LiveDashboard :\n\n```\nhttp://localhost:4000/dashboard\n```\n\nMétriques importantes :\n- Nombre d'events dans l'event store\n- Latence des projections\n- Nombre de users actifs\n- Popularité en temps réel","ref":"readme.html#monitoring"},{"type":"extras","title":"Troubleshooting - Balados Sync","doc":"","ref":"readme.html#troubleshooting"},{"type":"extras","title":"Les projections sont en retard - Balados Sync","doc":"```bash\n# Vérifier l'état des projections\niex -S mix\nBaladosSyncProjections.Projectors.SubscriptionProjector.state()\n```","ref":"readme.html#les-projections-sont-en-retard"},{"type":"extras","title":"Événements manquants - Balados Sync","doc":"Les events sont immuables. Si des données semblent manquer, vérifiez :\n1. Les filtres de privacy\n2. Les checkpoints récents\n3. Les logs du worker","ref":"readme.html#événements-manquants"},{"type":"extras","title":"Performance - Balados Sync","doc":"Pour améliorer les performances :\n1. Rafraîchir les vues matérialisées : `REFRESH MATERIALIZED VIEW site.trending_podcasts`\n2. Analyser les index : `ANALYZE users.subscriptions`\n3. Augmenter le pool size PostgreSQL dans la config","ref":"readme.html#performance"},{"type":"extras","title":"Licence - Balados Sync","doc":"MIT","ref":"readme.html#licence"},{"type":"extras","title":"Support - Balados Sync","doc":"Pour toute question : support@balados-sync.example.com","ref":"readme.html#support"}],"proglang":"elixir","content_type":"text/markdown","producer":{"name":"ex_doc","version":"0.39.1"}}